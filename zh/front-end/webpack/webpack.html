<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.62" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://harryxiong24.github.io/zh/front-end/webpack/webpack.html"><meta property="og:site_name" content="Harry Xiong"><meta property="og:title" content="Webpack"><meta property="og:description" content="[[toc]] 1. webpackç®€ä»‹ 1.1 Webpack webpack æ˜¯ä¸€ç§å‰ç«¯èµ„æºæ„å»ºå·¥å…·ï¼Œä¸€ä¸ªé™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚ åœ¨ webpack çœ‹æ¥, å‰ç«¯çš„æ‰€æœ‰èµ„æºæ–‡ä»¶(js/json/css/img/less/...)éƒ½ä¼šä½œä¸ºæ¨¡å—å¤„ç†ã€‚ å®ƒå°†æ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œæ‰“åŒ…ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æº(bundle)ã€‚..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-06-15T14:05:05.000Z"><meta property="article:author" content="Harry Xiong"><meta property="article:tag" content="Webpack"><meta property="article:published_time" content="2020-06-09T00:00:00.000Z"><meta property="article:modified_time" content="2023-06-15T14:05:05.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Webpack","image":[""],"datePublished":"2020-06-09T00:00:00.000Z","dateModified":"2023-06-15T14:05:05.000Z","author":[{"@type":"Person","name":"Harry Xiong","url":"https://harryxiong24.github.io"}]}</script><meta name="baidu-site-verification" content="Osv8SVNDzm"><meta name="description" content="IT Blog"><meta name="keywords" content="IT, Blog, Internet, sharing, IT skill"><link rel="icon" href="/favicon.ico"><title>Webpack | Harry Xiong</title>
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-04a9aa16.css" as="style"><link rel="stylesheet" href="/assets/style-04a9aa16.css">
    <link rel="modulepreload" href="/assets/app-4b15eca5.js"><link rel="modulepreload" href="/assets/webpack.html-bef938cf.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/webpack.html-410ed5c7.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/zh/" class="vp-brand"><img class="vp-nav-logo" src="/logo.png" alt="Harry Xiong"><!----><span class="vp-site-name hide-in-pad">Harry Xiong</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a href="/zh/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ–‡ç« "><span class="title"><span class="font-icon icon iconfont icon-article" style=""></span>æ–‡ç« </span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/article/react-function-component.html" class="nav-link" aria-label="React å‡½æ•°å¼ç»„ä»¶ vs ç±»ç»„ä»¶"><!---->React å‡½æ•°å¼ç»„ä»¶ vs ç±»ç»„ä»¶<!----></a></li><li class="dropdown-item"><a href="/zh/article/mobx.html" class="nav-link" aria-label="ä¸Šæ‰‹ Mobx"><!---->ä¸Šæ‰‹ Mobx<!----></a></li><li class="dropdown-item"><a href="/zh/article/webpack-hot-fresh.html" class="nav-link" aria-label="ä¸€æ–‡ææ‡‚ Webpack çƒ­æ›´æ–°åŸç†"><!---->ä¸€æ–‡ææ‡‚ Webpack çƒ­æ›´æ–°åŸç†<!----></a></li><li class="dropdown-item"><a href="/zh/article/js-traversal.html" class="nav-link" aria-label="ä¸€æ–‡æ€»ç»“ Javascript ä¸­çš„éå†æ–¹å¼"><!---->ä¸€æ–‡æ€»ç»“ Javascript ä¸­çš„éå†æ–¹å¼<!----></a></li><li class="dropdown-item"><a href="/zh/article/error-modal.html" class="nav-link" aria-label="ç»™ä½ çš„åº“æˆ–æ¡†æ¶è®¾è®¡ä¸€ä¸ªé€šç”¨é”™è¯¯å¤„ç†æ¨¡å‹"><!---->ç»™ä½ çš„åº“æˆ–æ¡†æ¶è®¾è®¡ä¸€ä¸ªé€šç”¨é”™è¯¯å¤„ç†æ¨¡å‹<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="éšç¬”"><span class="title"><span class="font-icon icon iconfont icon-exercise" style=""></span>éšç¬”</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/poem" class="nav-link" aria-label="å†™åœ¨å‰é¢"><!---->å†™åœ¨å‰é¢<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è¯—é›†</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/poem/life" class="nav-link" aria-label="ç”Ÿå‘½ä¹‹æ­Œ"><!---->ç”Ÿå‘½ä¹‹æ­Œ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å­¦ä¹ ç¬”è®°"><span class="title"><span class="font-icon icon iconfont icon-note" style=""></span>å­¦ä¹ ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/front-end" class="nav-link active" aria-label="Web å‰ç«¯"><span class="font-icon icon iconfont icon-code" style=""></span>Web å‰ç«¯<!----></a></li><li class="dropdown-item"><a href="/zh/back-end" class="nav-link" aria-label="Web åå°"><span class="font-icon icon iconfont icon-software" style=""></span>Web åå°<!----></a></li><li class="dropdown-item"><a href="/zh/computer-basic" class="nav-link" aria-label="è®¡ç®—æœºåŸºç¡€ç³»åˆ—"><span class="font-icon icon iconfont icon-computer" style=""></span>è®¡ç®—æœºåŸºç¡€ç³»åˆ—<!----></a></li><li class="dropdown-item"><a href="/zh/python" class="nav-link" aria-label="Python"><span class="font-icon icon iconfont icon-python" style=""></span>Python<!----></a></li><li class="dropdown-item"><a href="/zh/markdown/markdown.html" class="nav-link" aria-label="Markdown"><span class="font-icon icon iconfont icon-markdown" style=""></span>Markdown<!----></a></li><li class="dropdown-item"><a href="/zh/git" class="nav-link" aria-label="Git"><span class="font-icon icon iconfont icon-git" style=""></span>Git<!----></a></li><li class="dropdown-item"><a href="/zh/vscode" class="nav-link" aria-label="VSCode"><span class="font-icon icon iconfont icon-vscode" style=""></span>VSCode<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å…³äºæˆ‘"><span class="title"><span class="font-icon icon iconfont icon-profile" style=""></span>å…³äºæˆ‘</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/about-me/intro.html" class="nav-link" aria-label="About Me"><span class="font-icon icon iconfont icon-info" style=""></span>About Me<!----></a></li><li class="dropdown-item"><a href="/zh/about-me/contact.html" class="nav-link" aria-label="è”ç³»æˆ‘"><span class="font-icon icon iconfont icon-community" style=""></span>è”ç³»æˆ‘<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/" class="nav-link" aria-label="English"><!---->English<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html" class="router-link-active router-link-exact-active nav-link active" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/HarryXiong24/HarryXiong24.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-current="page" href="/zh/front-end/webpack/webpack.html" class="router-link-active router-link-exact-active nav-link active vp-sidebar-link vp-sidebar-page active" aria-label="Webpack"><span class="font-icon icon iconfont icon-Webpack" style=""></span>Webpack<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-webpackç®€ä»‹" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="1. webpackç®€ä»‹"><!---->1. webpackç®€ä»‹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-1-webpack" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="1.1 Webpack"><!---->1.1 Webpack<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-2-webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="1.2 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ"><!---->1.2 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-ä½¿ç”¨-webpack" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="2. ä½¿ç”¨ Webpack"><!---->2. ä½¿ç”¨ Webpack<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-1-å®‰è£…" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="2.1 å®‰è£…"><!---->2.1 å®‰è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-2-ç¼–è¯‘æ‰“åŒ…åº”ç”¨" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="2.2 ç¼–è¯‘æ‰“åŒ…åº”ç”¨"><!---->2.2 ç¼–è¯‘æ‰“åŒ…åº”ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-é…ç½®-webpack" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3. é…ç½® Webpack"><!---->3. é…ç½® Webpack<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-1-è¿è¡Œæ‰“åŒ…å‘½ä»¤" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.1 è¿è¡Œæ‰“åŒ…å‘½ä»¤"><!---->3.1 è¿è¡Œæ‰“åŒ…å‘½ä»¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-2-åŸºç¡€é…ç½®" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.2 åŸºç¡€é…ç½®"><!---->3.2 åŸºç¡€é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-3-æœ¬åœ°æœåŠ¡" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.3 æœ¬åœ°æœåŠ¡"><!---->3.3 æœ¬åœ°æœåŠ¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-4-æ”¯æŒæ¨¡æ¿-html" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.4 æ”¯æŒæ¨¡æ¿ html"><!---->3.4 æ”¯æŒæ¨¡æ¿ html<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-5-æ ·å¼å¤„ç†" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.5 æ ·å¼å¤„ç†"><!---->3.5 æ ·å¼å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-6-é«˜çº§-js-è½¬æ¢-es5" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.6 é«˜çº§ js è½¬æ¢ ES5"><!---->3.6 é«˜çº§ js è½¬æ¢ ES5<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-7-è¯­æ³•æ ¡éªŒ" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.7 è¯­æ³•æ ¡éªŒ"><!---->3.7 è¯­æ³•æ ¡éªŒ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-8-å…¨å±€å˜é‡å¼•å…¥" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.8 å…¨å±€å˜é‡å¼•å…¥"><!---->3.8 å…¨å±€å˜é‡å¼•å…¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-9-å›¾ç‰‡å¤„ç†" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.9 å›¾ç‰‡å¤„ç†"><!---->3.9 å›¾ç‰‡å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-10-æ‰“åŒ…å…¶ä»–èµ„æº" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="3.10 æ‰“åŒ…å…¶ä»–èµ„æº"><!---->3.10 æ‰“åŒ…å…¶ä»–èµ„æº<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-webpack-æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4. webpack æ€§èƒ½ä¼˜åŒ–"><!---->4. webpack æ€§èƒ½ä¼˜åŒ–<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-1-hmr" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.1 HMR"><!---->4.1 HMR<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-2-source-map" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.2 source-map"><!---->4.2 source-map<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-3-oneof" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.3 oneof"><!---->4.3 oneof<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-4-ç¼“å­˜" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.4 ç¼“å­˜"><!---->4.4 ç¼“å­˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-5-tree-shaking" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.5 tree shaking"><!---->4.5 tree shaking<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-6-ä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.6 ä»£ç åˆ†å‰²"><!---->4.6 ä»£ç åˆ†å‰²<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-7-æ‡’åŠ è½½ä¸é¢„åŠ è½½" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.7 æ‡’åŠ è½½ä¸é¢„åŠ è½½"><!---->4.7 æ‡’åŠ è½½ä¸é¢„åŠ è½½<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-8-pwa-ç¦»çº¿å¯è®¿é—®" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.8 PWAï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰"><!---->4.8 PWAï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-9-å¤šè¿›ç¨‹æ‰“åŒ…" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.9 å¤šè¿›ç¨‹æ‰“åŒ…"><!---->4.9 å¤šè¿›ç¨‹æ‰“åŒ…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-10-externals" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.10 externals"><!---->4.10 externals<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-11-dll" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="4.11 dll"><!---->4.11 dll<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-é…ç½®è¯¦è§£" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5. é…ç½®è¯¦è§£"><!---->5. é…ç½®è¯¦è§£<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-1-entry" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5.1 entry"><!---->5.1 entry<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-2-output" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5.2 output"><!---->5.2 output<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-3-module" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5.3 module"><!---->5.3 module<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-4-resolve" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5.4 resolve"><!---->5.4 resolve<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-5-devserver" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5.5 devServer"><!---->5.5 devServer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-6-optimization" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="5.6 optimization"><!---->5.6 optimization<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-webpack-é…ç½®æ¨¡æ¿" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="6. webpack é…ç½®æ¨¡æ¿"><!---->6. webpack é…ç½®æ¨¡æ¿<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-1-åŸºæœ¬æ¨¡æ¿" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="6.1 åŸºæœ¬æ¨¡æ¿"><!---->6.1 åŸºæœ¬æ¨¡æ¿<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-2-å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="6.2 å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®"><!---->6.2 å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-3-ç”Ÿäº§ç¯å¢ƒçš„é…ç½®" class="router-link-active router-link-exact-active nav-link vp-sidebar-link vp-heading" aria-label="6.3 ç”Ÿäº§ç¯å¢ƒçš„é…ç½®"><!---->6.3 ç”Ÿäº§ç¯å¢ƒçš„é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont icon-Webpack" style=""></span>Webpack</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://harryxiong24.github.io" target="_blank" rel="noopener noreferrer">Harry Xiong</a></span><span property="author" content="Harry Xiong"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2020-06-09T00:00:00.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/zh/front-end/webpack/webpack.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 45 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT45M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category5 clickable" role="navigation">Web å‰ç«¯</span><!--]--><meta property="articleSection" content="Web å‰ç«¯"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag0 clickable" role="navigation">Webpack</span><!--]--><meta property="keywords" content="Webpack"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-webpackç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">1. webpackç®€ä»‹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-1-webpack" class="router-link-active router-link-exact-active toc-link level3">1.1 Webpack</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-2-webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">1.2 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-ä½¿ç”¨-webpack" class="router-link-active router-link-exact-active toc-link level2">2. ä½¿ç”¨ Webpack</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-1-å®‰è£…" class="router-link-active router-link-exact-active toc-link level3">2.1 å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-2-ç¼–è¯‘æ‰“åŒ…åº”ç”¨" class="router-link-active router-link-exact-active toc-link level3">2.2 ç¼–è¯‘æ‰“åŒ…åº”ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-é…ç½®-webpack" class="router-link-active router-link-exact-active toc-link level2">3. é…ç½® Webpack</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-1-è¿è¡Œæ‰“åŒ…å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">3.1 è¿è¡Œæ‰“åŒ…å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-2-åŸºç¡€é…ç½®" class="router-link-active router-link-exact-active toc-link level3">3.2 åŸºç¡€é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-3-æœ¬åœ°æœåŠ¡" class="router-link-active router-link-exact-active toc-link level3">3.3 æœ¬åœ°æœåŠ¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-4-æ”¯æŒæ¨¡æ¿-html" class="router-link-active router-link-exact-active toc-link level3">3.4 æ”¯æŒæ¨¡æ¿ html</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-5-æ ·å¼å¤„ç†" class="router-link-active router-link-exact-active toc-link level3">3.5 æ ·å¼å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-6-é«˜çº§-js-è½¬æ¢-es5" class="router-link-active router-link-exact-active toc-link level3">3.6 é«˜çº§ js è½¬æ¢ ES5</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-7-è¯­æ³•æ ¡éªŒ" class="router-link-active router-link-exact-active toc-link level3">3.7 è¯­æ³•æ ¡éªŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-8-å…¨å±€å˜é‡å¼•å…¥" class="router-link-active router-link-exact-active toc-link level3">3.8 å…¨å±€å˜é‡å¼•å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-9-å›¾ç‰‡å¤„ç†" class="router-link-active router-link-exact-active toc-link level3">3.9 å›¾ç‰‡å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-10-æ‰“åŒ…å…¶ä»–èµ„æº" class="router-link-active router-link-exact-active toc-link level3">3.10 æ‰“åŒ…å…¶ä»–èµ„æº</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-webpack-æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active toc-link level2">4. webpack æ€§èƒ½ä¼˜åŒ–</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-1-hmr" class="router-link-active router-link-exact-active toc-link level3">4.1 HMR</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-2-source-map" class="router-link-active router-link-exact-active toc-link level3">4.2 source-map</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-3-oneof" class="router-link-active router-link-exact-active toc-link level3">4.3 oneof</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-4-ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level3">4.4 ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-5-tree-shaking" class="router-link-active router-link-exact-active toc-link level3">4.5 tree shaking</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-6-ä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active toc-link level3">4.6 ä»£ç åˆ†å‰²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-7-æ‡’åŠ è½½ä¸é¢„åŠ è½½" class="router-link-active router-link-exact-active toc-link level3">4.7 æ‡’åŠ è½½ä¸é¢„åŠ è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-8-pwa-ç¦»çº¿å¯è®¿é—®" class="router-link-active router-link-exact-active toc-link level3">4.8 PWAï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-9-å¤šè¿›ç¨‹æ‰“åŒ…" class="router-link-active router-link-exact-active toc-link level3">4.9 å¤šè¿›ç¨‹æ‰“åŒ…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-10-externals" class="router-link-active router-link-exact-active toc-link level3">4.10 externals</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-11-dll" class="router-link-active router-link-exact-active toc-link level3">4.11 dll</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-é…ç½®è¯¦è§£" class="router-link-active router-link-exact-active toc-link level2">5. é…ç½®è¯¦è§£</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-1-entry" class="router-link-active router-link-exact-active toc-link level3">5.1 entry</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-2-output" class="router-link-active router-link-exact-active toc-link level3">5.2 output</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-3-module" class="router-link-active router-link-exact-active toc-link level3">5.3 module</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-4-resolve" class="router-link-active router-link-exact-active toc-link level3">5.4 resolve</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-5-devserver" class="router-link-active router-link-exact-active toc-link level3">5.5 devServer</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-6-optimization" class="router-link-active router-link-exact-active toc-link level3">5.6 optimization</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-webpack-é…ç½®æ¨¡æ¿" class="router-link-active router-link-exact-active toc-link level2">6. webpack é…ç½®æ¨¡æ¿</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-1-åŸºæœ¬æ¨¡æ¿" class="router-link-active router-link-exact-active toc-link level3">6.1 åŸºæœ¬æ¨¡æ¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-2-å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®" class="router-link-active router-link-exact-active toc-link level3">6.2 å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-3-ç”Ÿäº§ç¯å¢ƒçš„é…ç½®" class="router-link-active router-link-exact-active toc-link level3">6.3 ç”Ÿäº§ç¯å¢ƒçš„é…ç½®</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> Webpack</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-webpackç®€ä»‹" class="router-link-active router-link-exact-active">1. webpackç®€ä»‹</a><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-1-webpack" class="router-link-active router-link-exact-active">1.1 Webpack</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_1-2-webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ" class="router-link-active router-link-exact-active">1.2 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ</a></li></ul></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-ä½¿ç”¨-webpack" class="router-link-active router-link-exact-active">2. ä½¿ç”¨ Webpack</a><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-1-å®‰è£…" class="router-link-active router-link-exact-active">2.1 å®‰è£…</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_2-2-ç¼–è¯‘æ‰“åŒ…åº”ç”¨" class="router-link-active router-link-exact-active">2.2 ç¼–è¯‘æ‰“åŒ…åº”ç”¨</a></li></ul></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-é…ç½®-webpack" class="router-link-active router-link-exact-active">3. é…ç½® Webpack</a><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-1-è¿è¡Œæ‰“åŒ…å‘½ä»¤" class="router-link-active router-link-exact-active">3.1 è¿è¡Œæ‰“åŒ…å‘½ä»¤</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-2-åŸºç¡€é…ç½®" class="router-link-active router-link-exact-active">3.2 åŸºç¡€é…ç½®</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-3-æœ¬åœ°æœåŠ¡" class="router-link-active router-link-exact-active">3.3 æœ¬åœ°æœåŠ¡</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-4-æ”¯æŒæ¨¡æ¿-html" class="router-link-active router-link-exact-active">3.4 æ”¯æŒæ¨¡æ¿ html</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-5-æ ·å¼å¤„ç†" class="router-link-active router-link-exact-active">3.5 æ ·å¼å¤„ç†</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-6-é«˜çº§-js-è½¬æ¢-es5" class="router-link-active router-link-exact-active">3.6 é«˜çº§ js è½¬æ¢ ES5</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-7-è¯­æ³•æ ¡éªŒ" class="router-link-active router-link-exact-active">3.7 è¯­æ³•æ ¡éªŒ</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-8-å…¨å±€å˜é‡å¼•å…¥" class="router-link-active router-link-exact-active">3.8 å…¨å±€å˜é‡å¼•å…¥</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-9-å›¾ç‰‡å¤„ç†" class="router-link-active router-link-exact-active">3.9 å›¾ç‰‡å¤„ç†</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_3-10-æ‰“åŒ…å…¶ä»–èµ„æº" class="router-link-active router-link-exact-active">3.10 æ‰“åŒ…å…¶ä»–èµ„æº</a></li></ul></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-webpack-æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active">4. webpack æ€§èƒ½ä¼˜åŒ–</a><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-1-hmr" class="router-link-active router-link-exact-active">4.1 HMR</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-2-source-map" class="router-link-active router-link-exact-active">4.2 source-map</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-3-oneof" class="router-link-active router-link-exact-active">4.3 oneof</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-4-ç¼“å­˜" class="router-link-active router-link-exact-active">4.4 ç¼“å­˜</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-5-tree-shaking" class="router-link-active router-link-exact-active">4.5 tree shaking</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-6-ä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active">4.6 ä»£ç åˆ†å‰²</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-7-æ‡’åŠ è½½ä¸é¢„åŠ è½½" class="router-link-active router-link-exact-active">4.7 æ‡’åŠ è½½ä¸é¢„åŠ è½½</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-8-pwa-ç¦»çº¿å¯è®¿é—®" class="router-link-active router-link-exact-active">4.8 PWAï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-9-å¤šè¿›ç¨‹æ‰“åŒ…" class="router-link-active router-link-exact-active">4.9 å¤šè¿›ç¨‹æ‰“åŒ…</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-10-externals" class="router-link-active router-link-exact-active">4.10 externals</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_4-11-dll" class="router-link-active router-link-exact-active">4.11 dll</a></li></ul></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-é…ç½®è¯¦è§£" class="router-link-active router-link-exact-active">5. é…ç½®è¯¦è§£</a><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-1-entry" class="router-link-active router-link-exact-active">5.1 entry</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-2-output" class="router-link-active router-link-exact-active">5.2 output</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-3-module" class="router-link-active router-link-exact-active">5.3 module</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-4-resolve" class="router-link-active router-link-exact-active">5.4 resolve</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-5-devserver" class="router-link-active router-link-exact-active">5.5 devServer</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_5-6-optimization" class="router-link-active router-link-exact-active">5.6 optimization</a></li></ul></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-webpack-é…ç½®æ¨¡æ¿" class="router-link-active router-link-exact-active">6. webpack é…ç½®æ¨¡æ¿</a><ul><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-1-åŸºæœ¬æ¨¡æ¿" class="router-link-active router-link-exact-active">6.1 åŸºæœ¬æ¨¡æ¿</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-2-å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®" class="router-link-active router-link-exact-active">6.2 å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®</a></li><li><a aria-current="page" href="/zh/front-end/webpack/webpack.html#_6-3-ç”Ÿäº§ç¯å¢ƒçš„é…ç½®" class="router-link-active router-link-exact-active">6.3 ç”Ÿäº§ç¯å¢ƒçš„é…ç½®</a></li></ul></li></ul></nav><h2 id="_1-webpackç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-webpackç®€ä»‹" aria-hidden="true">#</a> 1. <strong>webpack</strong>ç®€ä»‹</h2><h3 id="_1-1-webpack" tabindex="-1"><a class="header-anchor" href="#_1-1-webpack" aria-hidden="true">#</a> 1.1 Webpack</h3><p>webpack æ˜¯ä¸€ç§å‰ç«¯èµ„æºæ„å»ºå·¥å…·ï¼Œä¸€ä¸ªé™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚</p><p>åœ¨ webpack çœ‹æ¥, å‰ç«¯çš„æ‰€æœ‰èµ„æºæ–‡ä»¶(js/json/css/img/less/...)éƒ½ä¼šä½œä¸ºæ¨¡å—å¤„ç†ã€‚</p><p>å®ƒå°†æ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œæ‰“åŒ…ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æº(bundle)ã€‚</p><h3 id="_1-2-webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_1-2-webpack-äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a> 1.2 webpack äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h3><p><strong>1.2.1 Entry</strong></p><p>å…¥å£(Entry)æŒ‡ç¤º webpack ä»¥å“ªä¸ªæ–‡ä»¶ä¸ºå…¥å£èµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œåˆ†ææ„å»ºå†…éƒ¨ä¾èµ–å›¾ã€‚</p><p><strong>1.2.2 Output</strong></p><p>è¾“å‡º(Output)æŒ‡ç¤º webpack æ‰“åŒ…åçš„èµ„æº bundles è¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠå¦‚ä½•å‘½åã€‚</p><p><strong>1.2.3 Loader</strong></p><p>Loader è®© webpack èƒ½å¤Ÿå»å¤„ç†é‚£äº›é JavaScript æ–‡ä»¶ (webpack è‡ªèº«åªç†è§£ JavaScript)</p><p><strong>1.2.4 Plugins</strong></p><p>æ’ä»¶(Plugins)å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼Œä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ç­‰ã€‚</p><p><strong>1.2.5 Mode</strong></p><p>æ¨¡å¼(Mode)æŒ‡ç¤º webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„é…ç½®ã€‚</p><table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>development</td><td>ä¼šå°† DefinePlugin ä¸­ p<wbr>rocess.env.NODE_ENV çš„å€¼è®¾ç½®ä¸º developmentã€‚å¯ç”¨ NamedChunksPlugin å’Œ NamedModulesPluginã€‚</td><td>èƒ½è®©ä»£ç æœ¬åœ°è°ƒè¯•è¿è¡Œçš„ç¯å¢ƒ</td></tr><tr><td>production</td><td>ä¼šå°† DefinePlugin ä¸­ p<wbr>rocess.env.NODE_ENV çš„å€¼è®¾ç½®ä¸º productionã€‚å¯ç”¨ FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin å’Œ TerserPluginã€‚</td><td>èƒ½è®©ä»£ç ä¼˜åŒ–ä¸Šçº¿è¿è¡Œçš„ç¯å¢ƒ</td></tr></tbody></table><h2 id="_2-ä½¿ç”¨-webpack" tabindex="-1"><a class="header-anchor" href="#_2-ä½¿ç”¨-webpack" aria-hidden="true">#</a> 2. ä½¿ç”¨ Webpack</h2><h3 id="_2-1-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_2-1-å®‰è£…" aria-hidden="true">#</a> 2.1 å®‰è£…</h3><p><strong>webpack å¯ä»¥åœ¨é¡¹ç›®ä¸­è¿›è¡Œæœ¬åœ°çš„å®‰è£…ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå…¨å±€çš„å®‰è£…ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨æœ¬åœ°å®‰è£…çš„ webpack</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å…ˆåˆå§‹åŒ–é¡¹ç›®</span>
<span class="token function">npm</span> init <span class="token parameter variable">-y</span>
<span class="token comment"># æœ¬åœ°å®‰è£…ï¼Œwebpack4.xä¸­éœ€è¦åŒæ—¶å®‰è£…webpackå’Œwebpack-cli</span>
<span class="token function">npm</span> i webpack webpack-cli <span class="token parameter variable">-D</span>

<span class="token comment"># é¡¹ç›®æ ¹ç›®å½•è‡ªè¡Œåˆ›å»ºwebpack.config.jsæ–‡ä»¶</span>
</code></pre></div><p>**æ³¨ï¼š**webpack å¯ä»¥è¿›è¡Œé›¶é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´å®‰è£…å¥½ä¹‹åå°±å¯ä»¥ç›´æ¥è¿›è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œä½¿ç”¨<code>npx webpack</code>å°±å¯ä»¥ç›´æ¥è®© webpack è¿›è¡Œæ‰“åŒ…äº†ï¼Œé»˜è®¤ä¼šæ‰¾åˆ°æ ¹ç›®å½•ä¸‹çš„<code>src</code>ç›®å½•ä¸‹çš„<code>index.js</code>è¿›è¡Œæ‰“åŒ…ï¼ˆé»˜è®¤åªæ”¯æŒ js æ¨¡å—ï¼‰ï¼Œæ‰“åŒ…åä¼šç”Ÿæˆä¸€ä¸ª<code>dist</code>ç›®å½•,æ‰“åŒ…åçš„ js æ–‡ä»¶ä¼šæ•´åˆåˆ°ä¸€ä¸ª<code>main.js</code>æ–‡ä»¶ä¸­</p><h3 id="_2-2-ç¼–è¯‘æ‰“åŒ…åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-2-ç¼–è¯‘æ‰“åŒ…åº”ç”¨" aria-hidden="true">#</a> 2.2 ç¼–è¯‘æ‰“åŒ…åº”ç”¨</h3><ol><li><p>åˆ›å»ºæ–‡ä»¶</p></li><li><p>è¿è¡ŒæŒ‡ä»¤</p><p><strong>å¼€å‘ç¯å¢ƒæŒ‡ä»¤</strong>ï¼šwebpack src/js/index.js -o build/js/built.js --mode=development</p><p><strong>åŠŸèƒ½</strong>ï¼šwebpack èƒ½å¤Ÿç¼–è¯‘æ‰“åŒ… js å’Œ json æ–‡ä»¶ï¼Œå¹¶ä¸”èƒ½å°† es6 çš„æ¨¡å—åŒ–è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„è¯­æ³•ã€‚</p><p><strong>ç”Ÿäº§ç¯å¢ƒæŒ‡ä»¤</strong>ï¼šwebpack src/js/index.js -o build/js/built.js --mode=production</p><p><strong>åŠŸèƒ½</strong>ï¼šåœ¨å¼€å‘é…ç½®åŠŸèƒ½ä¸Šå¤šä¸€ä¸ªåŠŸèƒ½ï¼Œå‹ç¼©ä»£ç ã€‚</p></li><li><p>ç»“è®º</p><p>webpack èƒ½å¤Ÿç¼–è¯‘æ‰“åŒ… js å’Œ json æ–‡ä»¶ã€‚</p><p>èƒ½å°† es6 çš„æ¨¡å—åŒ–è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„è¯­æ³•ã€‚èƒ½å‹ç¼©ä»£ç ã€‚</p></li><li><p>é—®é¢˜</p><p>ä¸èƒ½ç¼–è¯‘æ‰“åŒ… cssã€img ç­‰æ–‡ä»¶ã€‚ä¸èƒ½å°† js çš„ es6 åŸºæœ¬è¯­æ³•è½¬åŒ–ä¸º es5 ä»¥ä¸‹è¯­æ³•ã€‚</p></li></ol><h2 id="_3-é…ç½®-webpack" tabindex="-1"><a class="header-anchor" href="#_3-é…ç½®-webpack" aria-hidden="true">#</a> 3. é…ç½® Webpack</h2><p>webpack é»˜è®¤çš„é›¶é…ç½®åŠŸèƒ½å¾ˆå¼±ï¼Œæ‰€ä»¥å¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è¿›è¡Œé…ç½®</p><h3 id="_3-1-è¿è¡Œæ‰“åŒ…å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_3-1-è¿è¡Œæ‰“åŒ…å‘½ä»¤" aria-hidden="true">#</a> 3.1 è¿è¡Œæ‰“åŒ…å‘½ä»¤</h3><p><strong>åœ¨ webpack ä¸­é»˜è®¤çš„é…ç½®æ–‡ä»¶æ˜¯<code>webpack.config.js</code>æˆ–è€…æ˜¯<code>webpackfile.js</code>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šé€‰æ‹©å‰è€…</strong>ã€‚</p><p>å½“ç„¶ï¼Œ<strong>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ§åˆ¶ webpack æ‰§è¡Œè‡ªå®šä¹‰å‘½åçš„é…ç½®æ–‡ä»¶</strong></p><p>ä½¿ç”¨<code>npx webpack --config</code>è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶åå°±èƒ½æ‰‹åŠ¨æ§åˆ¶ webpack æ‰¾åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶</p><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰“åŒ…éƒ½æ˜¯é€šè¿‡<code>npm run bulid</code>è¿™æ ·çš„æ–¹æ³•è¿›è¡Œé…ç½®çš„ï¼Œè¿™ç§å°±éœ€è¦åœ¨<code>package.json</code>ä¸­è‡ªå·±é…ç½®è‡ªå®šä¹‰è„šæœ¬äº†ï¼Œåœ¨ä¸‹é¢çš„<code>scripts</code>ä¸­é…ç½®è„šæœ¬</strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.config.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.39.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.6&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨ï¼š</strong></p><ul><li><p><strong>åœ¨è‡ªå®šä¹‰çš„è„šæœ¬ä¸­è¿è¡Œ webpack çš„æŒ‡ä»¤å‰é¢åé¢å†™å‚æ•°å°±ä¸éœ€è¦åŠ ä¸Š<code>npx</code>äº†</strong></p></li><li><p>ä¹Ÿå¯ä»¥ç›´æ¥åªåœ¨ build åé¢å†™ä¸€ä¸ª webpackï¼Œåœ¨æ‰“åŒ…çš„æ—¶å€™ä¼ å…¥å‚æ•°å°±è¡Œäº†ï¼ˆä¸è¿‡ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šè¿™ä¹ˆåšï¼‰ï¼Œä¸è¿‡ä¸èƒ½æ™®é€šåœ°è¿›è¡Œæ‹¼æ¥ï¼Œè¿˜éœ€è¦åœ¨<code>npm run build</code>åé¢åŠ ä¸Šä¸¤ä¸ª<code>--</code>æ‰èƒ½æ­£å¸¸ä¼ å‚ï¼Œ<strong>å¦‚<code>npm run build --config webpack.config.js</code></strong>ï¼Œä¸ç„¶ npm å¹¶ä¸ä¼šè®¤ä¸ºåé¢ä¼ çš„ä¸œè¥¿æ˜¯ä¸€ä¸ªå‚æ•°</p></li></ul><h3 id="_3-2-åŸºç¡€é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-2-åŸºç¡€é…ç½®" aria-hidden="true">#</a> 3.2 åŸºç¡€é…ç½®</h3><h4 id="_3-2-1-ä¸€èˆ¬é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-2-1-ä¸€èˆ¬é…ç½®" aria-hidden="true">#</a> 3.2.1 ä¸€èˆ¬é…ç½®</h4><p><strong>webpack æ˜¯ node å†™å‡ºæ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ node çš„è¯­æ³•æ¥è¿›è¡Œé…ç½®</strong>ï¼Œä¸‹é¢æ˜¯ webpack çš„åŸºæœ¬é…ç½®ï¼Œä»…èƒ½å¤Ÿå¯¹ js æ–‡ä»¶è¿›è¡Œæ‰“åŒ…</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>

<span class="token comment">// nodeå†…ç½®æ ¸å¿ƒæ¨¡å—ï¼Œç”¨æ¥å¤„ç†è·¯å¾„é—®é¢˜ã€‚</span>
<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼€å§‹é…ç½®</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * modeæ˜¯æ‰“åŒ…åçš„æ¨¡å¼ï¼Œé»˜è®¤æœ‰ä¸¤ç§ï¼Œproductionå’Œdevelopment
   * productionæ¨¡å¼ä¼šå‹ç¼©ä»£ç ï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒåæ‰“åŒ…çš„
   * è€Œdevelopmentä¸ä¼šå‹ç¼©ä»£ç ï¼Œä¾¿äºå¼€å‘è€…è§‚å¯Ÿæ‰“åŒ…åçš„ç»“æœ
   */</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¿™ä¸ªæ¨¡å¼åªå¯¹å‹ç¼©çš„jsæ–‡ä»¶æœ‰æ•ˆ</span>

  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…ç¨‹åºçš„å…¥å£</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;main.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…åçš„æ–‡ä»¶å</span>
    <span class="token doc-comment comment">/**
     * filename: &#39;main.[hash].js&#39;ï¼Œç”Ÿæˆhashæ–‡ä»¶åï¼Œå†™æˆè¿™ç§æ–¹å¼å¯ä»¥é˜²æ­¢è¦†ç›–å’Œç¼“å­˜ï¼Œæ¯æ¬¡ç”Ÿæˆçš„æ–‡ä»¶éƒ½ä¸ä¸€æ ·
     * filename: &#39;main.[hash:8].js&#39;// ç”Ÿæˆ8ä½çš„hashæ–‡ä»¶å
     */</span>

    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token doc-comment comment">/**
     * æ‰“åŒ…åçš„è·¯å¾„ï¼Œæ³¨æ„ï¼Œè¯¥è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„
     * path.resolveæ–¹æ³•ä¼šå°†ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„æ‹¼æ¥æˆä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œè¯¥è·¯å¾„é»˜è®¤æ˜¯ä»¥æ•´ä¸ªç³»ç»Ÿç›˜ä¸ºè·¯å¾„çš„
     * å¯ä»¥åœ¨å‰é¢åŠ ä¸€ä¸ª__dirnameå‚æ•°æ”¹å˜æˆä»¥å½“å‰æ ¹ç›®å½•ä¸ºç»å¯¹è·¯å¾„
     */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>webpack ä¸­ä¸‰ç§ä¸‰ç§ hash å€¼åŒºåˆ«ï¼š<a href="https://www.cnblogs.com/giggle/p/9583940.html" target="_blank" rel="noopener noreferrer">webpack ä¸‰ç§å“ˆå¸ŒåŒºåˆ«<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><h4 id="_3-2-1-ç®€å•æ‰“åŒ…åçš„æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-2-1-ç®€å•æ‰“åŒ…åçš„æ–‡ä»¶" aria-hidden="true">#</a> 3.2.1 ç®€å•æ‰“åŒ…åçš„æ–‡ä»¶</h4><p><strong>è¿™ä¸ªå¦‚æœä¸æƒ³äº†è§£åŸç†å¯ç•¥è¿‡</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// webpackBootstrap</span>
  <span class="token comment">// The module cache å…ˆå®šä¹‰ä¸€ä¸ªç¼“å­˜</span>
  <span class="token keyword">var</span> installedModules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// The require function é…ç½®å®ç°äº†requireå‡½æ•°</span>
  <span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‚æ•°&quot;./src/index.js&quot;</span>

    <span class="token comment">// Check if module is in cache æ¨¡å—æ˜¯å¦åœ¨ç¼“å­˜ä¸­</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Create a new module (and put it into the cache)</span>
    <span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">i</span><span class="token operator">:</span> moduleId<span class="token punctuation">,</span>
      <span class="token literal-property property">l</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Execute the module function æ‰§è¡Œä¼ å…¥thisæŒ‡å‘ï¼Œæ¨¡å—ï¼Œæ¨¡å—çš„ç©ºå¯¹è±¡exports: {}ï¼Œrequireæ–¹æ³•</span>
    modules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
      module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span>
      module<span class="token punctuation">,</span>
      module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span>
      __webpack_require__
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Flag the module as loaded</span>
    module<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token comment">// Return the exports of the module</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// expose the modules object (__webpack_modules__)</span>
  __webpack_require__<span class="token punctuation">.</span>m <span class="token operator">=</span> modules<span class="token punctuation">;</span>

  <span class="token comment">// expose the module cache</span>
  __webpack_require__<span class="token punctuation">.</span>c <span class="token operator">=</span> installedModules<span class="token punctuation">;</span>

  <span class="token comment">// define getter function for harmony exports</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports<span class="token punctuation">,</span> name<span class="token punctuation">,</span> getter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">o</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">get</span><span class="token operator">:</span> getter <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// define __esModule on exports</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">r</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Symbol <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span> Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;Module&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> <span class="token string">&quot;__esModule&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// create a fake namespace object</span>
  <span class="token comment">// mode &amp; 1: value is a module id, require it</span>
  <span class="token comment">// mode &amp; 2: merge all properties of value into the ns</span>
  <span class="token comment">// mode &amp; 4: return value when already ns object</span>
  <span class="token comment">// mode &amp; 8|1: behave like require</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">t</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> mode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> value <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">&amp;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">&amp;</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>__esModule<span class="token punctuation">)</span>
      <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> ns <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    __webpack_require__<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>ns<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>ns<span class="token punctuation">,</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">&amp;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> value <span class="token operator">!=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> value<span class="token punctuation">)</span>
        __webpack_require__<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>
          ns<span class="token punctuation">,</span>
          key<span class="token punctuation">,</span>
          <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> value<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ns<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// getDefaultExport function for compatibility with non-harmony modules</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> getter <span class="token operator">=</span>
      module <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>__esModule
        <span class="token operator">?</span> <span class="token keyword">function</span> <span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> module<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">getModuleExports</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> module<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
    __webpack_require__<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>getter<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> getter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> getter<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Object.prototype.hasOwnProperty.call</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">o</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">object<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> property<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// __webpack_public_path__</span>
  __webpack_require__<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// Load entry module and return exports</span>
  <span class="token keyword">return</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__webpack_require__<span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¼ å…¥å…¥å£æ¨¡å—</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token comment">//  è‡ªæ‰§è¡Œå‡½æ•°ä¼ å…¥ä¸€ä¸ªå¯¹è±¡å³modules</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// key</span>
    <span class="token string-property property">&quot;./src/a.js&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// value</span>
      <span class="token function">eval</span><span class="token punctuation">(</span>
        <span class="token string">&quot;module.exports = &#39;a_moudle&#39;\n\n//# sourceURL=webpack:///./src/a.js?&quot;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;./src/index.js&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span>
        <span class="token string">&#39;let str = __webpack_require__(/*! ./a.js */ &quot;./src/a.js&quot;)\r\n\r\nconsole.log(str)\n\n//# sourceURL=webpack:///./src/index.js?&#39;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-å®æ—¶æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_3-2-2-å®æ—¶æ‰“åŒ…" aria-hidden="true">#</a> 3.2.2 å®æ—¶æ‰“åŒ…</h4><p>å¦‚æœæƒ³è¦ webpack ç›‘å¬å·¥ä½œåŒºä¸­æ–‡ä»¶çš„æ”¹å˜è€Œå®æ—¶çš„æ‰“åŒ…å‡ºæ–°çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ webpack è‡ªå¸¦çš„ watch é€‰é¡¹</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ç›‘å¬çš„é…ç½®é¡¹</span>
    <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">poll</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token comment">// æ¯ç§’è¯¢é—®100æ¬¡</span>
        <span class="token literal-property property">aggregateTimeout</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">//é˜²æŠ–</span>
        <span class="token literal-property property">ignored</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span> <span class="token comment">//å¿½ç•¥æ–‡ä»¶</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-æœ¬åœ°æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_3-3-æœ¬åœ°æœåŠ¡" aria-hidden="true">#</a> 3.3 æœ¬åœ°æœåŠ¡</h3><p>åœ¨ä¹‹å‰çš„æ‰“åŒ…è¿‡ç¨‹ä¸­æˆ‘ä»¬åªèƒ½é€šè¿‡æ‰“åŒ…å¥½æ–‡ä»¶ç„¶ååŒå‡»æ–‡ä»¶æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œæ‰“åŒ…åçš„ä»£ç ï¼Œè€Œæˆ‘ä»¬å†å¼€å‘çš„æ—¶å€™æ›´å¸Œæœ›èƒ½é€šè¿‡æœ¬åœ°æœåŠ¡å™¨çš„æ–¹å¼è¿›è¡Œè®¿é—®ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹æ’ä»¶æ¥ç”Ÿæˆè¿™ä¸ªæœåŠ¡ï¼Œ<strong>åœ¨ webpack ä¸­å†…ç½®äº†ä¸€ä¸ªå¼€å‘æœåŠ¡<code>webpack-dev-server</code></strong></p><p>**æ³¨æ„ï¼š**è¯¥æœåŠ¡è¿›è¡Œçš„ä¸æ˜¯å®é™…çš„æ‰“åŒ…ï¼Œæ‰€ä»¥ä¸ä¼šåœ¨ dist ç›®å½•ä¸­ç”Ÿæˆæ–‡ä»¶ï¼Œè€Œæ˜¯è¿›è¡Œçš„å†…å­˜æ‰“åŒ…ï¼Œç”Ÿæˆçš„æ–‡ä»¶ä¹‹é—´è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬æ˜¯çœ‹ä¸åˆ°è¿™äº›æ–‡ä»¶çš„ï¼Œ<strong>åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½æ˜¯ç”¨çš„è¿™ç§å†…å­˜çš„æ‰“åŒ…</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i webpack-dev-server <span class="token parameter variable">-D</span>
</code></pre></div><p><strong>å®‰è£…å®Œæˆåè¿è¡Œ<code>npx webpack-dev-server</code>å°±èƒ½å¼€å¯è¯¥æœåŠ¡ï¼ˆä¸€èˆ¬ä¹Ÿæ˜¯åœ¨ package.json æ–‡ä»¶ä¸­é…ç½®è‡ªå·±çš„è„šæœ¬ï¼Œå¦‚<code>npm run dev</code>ï¼‰ï¼Œé»˜è®¤çš„ç«¯å£ä¸º<code>localhost:8080</code></strong>ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨<code>webpack.config.js</code>é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œ<strong>æœåŠ¡é…ç½®å†™åœ¨<code>devServer</code>ä¸­</strong></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack.config.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.config.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.39.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.8.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¼€å‘æœåŠ¡å™¨çš„é…ç½®</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token comment">// æ”¹å˜å¼€å¯çš„ç«¯å£å·</span>
    <span class="token literal-property property">progress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯å†…å­˜æ‰“åŒ…ä¸­çš„è¿›åº¦æ¡ï¼Œè¿™æ ·æˆ‘ä»¬èƒ½æ¸…æ¥šåœ°çœ‹åˆ°æ‰“åŒ…çš„è¿›ç¨‹</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&quot;./build&quot;</span><span class="token punctuation">,</span>
    <span class="token doc-comment comment">/**
     * å†…å­˜æ‰“åŒ…æŒ‡å‘çš„ç›®å½•
     * å¼€å¯æœåŠ¡å™¨æŒ‡å‘çš„å…¥å£æ‰“åŒ…æ–‡ä»¶çš„åœ°å€
     * é»˜è®¤æ˜¯index.htmlæ–‡ä»¶ï¼Œåˆ°ç›®å‰éœ€è¦è‡ªå·±åˆ›å»ºè¯¥htmlæ–‡ä»¶å’Œå¼•å…¥å¯¹åº”æ‰“åŒ…åçš„jsæ–‡ä»¶ï¼Œä¹‹åä¼šæœ‰è‡ªåŠ¨åˆ›å»º
     */</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//å‹ç¼©</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**æ³¨æ„ï¼š**ä¸Šé¢çš„<code>contentBase</code>å¯¹åº”çš„è·¯å¾„ä¸­ä¸€å®šè¦æœ‰è¿™ä¸ª html æ–‡ä»¶ï¼Œä¸ç„¶å°±ä¼šæ‰¾ä¸åˆ°ï¼Œ<strong>ä½†æ˜¯æˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­å…¶å®æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„ï¼Œä¹Ÿä¸ä¼šæ‰“åŒ…å¥½åå†å»å¼€å¯æœåŠ¡ï¼Œ<strong>æˆ‘ä»¬å¸Œæœ›çš„æ˜¯åœ¨å¯åŠ¨æœåŠ¡æ—¶è‡ªåŠ¨åœ¨</strong>å†…å­˜</strong>ä¸­åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨æœåŠ¡ç«¯ä¸Šç›´æ¥è®¿é—®äº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ª html æ’ä»¶è§£å†³è¿™ä¸ªé—®é¢˜</p><h3 id="_3-4-æ”¯æŒæ¨¡æ¿-html" tabindex="-1"><a class="header-anchor" href="#_3-4-æ”¯æŒæ¨¡æ¿-html" aria-hidden="true">#</a> 3.4 æ”¯æŒæ¨¡æ¿ html</h3><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ webpackl æ’ä»¶<code>html-webpack-plugin</code>å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨å»ºç«‹ä¸€ä¸ªæ¨¡æ¿ html æ–‡ä»¶æ‰“åŒ…åˆ°å†…å­˜ä¸­ï¼Œ<strong>ç„¶åå°†ä¸»è¦è¦æ‰“åŒ…çš„æ–‡ä»¶åŠ å…¥åˆ°æˆ‘ä»¬è®¾ç½®çš„æ¨¡æ¿ htmlï¼ˆè®¾ç½®çš„æ¨¡æ¿ html æ–‡ä»¶ä¸­çš„ä»£ç ä¼šåŸå°ä¸åŠ¨çš„æ‰“åŒ…è¾“å‡ºï¼Œæ‰€æœ‰çš„é…ç½®æ–‡ä»¶åªæ˜¯é’ˆå¯¹æ ¼å¼çš„ï¼Œå†…éƒ¨å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´è¿æ³¨é‡Šéƒ½ä¼šè¾“å‡ºè¿‡å»ï¼‰é‡Œé¢ï¼Œå¹¶ä¸”æŠŠç»“æœæ”¾åœ¨<code>devServer</code>æŒ‡å®šçš„æ‰“åŒ…æŒ‡å®šç›®å½•ä¸‹</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i html-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre></div><p><strong>å®‰è£…å®Œæˆåï¼Œåœ¨<code>plugins</code>å†…éƒ¨æ·»åŠ ä¸€ä¸ªå¯¹è±¡æ¥å®ç°ä½¿ç”¨</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> HTMLWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// pluginsæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ”¾ç€æ‰€æœ‰çš„webpackæ’ä»¶ï¼Œæ³¨æ„æ˜¯ä»ä¸‹åˆ°ä¸Šï¼Œå¦‚æœæœ‰å…³è”é¡¹éœ€è¦è€ƒè™‘ä½ç½®</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HTMLWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// htmlæ¨¡æ¿ï¼Œä¼šå»æ‰¾åˆ°è¿™ä¸ªæ¨¡æ¿</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…åçš„æ–‡ä»¶åï¼Œé»˜è®¤ä¸å†™ä¹Ÿæ˜¯index.html</span>
      <span class="token comment">// å¯¹æ‰“åŒ…çš„htmlæ¨¡æ¿è¿›è¡Œå‹ç¼©</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">removeAttributeQuotes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åˆ é™¤å±æ€§çš„åŒå¼•å·ï¼Œé™¤äº†ä¸€äº›ç‰¹æ®Šçš„åˆ é™¤ä¸äº†ä»¥å¤–éƒ½èƒ½åˆ é™¤</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æŠ˜å ç©ºè¡Œå°†æ‰€æœ‰ä»£ç å˜æˆä¸€è¡Œ</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç§»é™¤æ³¨é‡Š</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç»™æ‰“åŒ…ååœ¨æ¨¡æ¿ä¸­å¼•å…¥çš„æ–‡ä»¶åç”Ÿæˆhashæˆ³ï¼Œé˜²æ­¢ç¼“å­˜</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…¶ä½™å…·ä½“çš„æ’ä»¶å‚æ•°é€‰é¡¹è§ï¼š<a href="https://github.com/jantimon/html-webpack-plugin#options" target="_blank" rel="noopener noreferrer">html-webpack-plugin#options<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--æ‰“åŒ…å‰çš„æ¨¡æ¿--&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ¨¡æ¿ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--åŠ äº†ä¸Šè¿°å‚æ•°åæ‰“åŒ…åçš„æ–‡ä»¶--&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>en</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>UTF-8</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>viewport</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>X-UA-Compatible</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- æ¨¡æ¿ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>text/javascript</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>main.js?9a08db68a07b35e1f58a</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-5-æ ·å¼å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-5-æ ·å¼å¤„ç†" aria-hidden="true">#</a> 3.5 æ ·å¼å¤„ç†</h3><p>åœ¨è¿›è¡Œå¼•å…¥æ ·å¼å¤„ç†æ—¶ä¹Ÿéœ€è¦è¿›è¡Œé¢å¤–çš„é…ç½®ï¼Œéœ€è¦åœ¨<code>module</code>æ¨¡å—ä¸­å†™å…¥å¯¹åº”çš„ css è§„åˆ™ï¼Œç»™å¯¹åº”åŒ¹é…ä¸Šçš„è§„åˆ™æ·»åŠ  loaderï¼Œ<strong>ç„¶åç›´æ¥åœ¨å…¥å£çš„ js æ–‡ä»¶ä¸­ä½¿ç”¨å¼•ç”¨æ¨¡å— import æˆ– require å¼•ç”¨æ–‡ä»¶å³å¯ï¼ˆä¸å¼•ç”¨æ˜¯ä¸ä¼šæ‰“åŒ…çš„ï¼‰</strong></p><p>**æ³¨æ„ï¼š**è¯¥ css çš„ loader ä¼šå°†è§£æåçš„ css å†…å®¹æ’å…¥åˆ°é¡µé¢ head æ ‡ç­¾çš„æœ€åï¼Œå¦‚æœè‡ªå·±å†™äº†å¯¹äºçš„ css æ ·å¼å¯èƒ½ä¼šè¦†ç›–æ‰ï¼Œå¦‚æœæƒ³è¦è‡ªå·±åœ¨æ¨¡æ¿ html ä¸­å†™çš„æ ·å¼ç”Ÿæ•ˆï¼Œå¯ä»¥åœ¨<code>style-loader</code>çš„ options é€‰é¡¹ä¸­æ”¹å˜æ ·å¼æ’å…¥åˆ°æ¨¡æ¿ html çš„ head æ ‡ç­¾çš„ä½ç½®ï¼ˆæš‚æ—¶åªèƒ½é€šè¿‡è¿™ç§æ ·å¼å†™æ³•ï¼Œåé¢ä¼šæœ‰æŠ½ç¦»æˆæ–‡ä»¶çš„æ’ä»¶ï¼‰</p><p><strong>loader çš„ç”¨æ³•</strong></p><ul><li><p>å¦‚æœåªæœ‰ä¸€ä¸ª loaderï¼Œå¯ä»¥å†™æˆå•ä¸ªå­—ç¬¦ä¸²</p></li><li><p>å¦‚æœæœ‰å¤šä¸ª loaderï¼Œéœ€è¦å†™æˆå­—ç¬¦ä¸²æ•°ç»„</p></li><li><p>loader è¿˜å¯ä»¥å†™æˆå¯¹è±¡çš„å½¢å¼ï¼Œ<code>loader</code>å±æ€§å¯¹åº”è¦å†™çš„ loaderï¼Œè€Œè¿˜æœ‰ä¸€ä¸ª options å±æ€§åˆ™æ˜¯å¯ä»¥ä¼ å…¥å¯¹åº”çš„å‚æ•°</p></li><li><p><strong>loader çš„é¡ºåºé»˜è®¤æ˜¯ä»å³å‘å·¦ï¼Œä»ä¸‹åˆ°ä¸Šæ‰§è¡Œ</strong>ï¼ˆæ‰§è¡Œé¡ºåºéå¸¸é‡è¦ï¼Œå¦‚å¿…é¡»è¦å…ˆæ‰§è¡Œ<code>css-loader</code>æ‰èƒ½æ‰§è¡Œ<code>style-loader</code>ï¼‰</p></li></ul><h4 id="_3-5-1-å¤„ç†-css" tabindex="-1"><a class="header-anchor" href="#_3-5-1-å¤„ç†-css" aria-hidden="true">#</a> 3.5.1 å¤„ç† css</h4><p><strong>å¤„ç†æ™®é€šçš„ css æ–‡ä»¶åªéœ€è¦ä¸‹è½½ css-loader ä¸ style-loader å°±å¯ä»¥å®ç°</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i css-loader style-loader <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ¨¡å—é…ç½®</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// é…ç½®è§„åˆ™</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token doc-comment comment">/**
       * css-loaderè§£æcssä¸­çš„è¯­æ³•ï¼Œå¦‚@importè¿™ç§
       * style-loaderç”¨äºæŠŠcssæ’å…¥åˆ°æ¨¡æ¿htmlçš„headæ ‡ç­¾ä¸­
       * è‡³äºä¸ºä»€ä¹ˆè¦ä¸¤ä¸ªï¼Œæ˜¯å› ä¸ºloaderçš„èƒ½åŠ›å°½é‡è¦æ±‚å•ä¸€
       */</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é…cssç»“å°¾çš„æ–‡ä»¶</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token comment">// åˆ›å»ºstyleæ ‡ç­¾ï¼Œå°†jsçš„æ ·å¼èµ„æºæ’å…¥è¿›è¡Œï¼Œæ·»åŠ åˆ°headä¸­ç”Ÿæ•ˆ</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// æ”¹å˜æ ·å¼æ’å…¥çš„ä½ç½®ä¸ºheadæ ‡ç­¾çš„é¡¶éƒ¨</span>
              <span class="token literal-property property">insertAt</span><span class="token operator">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// å°†csså˜æˆcommonjsæ¨¡å—åŠ å…¥åˆ°jsä¸­ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯å­—ç¬¦ä¸²</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸»è¦è§£æ@importè¿™ç§è·¯å¾„</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-2-å¤„ç†-css-é¢„å¤„ç†å™¨" tabindex="-1"><a class="header-anchor" href="#_3-5-2-å¤„ç†-css-é¢„å¤„ç†å™¨" aria-hidden="true">#</a> 3.5.2 å¤„ç† css é¢„å¤„ç†å™¨</h4><p>ä½¿ç”¨ css é¢„å¤„ç†å™¨é™¤äº†è¦ä¸‹è½½ css-loader ä¸ style-loaderï¼Œè¿˜éœ€è¦é¢å¤–ä¸‹è½½å¯¹åº”é¢„å¤„ç†å™¨éœ€è¦çš„ loaderï¼Œå¦‚<code>sass-loader</code>ã€<code>less-loader</code>ä¸<code>stylus-loader</code>ï¼Œç”¨æ³•éƒ½ç›¸åŒï¼Œè¿™é‡Œä»…ä»¥ less ä¸ºä¾‹</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ä¸‹è½½less-loaderè‚¯å®šæ˜¯è¦ä½¿ç”¨lessçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯ä¸€èµ·ä¸‹è½½äº†</span>
<span class="token function">npm</span> i <span class="token function">less</span> less-loader <span class="token parameter variable">-D</span>
<span class="token comment"># ä¸‹è½½scss-loaderè‚¯å®šæ˜¯è¦ä½¿ç”¨scssçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯ä¸€èµ·ä¸‹è½½äº†</span>
<span class="token function">npm</span> i scss scss-loader <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ¨¡å—é…ç½®</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// é…ç½®è§„åˆ™</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token doc-comment comment">/**
       * css-loaderè§£æcssä¸­çš„è¯­æ³•ï¼Œå¦‚@importè¿™ç§
       * style-loaderç”¨äºæŠŠcssæ’å…¥åˆ°æ¨¡æ¿htmlçš„headæ ‡ç­¾ä¸­
       * è‡³äºä¸ºä»€ä¹ˆè¦ä¸¤ä¸ªï¼Œæ˜¯å› ä¸ºloaderçš„èƒ½åŠ›å°½é‡è¦æ±‚å•ä¸€
       */</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é…cssç»“å°¾çš„æ–‡ä»¶</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token comment">// åˆ›å»ºstyleæ ‡ç­¾ï¼Œå°†jsçš„æ ·å¼èµ„æºæ’å…¥è¿›è¡Œï¼Œæ·»åŠ åˆ°headä¸­ç”Ÿæ•ˆ</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// æ”¹å˜æ ·å¼æ’å…¥çš„ä½ç½®ä¸ºheadæ ‡ç­¾çš„é¡¶éƒ¨</span>
              <span class="token literal-property property">insertAt</span><span class="token operator">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// å°†csså˜æˆcommonjsæ¨¡å—åŠ å…¥åˆ°jsä¸­ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯å­—ç¬¦ä¸²</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸»è¦è§£æ@importè¿™ç§è·¯å¾„</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å¯ä»¥è§£ælessæ–‡ä»¶</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// æ”¹å˜æ ·å¼æ’å…¥çš„ä½ç½®ä¸ºheadæ ‡ç­¾çš„é¡¶éƒ¨</span>
              <span class="token literal-property property">insertAt</span><span class="token operator">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸»è¦è§£æ@importè¿™ç§è·¯å¾„</span>
          <span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸»è¦æŠŠlessè½¬æ¢ä¸ºcss</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å¯ä»¥è§£æscssæ–‡ä»¶</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// æ”¹å˜æ ·å¼æ’å…¥çš„ä½ç½®ä¸ºheadæ ‡ç­¾çš„é¡¶éƒ¨</span>
              <span class="token literal-property property">insertAt</span><span class="token operator">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸»è¦è§£æ@importè¿™ç§è·¯å¾„</span>
          <span class="token string">&quot;scss-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä¸»è¦æŠŠlessè½¬æ¢ä¸ºcss</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…¶ä½™çš„ less-loader çš„é…ç½®è¯¦è§ï¼š<a href="https://webpack.js.org/loaders/less-loader/#src/components/Sidebar/Sidbar.jsx" target="_blank" rel="noopener noreferrer">less-loader<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><h4 id="_3-5-3-æŠ½ç¦»æ ·å¼" tabindex="-1"><a class="header-anchor" href="#_3-5-3-æŠ½ç¦»æ ·å¼" aria-hidden="true">#</a> 3.5.3 æŠ½ç¦»æ ·å¼</h4><p>é»˜è®¤æƒ…å†µä¸‹æ ·å¼æ–‡ä»¶æ˜¯æ”¾åœ¨ js ä¸­çš„ï¼Œå¦‚æœæƒ³è¦å°†æ·»åŠ åˆ° html æ¨¡æ¿ä¸­çš„ css æ ·å¼å•ç‹¬ä½œä¸ºä¸€ä¸ªæ–‡ä»¶æŠ½ç¦»å‡ºæ¥ï¼Œè‡ªåŠ¨é€šè¿‡ link æ ‡ç­¾è¿›è¡Œå¼•å…¥ï¼Œè¿˜éœ€è¦å¼•å…¥ä¸“é—¨æŠ½ç¦» css æ ·å¼çš„æ’ä»¶<code>mini-css-extract-plugin</code></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i mini-css-extract-plugin <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥æ’ä»¶</span>
<span class="token keyword">let</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/*
    æ³¨æ„,å¦‚æœæƒ³è¦åˆ†ä¸ºå¤šä¸ªä¸åŒçš„cssæ–‡ä»¶ï¼Œé‚£ä¹ˆå°±requireå¼•å…¥å¤šæ¬¡æ’ä»¶ï¼Œå–ä¸åŒçš„åå­—ï¼Œç„¶åéƒ½åœ¨è¿™ä½¿ç”¨ï¼Œé€šå¸¸è¿™ç§æ–¹å¼æ˜¯è¦åŒºåˆ†å„ä¸ªé¢„å¤„ç†å™¨è½¬æ¢åçš„æ–‡ä»¶
    */</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/main.css&#39;</span> <span class="token comment">//è¦æŠ½ç¦»ååœ¨æ‰“åŒ…åç›®å½•ä¸­çš„æ–‡ä»¶å</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// å°†style-loaderæ›¿æ¢ä¸ºæ’ä»¶çš„loaderï¼Œå› ä¸ºstyle-loaderæ˜¯å°†jsä¸­çš„csså˜æˆstyleæ ‡ç­¾æ’å…¥htmlä¸­</span>
          <span class="token comment">// MiniCssExtractPlugin.loader, å¯ä»¥ç›´æ¥è¿™æ ·å†™ï¼Œè¿™ä¸ªloaderç›´æ¥æ˜¯ä¸ªå­—ç¬¦ä¸²</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;css-loader&#39;</span> <span class="token comment">//ä¸»è¦è§£æ@importè¿™ç§è·¯å¾„</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…¶ä½™ mini-css-extract-plugin çš„é…ç½®ä¿¡æ¯è¯¦è§ï¼š<a href="https://github.com/webpack-contrib/mini-css-extract-plugin" target="_blank" rel="noopener noreferrer">mini-css-extract-plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><h4 id="_3-5-4-å‹ç¼©-css-ä¸-js" tabindex="-1"><a class="header-anchor" href="#_3-5-4-å‹ç¼©-css-ä¸-js" aria-hidden="true">#</a> 3.5.4 å‹ç¼© css ä¸ js</h4><ul><li><p>é€šè¿‡æ”¹å˜å‹ç¼©é¡¹</p><p>è¦å‹ç¼©æŠ½ç¦»å‡ºæ¥<code>mini-css-extract-plugin</code>çš„ css æ–‡ä»¶å°±å¿…é¡»è¦æ‰“ä¹± webpack é»˜è®¤çš„å‹ç¼© js æ–‡ä»¶çš„è§„åˆ™(webpackl é»˜è®¤è°ƒç”¨äº†ä¸€ä¸ªå‹ç¼© js çš„æ’ä»¶ terser-webpack-plugin è¿›è¡Œå‹ç¼©)ï¼Œè¿™æ—¶å€™å‹ç¼© js æ–‡ä»¶éœ€è¦ç›´æ¥å¼•ç”¨æ’ä»¶æ¥è¿›è¡Œä¼˜åŒ–</p><p>æ³¨æ„ï¼š</p><p>è¦çœ‹åˆ°å‹ç¼©æ•ˆæœéœ€è¦æ”¹ä¸ºç”Ÿäº§ç¯å¢ƒè§‚å¯Ÿï¼Œå¦åˆ™å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒå°†ç›´æ¥è·³è¿‡ä¼˜åŒ–é¡¹</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># terser-webpack-pluginä¸éœ€è¦å®‰è£…ï¼Œwebpackæœ¬èº«å°±è‡ªå¸¦äº†</span>
<span class="token function">npm</span> i optimize-css-assets-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre></div></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//è¿™ä¸‰ä¸ªæ’ä»¶è¿›è¡Œç»„åˆå¯ä»¥æ‰“åŒ…å‹ç¼©csså’Œjs</span>
<span class="token keyword">let</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> TerserJSPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;terser-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> OptimizeCSSAssetsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;optimize-css-assets-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¼˜åŒ–ä»£ç å±æ€§</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‹ç¼©ä»£ç çš„é€‰é¡¹,ä¼ å…¥å‹ç¼©jsä¸å‹ç¼©cssçš„æ’ä»¶</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TerserJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/*
    æ³¨æ„,å¦‚æœæƒ³è¦åˆ†ä¸ºå¤šä¸ªä¸åŒçš„cssæ–‡ä»¶ï¼Œé‚£ä¹ˆå°±requireå¼•å…¥å¤šæ¬¡æ’ä»¶ï¼Œå–ä¸åŒçš„åå­—ï¼Œç„¶åéƒ½åœ¨è¿™ä½¿ç”¨ï¼Œé€šå¸¸è¿™ç§æ–¹å¼æ˜¯è¦åŒºåˆ†å„ä¸ªé¢„å¤„ç†å™¨è½¬æ¢åçš„æ–‡ä»¶
    */</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;main.css&quot;</span><span class="token punctuation">,</span> <span class="token comment">//è¦æŠ½ç¦»åçš„æ–‡ä»¶å</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>é€šè¿‡æ’ä»¶å¼•å…¥</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> OptimizeCSSAssetsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;optimize-css-assets-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/*
    æ³¨æ„,å¦‚æœæƒ³è¦åˆ†ä¸ºå¤šä¸ªä¸åŒçš„cssæ–‡ä»¶ï¼Œé‚£ä¹ˆå°±requireå¼•å…¥å¤šæ¬¡æ’ä»¶ï¼Œå–ä¸åŒçš„åå­—ï¼Œç„¶åéƒ½åœ¨è¿™ä½¿ç”¨ï¼Œé€šå¸¸è¿™ç§æ–¹å¼æ˜¯è¦åŒºåˆ†å„ä¸ªé¢„å¤„ç†å™¨è½¬æ¢åçš„æ–‡ä»¶
    */</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;main.css&quot;</span><span class="token punctuation">,</span> <span class="token comment">//è¦æŠ½ç¦»åçš„æ–‡ä»¶å</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å‹ç¼©css</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_3-5-5-æ·»åŠ æµè§ˆå™¨å‰ç¼€" tabindex="-1"><a class="header-anchor" href="#_3-5-5-æ·»åŠ æµè§ˆå™¨å‰ç¼€" aria-hidden="true">#</a> 3.5.5 æ·»åŠ æµè§ˆå™¨å‰ç¼€</h4><p>ä¸€èˆ¬æ¥è¯´å¤„ç† css ç›¸å…³çš„æ–‡ä»¶ä»¥åŠè½¬æ¢ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨<code>postcss</code>ä¸€ç³»åˆ—çš„æ’ä»¶</p><ul><li><p>ä½¿ç”¨ postcss-loader ä¸ postcss-preset-env</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i postcss-loader postcss-preset-env <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// postcssé»˜è®¤ä¼šæ‰¾browserslistä¸­çš„productionçš„é…ç½®é¡¹ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨å¼€å‘ç¯å¢ƒçš„é…ç½®é¡¹ï¼Œéœ€è¦è®¾ç½®NODE_ENV</span>
process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token comment">// å¸®postcssæ‰¾åˆ°package.jsonä¸­çš„browserslisté‡Œé¢çš„é…ç½®æ¥åŠ è½½æ‰§è¡Œå…¼å®¹æ ·å¼</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">ident</span><span class="token operator">:</span> <span class="token string">&quot;postcss&quot;</span><span class="token punctuation">,</span>
              <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">//postcssæ’ä»¶</span>
                <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;postcss-preset-env&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;last 1 chrome version&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;last 1 firefox version&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;last 1 safari version&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;&gt;0.2%&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;not dead&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;not op_mino all&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>è¦ä¸ºæ‰“åŒ…åçš„ css æ–‡ä»¶è‡ªåŠ¨å…¼å®¹å…¶ä½™æµè§ˆå™¨ï¼ˆä¹Ÿå°±æ˜¯è¦åœ¨å‰é¢æ·»åŠ å‰ç¼€ï¼‰ï¼Œ<strong>éœ€è¦å¼•å…¥ postcss-loader ä¸ css ä¼˜åŒ–æ’ä»¶ autoprefixer</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#postcss-loaderæ˜¯ä¸“é—¨ä¼˜åŒ–cssçš„loader,è€Œautoprefixeråªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ’ä»¶</span>
<span class="token function">npm</span> i postcss-loader autoprefixer <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">//postcss-loaderè‡ªåŠ¨ä¸ºæµè§ˆå™¨æ·»åŠ å‰ç¼€ï¼Œä¸è¿‡éœ€è¦å…ˆå¤„ç†è¿™ä¸ªloaderå†å¤„ç†css-loader</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//å¯ä»¥è§£ælessæ–‡ä»¶</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">//æ”¹å˜æ ·å¼æ’å…¥çš„ä½ç½®ä¸ºheadæ ‡ç­¾çš„é¡¶éƒ¨</span>
              <span class="token literal-property property">insertAt</span><span class="token operator">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//è¦å¤„ç†lessæ–‡ä»¶ä¹Ÿæ˜¯ä¸€æ ·</span>
          <span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸Šé¢åªæ˜¯åˆ†é…äº† postcss-loaderï¼Œä¸‹é¢è¿˜éœ€è¦å¤„ç† postcss-loader å¯¹åº”çš„æ’ä»¶</strong>ï¼Œpostcss-loader éœ€è¦æˆ‘ä»¬æœ‰ä¸€ä¸ª<code>postcss.config.js</code>çš„æ–‡ä»¶æ¥å¤„ç†è¯¥ loader</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// postcss.config.js`</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//å¯¼å‡ºpostcss-loaderéœ€è¦çš„æ’ä»¶ï¼Œè¯¥æ’ä»¶å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè£…æœ‰éœ€è¦è§£æçš„æ’ä»¶</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">overrideBrowserslist</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;last 10 versions&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å¼•å…¥å¹¶ç›´æ¥ä½¿ç”¨autoprefixerï¼Œæ–¹æ³•çš„å¯¹è±¡å‚æ•°æ˜¯å¯¹åº”è¦æ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬ï¼Œå…·ä½“çœ‹æ–‡æ¡£</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>å…¶ä½™ postcss-loader çš„é…ç½®ä¿¡æ¯è¯¦è§ï¼š<a href="https://github.com/postcss/postcss-loader" target="_blank" rel="noopener noreferrer">postcss-loader<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><h3 id="_3-6-é«˜çº§-js-è½¬æ¢-es5" tabindex="-1"><a class="header-anchor" href="#_3-6-é«˜çº§-js-è½¬æ¢-es5" aria-hidden="true">#</a> 3.6 é«˜çº§ js è½¬æ¢ ES5</h3><p><strong>å°†é«˜çº§çš„ js è½¬æ¢ä¸º ES5 éƒ½éœ€è¦ç”¨åˆ° babel</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># éœ€è¦ä½¿ç”¨babel-loaderå¯¹é«˜çº§è¯­æ³•è¿›è¡Œè½¬æ¢ï¼Œ@babel/core åˆ™æ˜¯babelæ ¸å¿ƒæ¨¡å—ï¼Œè°ƒç”¨transformæ–¹æ³•è¿›è¡Œè½¬æ¢</span>
<span class="token function">npm</span> i babel-loader @babel/core <span class="token parameter variable">-D</span>
</code></pre></div><h4 id="_3-6-1-åŸºæœ¬è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_3-6-1-åŸºæœ¬è½¬æ¢" aria-hidden="true">#</a> 3.6.1 åŸºæœ¬è½¬æ¢</h4><p>å°† ES6 è½¬æ¢ä¸º ES5 è¿˜éœ€è¦é…ç½® babel çš„è½¬æ¢æ¨¡å—<code>@babel/preset-env</code>ï¼Œè¯¥æ¨¡å—å°†ä¸€äº›æ ‡å‡†çš„ js è¯­æ³•è½¬æ¢ä¸ºä½çº§çš„è¯­æ³•</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#æ‰€ä»¥è¦ES6è½¬æ¢ä¸ºES5éœ€è¦è¿™ä¸‰ä¸ª</span>
<span class="token function">npm</span> i babel-loader @babel/core @babel/preset-env <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">//ç”¨babel-loaderéœ€è¦æŠŠES6è½¬æ¢ä¸ºES5,ä¸ºloaderæ·»åŠ é¢„è®¾é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å°±èƒ½è§£å†³ç‹­ä¹‰çš„ES6è¯­æ³•</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯babelç¼“å­˜ï¼Œç¬¬äºŒæ¬¡æ„å»ºæ—¶ä¼šè¯»å–ä¹‹å‰çš„ç¼“å­˜</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// è¿™é‡Œçš„jsè½¬æ¢åªåŒ…æ‹¬srcç›®å½•ä¸‹çš„</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤node_modulesç›®å½•</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**æ³¨æ„ï¼š**åªæ˜¯ç”¨<code>@babel/preset-env</code>åªèƒ½è½¬æ¢åŸºæœ¬çš„ ES6 è¯­æ³•ï¼Œå¾ˆå¤šé«˜çº§ api æ˜¯ä¸èƒ½è½¬æ¢çš„ï¼Œæ¯”å¦‚ Promise</p><h4 id="_3-6-2-å…¨éƒ¨è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_3-6-2-å…¨éƒ¨è½¬æ¢" aria-hidden="true">#</a> 3.6.2 å…¨éƒ¨è½¬æ¢</h4><p>**babel é»˜è®¤åªä¼šè½¬æ¢å†…ç½®çš„é«˜çº§çš„è¯­æ³•ï¼Œä½†æ˜¯ä¸èƒ½è½¬æ¢è¯¥è¯­æ³•å†…ç½®çš„ apiï¼Œå°±ç®—è½¬æ¢äº†å†…ç½®çš„ api ä¹Ÿä¸ä¼šå†…ç½®è½¬æ¢çš„æ–¹æ³•ï¼Œ**ä¹Ÿå°±æ˜¯è¯´ä¸€äº›é«˜çº§çš„ js è¯­æ³•æ˜¯ç”±ä½çº§è¯­æ³•çš„ api å®ç°çš„ï¼Œä½†æ˜¯ babel åªæ˜¯å°†è¯¥ api è½¬æ¢äº†å‡ºæ¥ï¼Œä½†æ˜¯ä½çº§çš„ api æœ¬èº«ä¸åœ¨ä»£ç ä¸­ï¼Œ**è¿™æ—¶å€™è¿˜éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶åŒ…<code>@babel/plugin-transform-runtime</code>ï¼Œ**è¯¥æ’ä»¶æ˜¯ä¸€ä¸ªå¼€å‘æ—¶ç”¨çš„æ’ä»¶ï¼Œä½†æ˜¯ï¼Œ<strong>å¦‚æœè¦ä¸Šçº¿è¿˜ä¼šä¸ºç”Ÿäº§åçš„ä»£ç ä¸­è¾“å‡ºä¸€äº›è„šæœ¬ï¼Œè¿™æ—¶ï¼Œè¿˜éœ€è¦å¦å¤–ä¸€ä¸ª<code>@babel/runtime</code>åœ¨ä¸Šçº¿çš„æ—¶å€™ä¸ºæˆ‘ä»¬æ·»åŠ è¯¥æ’ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ’ä»¶æ˜¯è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è¦è½¬æ¢åˆ°ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„ï¼Œéœ€è¦<code>--save</code>ï¼‰</strong></p><div class="language-text" data-ext="text"><pre class="language-text"><code>npm i @babel/plugin-transform-runtime -D
</code></pre></div><div class="language-text" data-ext="text"><pre class="language-text"><code>npm i @babel/runtime -S
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">legacy</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">loose</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯ï¼Œä¸Šé¢çš„æ–¹æ³•ä¸èƒ½å¤Ÿè§£å†³é«˜çº§çš„å®ä¾‹æ–¹æ³•ï¼Œå¦‚<code>arr.includes()</code>ã€‚</p><p>å¦‚æœæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦ä¸€ä¸ª<code>@babel/polyfill</code>æ¨¡å—ï¼ˆå¯ä»¥ä¸ä½¿ç”¨<code>@babel/plugin-transform-runtime</code>äº†ï¼‰ï¼Œè¿˜æ˜¯å› ä¸ºæ˜¯è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”è¯¥æ¨¡å—ä¼šåœ¨ä»£ç ä¸­ä½¿ç”¨ï¼Œæ‰€æœ‰æˆ‘ä»¬ä½¿ç”¨<code>--save</code></p><p><strong>ä½¿ç”¨<code>@babel/polyfill</code>å°† ES6 çš„è¯­æ³•å…¨éƒ¨å…¼å®¹</strong></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># è¯¥æ’ä»¶ä¸æ˜¯åœ¨webpackä¸­é…ç½®ï¼Œè€Œæ˜¯åœ¨å…¥å£jsæ–‡ä»¶å‰ç›´æ¥å¼•å…¥å³å¯</span>
<span class="token function">npm</span> i @babel/polyfill <span class="token parameter variable">-S</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token string">&quot;@babel/polyfill&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>**ä½¿ç”¨é—®é¢˜ï¼š**è¯¥æ–¹æ³•ä¼šå°†æ‰€æœ‰çš„é«˜çº§ js è¯­æ³•å…¨éƒ¨è½¬æ¢ï¼Œä¼šé€ æˆé¡¹ç›®ä½“ç§¯è¿‡å¤§çš„é—®é¢˜ï¼Œå¦‚æœåªæƒ³è§£å†³éƒ¨åˆ†å…¼å®¹æ€§é—®é¢˜å¹¶ä¸æ¨èè¿™æ ·åš</p><h4 id="_3-6-3-æŒ‰éœ€è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_3-6-3-æŒ‰éœ€è½¬æ¢" aria-hidden="true">#</a> 3.6.3 æŒ‰éœ€è½¬æ¢</h4><p>å› ä¸ºä½¿ç”¨<code>@babel/polyfill</code>å…¼å®¹æ‰€æœ‰ ES6 è¯­æ³•ä¼šæœ‰é¡¹ç›®ä½“ç§¯è¿‡å¤§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŒ‰éœ€åŠ è½½çš„æ–¹æ³•æ¥å¤„ç†ï¼Œä½¿ç”¨<code>core-js</code>æ’ä»¶</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i core-js <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token comment">// æŒ‰éœ€åŠ è½½</span>
                <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span>
                <span class="token comment">// æŒ‡å®šcore-jsç‰ˆæœ¬</span>
                <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// æŒ‡å®šå…¼å®¹å“ªä¸ªç‰ˆæœ¬æµè§ˆå™¨</span>
                <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">edge</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-6-4-es7-è½¬æ¢ä¸º-es5" tabindex="-1"><a class="header-anchor" href="#_3-6-4-es7-è½¬æ¢ä¸º-es5" aria-hidden="true">#</a> 3.6.4 ES7 è½¬æ¢ä¸º ES5</h4><p>å¦‚æœè¦å…¼å®¹ä¸€äº› ES6 ä»¥ä¸Šçš„è¯­æ³•ï¼Œéœ€è¦æŒ‰ç…§å¯¹åº”è¯­æ³•è§£æçš„æ’ä»¶ï¼Œå¦‚ ES7 çš„åœ¨ç±»ä¸­ constructor å¤–ç›´æ¥å†™å®ä¾‹å±æ€§ã€ä½¿ç”¨è£…é¥°å™¨ä¿®é¥°ç±»</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>@log
<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™ç§è¯­æ³•éœ€è¦<code>@babel/plugin-proposal-class-properties</code>è¿™ä¸ªç±»çš„è½¬æ¢æ’ä»¶å’Œ<code>@@babel/plugin-proposal-decorators</code>è¿™ä¸ªè£…é¥°å™¨æ’ä»¶</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># è§£æES7ç±»çš„è¯­æ³•ä¸è£…é¥°å™¨è¯­æ³•</span>
<span class="token function">npm</span> i @babel/plugin-proposal-class-properties @babel/plugin-proposal-decorators <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">//ç”¨babek-loaderéœ€è¦æŠŠES6è½¬æ¢ä¸ºES5</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// é¢„è®¾æ˜¯ä¸€ä¸ªå¤§æ’ä»¶çš„é›†åˆï¼Œåœ¨é¢„è®¾ä¸‹æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå·±é…ç½®è‡ªå·±éœ€è¦çš„å°æ’ä»¶</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">//&#39;@babel/plugin-proposal-class-properties&#39;, å¦‚æœåªè§£æç±»å¯ä»¥ç›´æ¥å†™å­—ç¬¦ä¸²è¿™æ ·å†™</span>
              <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">legacy</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">loose</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token comment">/*
                ä¸Šé¢å¦‚æœè¦è§£æä¿®é¥°ç±»çš„è£…é¥°å™¨å¿…é¡»ä½¿ç”¨è¿™ç§é¡ºåºï¼Œä¹Ÿå°±æ˜¯å¿…é¡»å…ˆè§£æclassè¯­æ³•ï¼Œå¦åˆ™ä¼šæŠ¥é”™
              */</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-7-è¯­æ³•æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#_3-7-è¯­æ³•æ ¡éªŒ" aria-hidden="true">#</a> 3.7 è¯­æ³•æ ¡éªŒ</h3><h4 id="_3-7-1-eslint" tabindex="-1"><a class="header-anchor" href="#_3-7-1-eslint" aria-hidden="true">#</a> 3.7.1 Eslint</h4><p>è¯­æ³•æ ¡éªŒåœ¨æˆ‘ä»¬ç¼–ç¨‹ä¸­å…¶å®å¾ˆå¸¸è§ï¼Œä½¿ç”¨ ESLint å°±èƒ½å¸®æˆ‘ä»¬æ ¡éªŒä»£ç ï¼ŒESLint ä¸ css å’Œ js ä¸€æ ·éƒ½éœ€è¦é…ç½®æƒ³è¦çš„ loader</p><div class="language-text" data-ext="text"><pre class="language-text"><code>npm i eslint eslint-loader -D
</code></pre></div><p><strong>eslint éœ€è¦ä¸€ä¸ªè‡ªå·±åˆ¶å®šçš„æ ¡éªŒä»£ç çš„è§„åˆ™ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª<code>.eslintrc.json</code>çš„é…ç½®æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ª eslint é¡¹ç›®çš„é…ç½®æ–‡ä»¶</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;constructor-super&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;for-direction&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;getter-return&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-async-promise-executor&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-case-declarations&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-class-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-compare-neg-zero&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-cond-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-const-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-constant-condition&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-control-regex&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-debugger&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-delete-var&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-dupe-args&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-dupe-class-members&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-dupe-keys&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-duplicate-case&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-empty&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-empty-character-class&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-empty-pattern&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-ex-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-extra-boolean-cast&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-extra-semi&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-fallthrough&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-func-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-global-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-inner-declarations&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-invalid-regexp&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-irregular-whitespace&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-misleading-character-class&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-mixed-spaces-and-tabs&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-new-symbol&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-obj-calls&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-octal&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-prototype-builtins&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-redeclare&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-regex-spaces&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-self-assign&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-shadow-restricted-names&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-sparse-arrays&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-this-before-super&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-undef&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-unexpected-multiline&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-unreachable&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-unsafe-finally&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-unsafe-negation&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-unused-labels&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-useless-catch&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-useless-escape&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;no-with&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;require-atomic-updates&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;require-yield&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;use-isnan&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;valid-typeof&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">//æˆ‘ä»¬åº”è¯¥å…ˆæ ¡éªŒjså†è½¬æ¢ä¸ºES5ä»£ç ï¼Œæ‰€ä»¥æ­£å¸¸æ¥è¯´è¿™ä¸ªåº”è¯¥å†™åœ¨ä¸‹é¢ï¼Œä¹Ÿå°±æ˜¯è¦å…ˆæ‰§è¡Œ</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//è‡ªåŠ¨ä¿®å¤</span>
            <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span> <span class="token comment">//previousï¼Œå¼ºåˆ¶è®©è¿™ä¸ªloaderåœ¨æœ€å…ˆæ‰§è¡Œï¼Œè¿˜å¯ä»¥å†™postè®©è¿™ä¸ªloaderå¼ºåˆ¶æœ€åæ‰§è¡Œ</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">//ä¸æ£€éªŒnode_modulesä¸­çš„ä»£ç </span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//ç›¸åŒçš„loaderå¯ä»¥å†™å¤šä¸ªï¼Œç¬¦åˆä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³çš„é»˜è®¤è§„åˆ™</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æ™®é€šçš„loader</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">legacy</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">loose</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-7-2-ä½¿ç”¨-airbnb-é£æ ¼" tabindex="-1"><a class="header-anchor" href="#_3-7-2-ä½¿ç”¨-airbnb-é£æ ¼" aria-hidden="true">#</a> 3.7.2 ä½¿ç”¨ airbnb é£æ ¼</h4><p>airbnb æ˜¯ä¸€ä¸ªéå¸¸æœ‰åçš„ js é£æ ¼è¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ eslint æ¥è®©æˆ‘ä»¬ä¹¦å†™çš„ä»£ç ç¬¦åˆè¿™ç§è§„èŒƒ</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i eslint-loader eslint eslint-config-airhnb-base eslint-plugin-import-eslint <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åéœ€è¦åœ¨<code>package.json</code>ä¸­å¢åŠ ï¼š</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;eslintConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;extend&quot;</span><span class="token operator">:</span> <span class="token string">&quot;airbnb-base&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// æ”¯æŒæµè§ˆå™¨çš„å…¨å±€å˜é‡</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-8-å…¨å±€å˜é‡å¼•å…¥" tabindex="-1"><a class="header-anchor" href="#_3-8-å…¨å±€å˜é‡å¼•å…¥" aria-hidden="true">#</a> 3.8 å…¨å±€å˜é‡å¼•å…¥</h3><p><strong>åœ¨ webpack ä¸­å¼•å…¥å…¨å±€å˜é‡ä¸»è¦æœ‰å››ç§å½¢å¼ï¼š</strong></p><ul><li><p>ç›´æ¥å¼•å…¥å…¨å±€å˜é‡åä½¿ç”¨ window æ¥æ¥æ”¶å…¨å±€å˜é‡</p></li><li><p>ä½¿ç”¨<code>expose-loader</code>å°†å…¨å±€å˜é‡æš´éœ²ç»™ window å¯¹è±¡å’Œæ¨¡å—ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´<strong>ä½¿ç”¨è¿™ä¸ªåœ¨æ‰€æœ‰æ¨¡å—éƒ½å¯ä»¥ä½¿ç”¨<code>window.æš´éœ²å¯¹è±¡</code>æˆ–ç›´æ¥ä½¿ç”¨æš´éœ²å¯¹è±¡</strong></p></li><li><p>ä½¿ç”¨<code>webpack.providePlugin</code>æ’ä»¶ä¸ºæ¯ä¸ªæ¨¡å—æ³¨å…¥å…¨å±€å¯¹è±¡ï¼ˆæ­¤æ—¶å¹¶æ²¡æœ‰æŒ‚è½½åˆ° window ä¸Šï¼Œåªæ˜¯ä¸ºæ¯ä¸ªæ¨¡å—æ³¨å…¥äº†å…¨å±€å˜é‡ï¼‰</p></li><li><p>åœ¨æ¨¡æ¿ html ä¸­é€šè¿‡ script æ ‡ç­¾å¼•å…¥</p></li></ul><p>**æ³¨ï¼š**è¿™é‡Œçš„å…¨å±€å˜é‡éƒ½ä»¥ jquery çš„$ç¬¦åˆä¸ºä¾‹</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i jquery <span class="token parameter variable">-S</span>
</code></pre></div><h4 id="_3-8-1-ç›´æ¥æ¥æ”¶" tabindex="-1"><a class="header-anchor" href="#_3-8-1-ç›´æ¥æ¥æ”¶" aria-hidden="true">#</a> 3.8.1 ç›´æ¥æ¥æ”¶</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>$ <span class="token operator">=</span> $<span class="token punctuation">;</span>
conosle<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-8-2-ä½¿ç”¨-expose-loader" tabindex="-1"><a class="header-anchor" href="#_3-8-2-ä½¿ç”¨-expose-loader" aria-hidden="true">#</a> 3.8.2 ä½¿ç”¨ expose-loader</h4><p>expose-loader å¯ä»¥ç›´æ¥å†™åœ¨é¡¹ç›®ä»£ç ä¸­ï¼Œä¹Ÿå¯ä»¥å†™åœ¨ webpack çš„é…ç½®é¡¹ä¸­ï¼Œå› ä¸ºè¿™ç§ç‰¹æ€§ï¼Œè¿™ç±» loader åˆè¢«å«åšå†…è” loader</p><p>**æ³¨ï¼š**é…ç½®äº†è¿™ä¸ªåœ¨æ‰€æœ‰çš„æ¨¡å—éƒ½èƒ½ä½¿ç”¨</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i expose-loader <span class="token parameter variable">-D</span>
</code></pre></div><ul><li><p>å†…è”ä½¿ç”¨</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js,ç›´æ¥åœ¨é¡¹ç›®å…¥å£å¼•å…¥å…¨å±€å˜é‡</span>
<span class="token keyword">import</span> <span class="token string">&quot;expose-loader?$!jquery&quot;</span><span class="token punctuation">;</span> <span class="token comment">// ä¸éœ€è¦ä½¿ç”¨import from è¯­æ³•ï¼Œå› ä¸ºä¸éœ€è¦è·å–åˆ°æš´éœ²çš„å¯¹è±¡</span>
<span class="token comment">/*
æ˜¯é€šè¿‡expose-loaderçš„ç±»ä¼¼æŸ¥è¯¢å­—ç¬¦ä¸²çš„å†™æ³•ï¼Œå…¨å±€æš´éœ²jqueryä¸º$ç¬¦å·ï¼Œå¯ä»¥ä½¿ç”¨window.$æˆ–ç›´æ¥ä½¿ç”¨$æ¥è·å–jqueryå¯¹è±¡
*/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>åœ¨ webpack é…ç½®æ–‡ä»¶ä¸­æ·»åŠ </p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//é…ç½®loader,è¿™ç§loaderçš„éªŒè¯è§„åˆ™æ˜¯åªè¦åœ¨æ¨¡å—ä¸­å¼•ç”¨çš„jqueryå°±ä¼šå¯¹åº”ä¸Šè¿™ä¸ªloader</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;jquery&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&quot;expose-loader?$&quot;</span><span class="token punctuation">,</span> <span class="token comment">//ç„¶åä½¿ç”¨expose-loaderå°†å¼•å…¥çš„jqueryå¯¹è±¡å˜ä¸º$åœ¨å…¨å±€ä½¿ç”¨</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul><h4 id="_3-8-3-åœ¨æ¯ä¸ªæ¨¡å—ä¸­æ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#_3-8-3-åœ¨æ¯ä¸ªæ¨¡å—ä¸­æ³¨å…¥" aria-hidden="true">#</a> 3.8.3 åœ¨æ¯ä¸ªæ¨¡å—ä¸­æ³¨å…¥</h4><p>å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨å¾ˆå¤šå…¨å±€å˜é‡ï¼Œè€Œåˆä¸æƒ³è‡ªå·±é…ï¼Œåˆä¸æƒ³æš´éœ²ç»™ window å¯¹è±¡é€ æˆæ±¡æŸ“ï¼Œå¯ä»¥é€šè¿‡ webpack æ’ä»¶è‡ªåŠ¨ä¸ºæ¯ä¸€ä¸ªæ¨¡å—æ³¨å…¥è¯¥å…¨å±€å˜é‡</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//webpackä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡å—</span>
<span class="token keyword">let</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">$</span><span class="token operator">:</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨æ¯ä¸ªæ¨¡å—ä¸­å°†ä¼šjqueryçš„å¯¹è±¡éƒ½æ³¨å…¥ä¸º$ç¬¦,è¿™ä¸ªjqueryæ˜¯åœ¨node_modulesä¸­è·å–çš„</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token comment">// ç°åœ¨åœ¨æ–‡ä»¶ä¸­ä¸éœ€è¦è¿›è¡Œå¼•å…¥å°±èƒ½ä½¿ç”¨äº†ï¼Œä¸è¿‡ä¸ä¼šæš´éœ²ç»™windowå¯¹è±¡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><h4 id="_3-8-4-åœ¨-script-æ ‡ç­¾å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-8-4-åœ¨-script-æ ‡ç­¾å¼•ç”¨" aria-hidden="true">#</a> 3.8.4 åœ¨ script æ ‡ç­¾å¼•ç”¨</h4><p><strong>é€šè¿‡ script æ ‡ç­¾å¼•ç”¨çš„å¯¹è±¡ä¼šè‡ªåŠ¨æŒ‚è½½åˆ° window å¯¹è±¡ä¸Šï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨</strong></p><p>ä½†æ˜¯ï¼Œåœ¨æ¨¡æ¿ html ä¸­é€šè¿‡<code>script</code>æ ‡ç­¾å¼•å…¥<code>jquery</code>, ä½†æ˜¯åœ¨<code>js</code>ä¸­ï¼Œå¦‚æœåˆæƒ³å†æ¬¡å¼•å…¥æ˜¯ç”¨<code>import</code>å¼•ç”¨ä¸€æ¬¡ jquery,ä¼šé‡æ–°æ‰“åŒ…<code>jquery</code>,è€Œæˆ‘ä»¬æ‰€æƒ³çš„åº”è¯¥æ˜¯å¦‚æœä½¿ç”¨äº† script æ ‡ç­¾å¼•ç”¨äº†çš„å…¨å±€å˜é‡åº”è¯¥ä¸è¢«æ‰“åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ webpack æä¾›çš„<code>externals</code>åŠŸèƒ½ï¼Œ<strong>è¿›è¡Œå˜é‡æŒ‚è½½ï¼Œä»è€Œä½¿ç”¨ index.html ä¸­å¼•å…¥çš„ cdn åº“ï¼Œé¿å…äº†æ‰“åŒ…æ—¶å°†å¤æ‚çš„ç¬¬ä¸‰æ–¹åº“æ‰“åŒ…</strong></p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// æˆ‘ä»¬ä¸å¸Œæœ›é€šè¿‡è¿™æ ·ä½¿ç”¨</span>
<span class="token keyword">const</span> $ <span class="token operator">=</span> window<span class="token punctuation">.</span>$<span class="token punctuation">;</span>
<span class="token comment">// æˆ‘ä»¬åªå¸Œæœ›è¿™æ ·å¼•ç”¨</span>
<span class="token keyword">const</span> $ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;jquery&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸‹é¢è¿™ç§externalsæ— è®ºåœ¨å“ªä½¿ç”¨jqueryéƒ½ä¼šåŒ¹é…ï¼Œå¹¶ä¸”ä½¿ç”¨$æ‰èƒ½å¤Ÿç”Ÿæ•ˆ</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token string">&quot;$&quot;</span><span class="token punctuation">,</span> <span class="token comment">//å°†jqueryåº“ä¸­çš„å¯¹è±¡èµ‹ç»™å…¨å±€çš„$å˜é‡ï¼Œå¦‚æœæ²¡ç”¨scriptæ ‡ç­¾å¼•å…¥éƒ½ä¼šæŠ¥é”™</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">;</span> <span class="token comment">//å¼•å…¥ä¸æ‰“åŒ…ï¼Œæ‰€ä»¥è¿™æ®µä»£ç æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œåªæ˜¯ç»™ç¼–è¯‘å™¨çœ‹çš„</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœæ²¡æœ‰ç”¨scriptæ ‡ç­¾å¼•å…¥å°±ä¼šæŠ¥é”™ï¼Œä¸Šé¢çš„ä»£ç æ²¡æœ‰æ„ä¹‰</span>
</code></pre></div><h3 id="_3-9-å›¾ç‰‡å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-9-å›¾ç‰‡å¤„ç†" aria-hidden="true">#</a> 3.9 å›¾ç‰‡å¤„ç†</h3><p>ä¸€èˆ¬æ¥è¯´æœ‰ä¸‰ç§æ–¹å¼åˆ›å»ºå›¾ç‰‡ï¼š</p><ul><li><p>ä½¿ç”¨ H5 çš„ API åœ¨ JS ä¸­åˆ›å»ºå›¾ç‰‡</p></li><li><p>åœ¨ css ä¸­ä½¿ç”¨ background-image å¯¼å…¥èƒŒæ™¯å›¾ç‰‡</p></li><li><p>åœ¨ img æ ‡ç­¾ä¸­å¼•ç”¨å›¾ç‰‡</p></li></ul><p>åœ¨ webpack ä¸­ä½¿ç”¨å›¾ç‰‡æ—¶ï¼Œå› ä¸ºæ˜¯è¦å½¢æˆæ‰“åŒ…åçš„æ–‡ä»¶ï¼Œæ‰€ä»¥è·¯å¾„å°±ä¼šæœ‰é—®é¢˜</p><p>ä¸€èˆ¬é€šè¿‡ require ç›´æ¥å¼•å…¥å›¾ç‰‡ï¼Œè¿™æ—¶ä¼šåˆ›å»ºä¸€ä¸ªå­˜åœ¨å†…å­˜ä¸­çš„æ–°çš„å›¾ç‰‡åœ°å€ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ‰èƒ½åœ¨æ‰“åŒ…åä½¿ç”¨è¯¥å›¾ç‰‡,ä¸è¿‡å¼•å…¥å›¾ç‰‡å°±è¦é…ç½®ä¸å¼•å…¥é™æ€æ–‡ä»¶ç›¸å…³çš„ loader</p><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ url-loader å’Œ file-loaderï¼ˆ<strong>åªå¯¹äºåœ¨ JS ä¸­å¼•å…¥å›¾ç‰‡å’Œåœ¨ js ä¸­å¼•å…¥äº† cssï¼Œcss åˆå¼•å…¥äº†èƒŒæ™¯å›¾ç‰‡çš„è¡Œä¸º</strong>ï¼‰ã€‚å®é™…ä½¿ç”¨ url-loaderï¼Œä¸è¿‡ url-loader ä¾èµ–äº file-loader</p><h4 id="_3-9-1-åœ¨ä¸åŒç¯å¢ƒä¸‹ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-9-1-åœ¨ä¸åŒç¯å¢ƒä¸‹ä½¿ç”¨" aria-hidden="true">#</a> 3.9.1 åœ¨ä¸åŒç¯å¢ƒä¸‹ä½¿ç”¨</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i url-loader file-loader <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// å½“å›¾ç‰‡å°äºå¤šå°‘ï¼Œç”¨base64,å¦åˆ™ç”¨url-loaderäº§ç”ŸçœŸå®çš„å›¾ç‰‡</span>
        <span class="token comment">/*
                    ä¼˜ç‚¹ï¼šå‡å°‘è¯·æ±‚æ•°é‡ï¼ˆå‡è½»æœåŠ¡å™¨å‹åŠ›ï¼‰
                    ç¼ºç‚¹ï¼šå›¾ç‰‡ä½“ç§¯ä¼šæ›´å¤§ï¼ˆæ–‡ä»¶è¯·æ±‚é€Ÿåº¦æ›´æ…¢ï¼‰
                */</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// ç”¨ä½œé™åˆ¶</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token comment">// 8kbä¹‹å†…ç”¨base64</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>flie-lodaer é»˜è®¤ä¼šåœ¨å†…éƒ¨ç”Ÿæˆä¸€å¼ å›¾ç‰‡åˆ° build çš„ç›®å½•ä¸‹ï¼Œå¹¶ä¸”æŠŠç”Ÿæˆå›¾ç‰‡çš„åå­—è¿”å›å‡ºæ¥</p><ul><li><p>ç¬¬ä¸€ç§æƒ…å†µ: å›¾ç‰‡åœ°å€è¦</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span>
</code></pre></div><p>å¼•å…¥ï¼Œç›´æ¥å†™å›¾ç‰‡çš„åœ°å€ï¼Œä¼šé»˜è®¤ä¸ºå­—ç¬¦ä¸²</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

image<span class="token punctuation">.</span>src <span class="token operator">=</span> logo<span class="token punctuation">;</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>ç¬¬äºŒç§æƒ…å†µ:</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>css <span class="token operator">-</span> loader<span class="token punctuation">;</span>
</code></pre></div><p>ä¼šå°†<code>css</code>é‡Œé¢çš„å›¾ç‰‡è½¬ä¸º<code>require</code>çš„æ ¼å¼</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>div <span class="token punctuation">{</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;./logo.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* require(&quot;./logo.png&quot;) */</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>ç¬¬ä¸‰ç§æƒ…å†µ: è§£æ<code>html</code>ä¸­çš„<code>image</code></p><p>ä½¿ç”¨<code>html-withimg-loader</code></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i html-withimg-loader <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// å¤„ç†htmlçš„imgå›¾ç‰‡ï¼ˆè´Ÿè´£å¼•å…¥img,ä»è€Œèƒ½è¢«url-loaderè¿›è¡Œå¤„ç†ï¼‰</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&quot;html-withimg-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>html-loader</code></p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i html-loader <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
            <span class="token comment">// ä½¿ç”¨html-loaderæ—¶éœ€è¦å°†urlçš„esModuleå…³é—­ï¼Œå› ä¸ºurl-loaderé»˜è®¤æ˜¯ä½¿ç”¨es6æ¨¡å—è§£æï¼Œè€Œhtml-loaderä½¿ç”¨çš„commonjsï¼Œè§£ææ—¶ä¼šå‡ºç°[Object Module]</span>
            <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// å¤„ç†htmlçš„imgå›¾ç‰‡ï¼ˆè´Ÿè´£å¼•å…¥img,ä»è€Œèƒ½è¢«url-loaderè¿›è¡Œå¤„ç†ï¼‰</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&quot;html-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_3-9-2-æ‰“åŒ…æ–‡ä»¶åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_3-9-2-æ‰“åŒ…æ–‡ä»¶åˆ†ç±»" aria-hidden="true">#</a> 3.9.2 æ‰“åŒ…æ–‡ä»¶åˆ†ç±»</h4><p>å¦‚æœæˆ‘ä»¬å…ˆæƒ³è¦æŠŠæ–‡ä»¶èµ„æºåˆ†ç±»å¤„ç†ï¼Œæ·»åŠ é…ç½®é¡¹ï¼Œwebpack ä¹Ÿä¼šè‡ªåŠ¨çš„åŠ æ‰“åŒ…åçš„è·¯å¾„è½¬æ¢</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// å½“å›¾ç‰‡å°äºå¤šå°‘ï¼Œç”¨base64,å¦åˆ™ç”¨file-loaderäº§ç”ŸçœŸå®çš„å›¾ç‰‡</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// ç”¨ä½œé™åˆ¶</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 200k 200 * 1024</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;img/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…åè¾“å‡ºåœ°å€ åœ¨dist/img</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ—¶ï¼Œåœ¨æˆ‘ä»¬å‰é¢çš„ CSS æ’ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å†™å…¥è¦åˆ†ç±»çš„ç›®å½•</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;css/main.css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-9-3-åŠ å…¥-cdn-å‰ç¼€" tabindex="-1"><a class="header-anchor" href="#_3-9-3-åŠ å…¥-cdn-å‰ç¼€" aria-hidden="true">#</a> 3.9.3 åŠ å…¥ CDN å‰ç¼€</h4><p>å¦‚æœæˆ‘ä»¬å¸Œæœ›è¾“å‡ºçš„æ—¶å€™ï¼Œç»™è¿™äº›<code>css\img</code>åŠ ä¸Šå‰ç¼€ï¼Œä¼ åˆ°æœåŠ¡å™¨ä¹Ÿèƒ½è®¿é—®ï¼Œå¯ä»¥ä¸º<code>output</code>åŠ ä¸Š<code>publicPath</code>å±æ€§</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;bundle.[hash:8].js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// hash: 8åªæ˜¾ç¤º8ä½</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&quot;http://www.mayufo.cn&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç»™é™æ€èµ„æºç»Ÿä¸€åŠ </span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœæˆ‘ä»¬åªå¸Œæœ›å¤„ç†æŸä¸€ç±»æ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// å½“å›¾ç‰‡å°äºå¤šå°‘ï¼Œç”¨base64,å¦åˆ™ç”¨file-loaderäº§ç”ŸçœŸå®çš„å›¾ç‰‡</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 200k 200 * 1024</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;/img/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…åè¾“å‡ºåœ°å€</span>
            <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-10-æ‰“åŒ…å…¶ä»–èµ„æº" tabindex="-1"><a class="header-anchor" href="#_3-10-æ‰“åŒ…å…¶ä»–èµ„æº" aria-hidden="true">#</a> 3.10 æ‰“åŒ…å…¶ä»–èµ„æº</h3><p>é™¤äº†ç›´æ¥æŒ‡å®šéœ€è¦æ‰“åŒ…çš„èµ„æºå¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç›´æ¥ä½¿ç”¨<code>exclude</code>é€‰é¡¹æ¥æ‰“åŒ…å…¶ä»–èµ„æº</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(css|js|html0)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// å‡è®¾åªæœ‰è¿™ä¸‰ç§èµ„æºä¸ºä¸»è¦èµ„æº</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-lodaer&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[hash:10].[ext]&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-webpack-æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_4-webpack-æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a> 4. webpack æ€§èƒ½ä¼˜åŒ–</h2><h3 id="_4-1-hmr" tabindex="-1"><a class="header-anchor" href="#_4-1-hmr" aria-hidden="true">#</a> 4.1 HMR</h3><p>HMRï¼ˆhot module replacementï¼‰æ„ä¸ºçƒ­æ¨¡æ¿æ›¿æ¢ï¼Œèƒ½å¤Ÿåœ¨ä¸€ä¸ªæ¨¡å—å‘ç”Ÿå˜åŒ–æ—¶å€¼é‡æ–°æ‰“åŒ…è¿™ä¸ªæ¨¡å—ï¼Œè€Œä¸æ˜¯æ‰“åŒ…æ‰€æœ‰æ¨¡å—ï¼Œæå¤§çš„æé«˜æ„å»ºé€Ÿåº¦ï¼Œä¸€èˆ¬ç”¨äºå¼€å‘ç¯å¢ƒä½¿ç”¨ã€‚</p><ul><li><p>æ ·å¼æ–‡ä»¶ï¼šå› ä¸º style-loader å†…éƒ¨å®ç°äº† hmr åŠŸèƒ½ï¼Œæ‰€ä»¥é»˜è®¤å¯ä»¥ç”¨ä½¿ç”¨ hmr åŠŸèƒ½ï¼ˆæ‰€ä»¥å¼€å‘ç¯å¢ƒä¸éœ€è¦å°†æ ·å¼æ–‡ä»¶æ‰“åŒ…ï¼‰</p></li><li><p>js æ–‡ä»¶ï¼š</p><p>é»˜è®¤ä¸æ”¯æŒ hmr åŠŸèƒ½</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸€æ—¦module.hotä¸ºtrue,è¯´æ˜å¼€å¯äº†hmråŠŸèƒ½</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&quot;./log.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ–¹æ³•ä¼šç›‘å¬ log.jsæ–‡ä»¶çš„å˜åŒ–ï¼Œä¸€æ—¦å˜åŒ–å°±è§¦å‘å›è°ƒå‡½æ•°ï¼Œå…¶ä»–æ–‡ä»¶å°±ä¸ä¼šè¢«é‡æ–°æ‰“åŒ…ï¼Œå¦è€…å°±ä¼šæ‰“åŒ…æ‰€æœ‰çš„æ–‡ä»¶</span>
    <span class="token comment">// dosomething</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„ï¼šhmr åŠŸèƒ½ js çš„å¤„ç†ï¼Œåªèƒ½å¤„ç†éå…¥å£ js æ–‡ä»¶çš„å…¶ä»–æ–‡ä»¶ã€‚</p></li><li><p>html æ–‡ä»¶ï¼š</p><p>é»˜è®¤ä¸æ”¯æŒ hmr åŠŸèƒ½ï¼ŒåŒæ—¶ html æ–‡ä»¶æ˜¯é»˜è®¤æ˜¯ä¸èƒ½çƒ­æ›´æ–°çš„ã€‚</p><p>æ³¨ï¼š</p><p>å› ä¸ºé¡¹ç›®ä¸­ä¸€èˆ¬éƒ½åªæœ‰ä¸€ä¸ª html æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯ä¸éœ€è¦ä¸º html æ–‡ä»¶åš hmr çš„ï¼Œæ”¹å˜ html æ–‡ä»¶é¡¹ç›®å°±ä¸€å®šè¦é‡æ–°æ‰“åŒ…ã€‚</p><p>è§£å†³çƒ­æ›´æ–°ï¼š</p><p>ä¿®æ”¹ entry å…¥å£ï¼Œå°† html æ–‡ä»¶å¼•å…¥ï¼Œè¿™æ ·æ¯æ¬¡ä¿®æ”¹ html æ–‡ä»¶çš„æ—¶å€™éƒ½ä¼šé‡æ–°æ‰“åŒ…é¡¹ç›®ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¤šå…¥å£</span>
<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/public/index.htnl&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul><h3 id="_4-2-source-map" tabindex="-1"><a class="header-anchor" href="#_4-2-source-map" aria-hidden="true">#</a> 4.2 source-map</h3><p><strong>source-map æ˜¯ä¸€ç§æä¾›æºä»£ç åˆ°æ„å»ºåä»£ç æ˜ å°„æŠ€æœ¯ï¼ˆå¦‚æœä»£ç å‡ºé”™äº†ï¼Œé€šè¿‡æ˜ å°„å¯ä»¥è¿½è¸ªä»£ç é”™è¯¯ï¼‰</strong></p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¯é€‰å€¼æœ‰<code>[inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map</code></p><p>å¤§ä½“æœ‰ä»¥ä¸‹å¤§ç±»ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯é€šè¿‡ä¸‹é¢çš„å¤§ç±»ç»„åˆè€Œæ¥çš„ï¼š</p><ul><li><p>**source-mapï¼š**å¤–éƒ¨ï¼Œèƒ½å¤Ÿæç¤ºå‡ºé”™è¯¯ä»£ç çš„å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç çš„é”™è¯¯ä½ç½®</p></li><li><p>**inline-source-mapï¼š**å†…è”ï¼Œåªç”Ÿæˆä¸€ä¸ªå†…è” source-mapï¼Œèƒ½å¤Ÿæç¤ºå‡ºé”™è¯¯ä»£ç çš„å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç çš„é”™è¯¯ä½ç½®</p></li><li><p>**hidden-source-mapï¼š**å¤–éƒ¨ source-mapï¼Œèƒ½å¤Ÿæç¤ºé”™è¯¯ä»£ç çš„é”™è¯¯åŸå› ï¼Œä½†æ˜¯æ²¡æœ‰é”™è¯¯ä½ç½®ï¼Œä¸èƒ½è¿½è¸ªåˆ°æºä»£ç é”™è¯¯ï¼Œåªèƒ½æç¤ºåˆ°æ„å»ºåä»£ç çš„é”™è¯¯ä½ç½®ï¼ˆåªéšè—æºä»£ç ï¼Œä¸éšè—æ„å»ºåçš„ä»£ç ï¼‰</p></li><li><p>**eval-source-mapï¼š**å†…è”ï¼Œä½†æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ä¼šç”Ÿæˆå¯¹åº”çš„ source-map åœ¨ eval ä¸­ï¼Œèƒ½å¤Ÿæç¤ºå‡ºé”™è¯¯ä»£ç çš„å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç çš„é”™è¯¯ä½ç½®</p></li><li><p>**nosource-source-mapï¼š**å¤–éƒ¨ï¼Œèƒ½æ‰¾åˆ°é”™è¯¯ä»£ç çš„å‡†ç¡®ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•æºä»£ç ä¿¡æ¯ï¼ˆéšè—æ‰€æœ‰ä»£ç ï¼‰</p></li><li><p>**cheap-source-mapï¼š**å¤–éƒ¨ï¼Œèƒ½å¤Ÿæç¤ºå‡ºé”™è¯¯ä»£ç çš„å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç çš„é”™è¯¯ä½ç½®ï¼Œä½†æ˜¯åªèƒ½ç²¾ç¡®åˆ°æŸä¸€è¡Œï¼Œä¸èƒ½æ‰¾åˆ°æŸä¸€è¡Œä¸­çš„å“ªä¸€ä¸ªé”™è¯¯</p></li><li><p>**cheap-module-source-mapï¼š**å¤–éƒ¨ï¼Œèƒ½å¤Ÿæç¤ºå‡ºé”™è¯¯ä»£ç çš„å‡†ç¡®ä¿¡æ¯å’Œæºä»£ç çš„é”™è¯¯ä½ç½®</p></li></ul><p><strong>å†…è”ä¸å¤–éƒ¨çš„åŒºåˆ«</strong></p><ul><li><p>å¤–éƒ¨ç”Ÿæˆäº†å¯¹åº”çš„æ–‡ä»¶ï¼Œè€Œå†…è”æ²¡æœ‰</p></li><li><p>å†…è”çš„æ„å»ºé€Ÿåº¦æ›´å¿«</p></li></ul><p><strong>ä¸¤ç§ç¯å¢ƒçš„é€‰æ‹©</strong></p><ol><li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šéœ€è¦é€Ÿåº¦å¿«ï¼Œè°ƒè¯•æ›´å‹å¥½ã€‚</li></ol><ul><li><p><strong>é€Ÿåº¦å¿«</strong>ï¼šç”±äº<code>eval&gt;inline&gt;cheap&gt;...</code>ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©<code>eval-cheap-source-map</code>å’Œ<code>eval-source-map</code></p></li><li><p><strong>è°ƒè¯•æ›´å‹å¥½</strong>ï¼šå¯ä»¥é€‰æ‹©<code>source-map</code>ã€<code>cheap-module-source-map</code>å’Œ<code>cheap-source-map</code></p></li></ul><p><strong>ç»¼ä¸Š</strong>ï¼šä¸€èˆ¬å¯ä»¥é€‰æ‹©<code>eval-source-map</code>ï¼ˆVue å’Œ React è„šæ‰‹æ¶é»˜è®¤å°±æ˜¯è¿™ç§ï¼‰æˆ–è€…<code>eval-cheap-module-source-map</code></p><ol start="2"><li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šéœ€è¦è€ƒè™‘æ˜¯å¦éšè—æºä»£ç ï¼Œæ˜¯å¦éœ€è¦è°ƒè¯•å‹å¥½ã€‚åŒæ—¶è¦æ³¨æ„çš„æ˜¯ç”Ÿäº§ç¯å¢ƒä¸è¦ç”¨å†…è”ï¼Œè¿™æ ·ä¼šä½¿å¾—æ–‡ä»¶ä½“ç§¯å¢å¤§</li></ol><ul><li><p><strong>è°ƒè¯•å‹å¥½</strong>ï¼šå¯ä»¥ä½¿ç”¨<code>source-map</code>å’Œ<code>cheap-module-source-map</code></p></li><li><p><strong>éœ€è¦éšè—æºä»£ç </strong>ï¼šå¯ä»¥ä½¿ç”¨<code>nosource-source-map</code>å’Œ<code>hidden-source-map</code></p></li></ul><h3 id="_4-3-oneof" tabindex="-1"><a class="header-anchor" href="#_4-3-oneof" aria-hidden="true">#</a> 4.3 oneof</h3><p>åœ¨ä¹‹å‰æˆ‘ä»¬é…ç½® loader çš„æ—¶å€™ï¼Œå…¶å®æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ä¼šå¯¹æ¯ä¸€ä¸ª loader è¿›è¡Œå¯¹æ¯”é€‚é…ï¼Œä¸ç®¡æ˜¯å¦èƒ½åŒ¹é…ä¸Šï¼Œè¿™æ ·åšä¼šå¾ˆæ¶ˆè€—æ€§èƒ½ï¼Œè€Œ oneof å°±å¯ä»¥å¸®åŠ©æˆ‘ä»¬æé«˜æ€§èƒ½ï¼Œå®ƒä½œç”¨ç±»ä¼¼äº switchï¼Œåœ¨åŒ¹é…ä¸Šä¸€ä¸ªä¹‹åå°±ä¸ä¼šç»§ç»­å¾€ä¸‹é¢åŒ¹é…äº†ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> optimizeCssAssetsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;optimize-css-assets-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span>
  <span class="token operator">?</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span>
  <span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isDev <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;development&quot;</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">// å¤ç”¨loader</span>
<span class="token keyword">const</span> commonCSSLoader <span class="token operator">=</span> <span class="token punctuation">[</span>
  MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
  <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">ident</span><span class="token operator">:</span> <span class="token string">&quot;postcss&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;postcss-preset-env&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// loader</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// ä¼˜å…ˆæ‰§è¡Œ</span>
        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">/*
          package.jsoné‡Œé¢å†™ä¸Š&quot;eslintConfig&quot;:{
            &quot;extends&quot;:&#39;airbnb-base&quot;
          }
        */</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// ä½†æ˜¯éœ€è¦æ³¨æ„ä¸èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªé…ç½®åŒ¹é…åŒä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ‹¿å‡ºä¸€ä¸ªjsé…ç½®åˆ°å¤–é¢</span>
        <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token operator">...</span><span class="token punctuation">(</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span> <span class="token operator">:</span> commonCSSLoader<span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token operator">...</span><span class="token punctuation">(</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span> <span class="token operator">:</span> commonCSSLoader<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token comment">// æŒ‰éœ€åŠ è½½</span>
                  <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span>
                  <span class="token comment">// æŒ‡å®šcore-jsç‰ˆæœ¬</span>
                  <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token comment">// æŒ‡å®šå…¼å®¹å“ªä¸ªç‰ˆæœ¬æµè§ˆå™¨</span>
                  <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">edge</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[hash:10].[ext]&quot;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;imgs&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token comment">// htmlèµ„æº</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;html-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(html|css|less|js|jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[hash:10].[ext]&quot;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;media&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_4-4-ç¼“å­˜" aria-hidden="true">#</a> 4.4 ç¼“å­˜</h3><p>ä¸ºäº†ä½¿å¾—é¡¹ç›®æ€§èƒ½æ›´åŠ ä¼˜åŒ–ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ä¼šä½¿ç”¨ç¼“å­˜ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ç¼“å­˜ä¸èƒ½èµ·åˆ°é¢„å®šçš„æ•ˆæœï¼Œéœ€è¦æ ¹æ®å®é™…æ¥ä½¿ç”¨ç¼“å­˜</p><ul><li><p><strong>babel ç¼“å­˜ï¼š</strong> ä¹‹å‰åœ¨å¤„ç† ES6 çš„æ—¶å€™å†™åˆ°è¿‡ï¼Œå®ƒå†…ç½®å¯ä»¥å¼€å¯<code>cacheDirectory:true</code>ï¼Œè®©ç¬¬äºŒæ¬¡æ‰“åŒ…æ„å»ºé€Ÿåº¦æ›´å¿«</p></li><li><p><strong>æ–‡ä»¶èµ„æºç¼“å­˜ï¼š</strong> è¯¥ç¼“å­˜æ˜¯é»˜è®¤å­˜åœ¨äº webpack æ‰“åŒ…ä¸­çš„ï¼Œä½†æ˜¯è¿™ç§ç¼“å­˜åœ¨å¾ˆå¤šæ—¶å€™ä¼šè®©æˆ‘ä»¬æƒ³è¦ä¿®æ”¹çš„æ•°æ®æ— æ•ˆï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ä¸ºæ‰“åŒ…åçš„æ–‡ä»¶è®¾ç½®å“ˆå¸Œå€¼æ¥æ¸…é™¤ç¼“å­˜ã€‚æ–‡ä»¶èµ„æºç¼“å­˜çš„ä½œç”¨æ˜¯è®©ä»£ç ä¸Šçº¿è¿è¡Œç¼“å­˜æ›´å¥½ä½¿ç”¨</p></li><li><ul><li>**hashï¼š**æ¯æ¬¡ webpack æ„å»ºæ—¶ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ hash å€¼ã€‚ **é—®é¢˜ï¼š**å› ä¸º js å’Œ css åŒæ—¶ä½¿ç”¨ä¸€ä¸ª hash å€¼ï¼Œå¦‚æœé‡æ–°æ‰“åŒ…ï¼Œä¼šå¯¼è‡´æ‰€æœ‰ç¼“å­˜å¤±æ•ˆï¼Œä½†æ˜¯ç”¨æˆ·å´åªæƒ³è¦ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶</li></ul></li><li><ul><li>**chunkhashï¼š**æ ¹æ® chunk ç”Ÿæˆçš„ hash å€¼ï¼Œå¦‚æœæ‰“åŒ…æ¥æºäºåŒä¸€ä¸ª chunkï¼Œé‚£ä¹ˆ hash å€¼å°±ä¸€æ · **é—®é¢˜ï¼š**js å’Œ css çš„ hash å€¼è¿˜æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸º css æ˜¯åœ¨ js ä¸­å¼•å…¥ï¼Œæ‰€ä»¥å±äºåŒä¸€ä¸ª chunk</li></ul></li><li><ul><li>**contenthashï¼š**æ ¹æ®æ–‡ä»¶çš„å†…å®¹ç”Ÿæˆ hash å€¼ï¼Œä¸åŒæ–‡ä»¶ hash å€¼ä¸€å®šä¸ç›¸åŒ</li></ul></li></ul><h3 id="_4-5-tree-shaking" tabindex="-1"><a class="header-anchor" href="#_4-5-tree-shaking" aria-hidden="true">#</a> 4.5 tree shaking</h3><p><code>tree shaking</code>çš„ä½œç”¨æ˜¯å»é™¤æ— ç”¨çš„ä»£ç ï¼Œå‡å°‘ä»£ç çš„ä½“ç§¯ã€‚</p><p>ä½†æ˜¯ä½¿ç”¨<code>tree shaking</code>éœ€è¦æœ‰ä¸¤ä¸ªå‰æï¼š</p><ul><li><p>å¿…é¡»ä½¿ç”¨ ES6 æ¨¡å—åŒ–</p></li><li><p>éœ€è¦å¼€å¯ production ç¯å¢ƒ</p></li></ul><p>**æ³¨æ„ï¼š**æœ‰äº›æ—¶å€™æˆ‘ä»¬å¼€å¯<code>tree shaking</code>æ—¶å¯èƒ½ä¼šæŠŠæˆ‘ä»¬é¡¹ç›®ä¸­çš„<code>cssã€@babel/polyfill</code>æ–‡ä»¶æ¶ˆé™¤æ‰</p><p>åœ¨<code>package.json</code>ä¸­ï¼š</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span><span class="token boolean">false</span> <span class="token comment">// å½“å¼€å¯ä¸ºfalseæ—¶ä¼šè®©æ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰å‰¯ä½œç”¨ï¼Œtree shakingå°±ä¼šå°†cssæ–‡ä»¶ä¸€èµ·åˆ é™¤æ‰</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.less&quot;</span><span class="token punctuation">]</span> <span class="token comment">// æˆ‘ä»¬æœ€å¥½æ‰‹åŠ¨é…ç½®æ¸…é™¤</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-6-ä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#_4-6-ä»£ç åˆ†å‰²" aria-hidden="true">#</a> 4.6 ä»£ç åˆ†å‰²</h3><h4 id="_4-6-1-æ‰“åŒ…å¤šé¡µåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_4-6-1-æ‰“åŒ…å¤šé¡µåº”ç”¨" aria-hidden="true">#</a> 4.6.1 æ‰“åŒ…å¤šé¡µåº”ç”¨</h4><p>æ‰“åŒ…å¤šé¡µåº”ç”¨çš„æ–¹å¼å¾ˆç®€å•ï¼Œä½¿ç”¨å¤šä¸ªå…¥å£å’Œå¤šä¸ªæ¨¡æ¿å°±èƒ½å®Œæˆå¤šä¸ªé¡µé¢çš„æ‰“åŒ…</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¤šå…¥å£</span>
<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">home</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">other</span><span class="token operator">:</span> <span class="token string">&quot;./src/other.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä½¿ç”¨[name]ä¼šè®©å„åœ¨å…¥å£æ–‡ä»¶è¾“å‡ºå„è‡ªçš„å‡ºå£æ–‡ä»¶</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;home.html&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// æ¨¡æ¿è¦å¼•å…¥å“ªäº›å…¥å£æ–‡ä»¶</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;home&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;other.html&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;other&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// other.html é‡Œé¢æœ‰ other.js &amp; home.js</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-6-2-é…ç½®-node-modules-çš„-chunk" tabindex="-1"><a class="header-anchor" href="#_4-6-2-é…ç½®-node-modules-çš„-chunk" aria-hidden="true">#</a> 4.6.2 é…ç½® node_modules çš„ chunk</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¤šå…¥å£</span>
<span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">home</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">other</span><span class="token operator">:</span> <span class="token string">&quot;./src/other.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä½¿ç”¨[name]ä¼šè®©å„åœ¨å…¥å£æ–‡ä»¶è¾“å‡ºå„è‡ªçš„å‡ºå£æ–‡ä»¶</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">/*
        1.å¦‚æœæ˜¯å•æ–‡ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨å°†node_modulesä¸­ä»£ç å•ç‹¬æ‰“åŒ…ä¸€ä¸ªchunkæœ€ç»ˆè¾“å‡º
        2.è‡ªåŠ¨åˆ†æå¤šå…¥å£chunkä¸­æœ‰æ²¡æœ‰å…¬å…±æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¼šå•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunkç”¨æ¥å…±ç”¨
    */</span>
  <span class="token literal-property property">optimizaion</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-6-3-js-ä»£ç æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_4-6-3-js-ä»£ç æ‰“åŒ…" aria-hidden="true">#</a> 4.6.3 js ä»£ç æ‰“åŒ…</h4><p>é€šè¿‡ js ä»£ç çš„æ³¨é‡Šæ•ˆæœèƒ½å¤Ÿå°† webpack çš„æ‰“åŒ…æœºåˆ¶å°†ç›¸åŒ chunk åå­—çš„ä»£ç æ‰“åŒ…åœ¨ä¸€èµ·</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
    é€šè¿‡jsä»£ç ï¼Œè®©æŸä¸ªæ–‡ä»¶å•ç‹¬æ‰“åŒ…ä¸ºä¸€ä¸ªchunkï¼š
    ä½¿ç”¨importåŠ¨æ€å¯¼å…¥çš„è¯­æ³•ï¼Œèƒ½è®©ä¸€ä¸ªæ–‡ä»¶å•ç‹¬è¢«æ‰“åŒ…ï¼Œä½†æ˜¯é»˜è®¤æ˜¯éšæœºçš„idï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Šæ³¨é‡Šç”Ÿæˆæƒ³è¦çš„åå­—
*/</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &#39;test&#39; */</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;æ–‡ä»¶åŠ è½½å¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-7-æ‡’åŠ è½½ä¸é¢„åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_4-7-æ‡’åŠ è½½ä¸é¢„åŠ è½½" aria-hidden="true">#</a> 4.7 æ‡’åŠ è½½ä¸é¢„åŠ è½½</h3><ul><li><p>æ‡’åŠ è½½ï¼š</p><p>js ä¸­ä½¿ç”¨æ‡’åŠ è½½å…¶å®éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨</p><div class="language-text" data-ext="text"><pre class="language-text"><code>import()
</code></pre></div><p>è¿™æ ·çš„è¯­æ³•é€šè¿‡</p><div class="language-text" data-ext="text"><pre class="language-text"><code>.then()
</code></pre></div><p>çš„æ–¹å¼è·å–å›è°ƒå°±èƒ½å¤Ÿå®ç°è¿™æ ·çš„æ•ˆæœã€‚åŒæ—¶è¯¥æ–¹æ³•ä¹Ÿä¸ä¼šé‡å¤åŠ è½½æ¨¡å—ï¼Œç¬¬äºŒæ¬¡ä½¿ç”¨ä¼šå¼•ç”¨ç¼“å­˜ä¸­çš„ã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &#39;test&#39; */</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>é¢„åŠ è½½ï¼š</p><p>é¢„åŠ è½½ï¼ˆprefetchï¼‰ä¼šåœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæå‰åŠ è½½ js æ–‡ä»¶ï¼Œæ­£å¸¸çš„åŠ è½½å¯ä»¥è®¤ä¸ºæ˜¯å¹¶è¡ŒåŠ è½½ï¼ˆåŒä¸€æ—¶é—´åŠ è½½å¤šä¸ªæ–‡ä»¶ï¼‰ï¼Œè€Œé¢„åŠ è½½æ˜¯ç­‰å…¶ä»–èµ„æºåŠ è½½å®Œæˆä¹‹åï¼Œæµè§ˆå™¨ç©ºé—²æ—¶å·å·è¿›è¡ŒåŠ è½½èµ„æºã€‚</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨webpackPrefetchå¼€å¯é¢„åŠ è½½</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &#39;test&#39;, webpackPrefetch: true */</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul><h3 id="_4-8-pwa-ç¦»çº¿å¯è®¿é—®" tabindex="-1"><a class="header-anchor" href="#_4-8-pwa-ç¦»çº¿å¯è®¿é—®" aria-hidden="true">#</a> 4.8 PWAï¼ˆç¦»çº¿å¯è®¿é—®ï¼‰</h3><p>PWAï¼ˆæ¸è¿›å¼ç½‘ç»œå¼€å‘åº”ç”¨ç¨‹åºï¼‰å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›å³ä½¿ç¦»çº¿çŠ¶æ€ä¸‹æµè§ˆå™¨ä¹Ÿå¯ä»¥è®¿é—®ç½‘ç«™çš„èƒ½åŠ›ã€‚</p><p>è¦åœ¨ webpack ä¸­å¯ç”¨ PWAï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½<code>workbox-webpack-plugin</code>ä½œä¸ºæ’ä»¶ä½¿ç”¨</p><div class="language-text" data-ext="text"><pre class="language-text"><code>npm i workbox-webpack-plugin -D
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> workboxWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;workbox-webpack-plugin &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/*
            è¯¥æ’ä»¶æœ€ç»ˆä¼šå¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªserviceworkeré…ç½®æ–‡ä»¶
            ä¸‹é¢ä¸¤ä¸ªé…ç½®çš„ä½œç”¨ï¼š
            1.å¸®åŠ©serviceworkerå¿«é€Ÿå¯åŠ¨
            2.åˆ é™¤æ—§çš„serviceworker
        */</span>
    <span class="token keyword">new</span> <span class="token class-name">workboxWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">clientClaim</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">skipWaiting</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token comment">/*
    æ³¨å†Œserviceworker
    å¤„ç†å…¼å®¹æ€§é—®é¢˜
*/</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;serviceWorker&quot;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker
      <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;/service-worker.js&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†ŒæˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œå¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-9-å¤šè¿›ç¨‹æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_4-9-å¤šè¿›ç¨‹æ‰“åŒ…" aria-hidden="true">#</a> 4.9 å¤šè¿›ç¨‹æ‰“åŒ…</h3><p>webpack ä¸­å¯ç”¨å¤šè¿›ç¨‹æ‰“åŒ…éœ€è¦ä½¿ç”¨<code>thread-loader</code></p><p>**æ³¨æ„ï¼š**å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…ä¸ä¸€å®šä¼šè®©æ‰“åŒ…é€Ÿåº¦æ›´åŠ å¿«ï¼Œå› ä¸ºè¿›ç¨‹å¯åŠ¨å’Œé€šä¿¡ä¹‹é—´ä¹Ÿæœ‰æ—¶é—´å¼€é”€ï¼Œåªæœ‰å½“å·¥ä½œæ¶ˆè€—æ—¶é—´æ¯”è¾ƒé•¿ï¼Œæ¯”å¦‚æœ‰å¾ˆå¤š js ä»£ç çš„æ—¶å€™ï¼Œæ‰éœ€è¦å¤šè¿›ç¨‹æ‰“åŒ…</p><div class="language-text" data-ext="text"><pre class="language-text"><code>npm i thread-lodaer -D
</code></pre></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// ä½†æ˜¯éœ€è¦æ³¨æ„ä¸èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªé…ç½®åŒ¹é…åŒä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ‹¿å‡ºä¸€ä¸ªjsé…ç½®åˆ°å¤–é¢</span>
                <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token comment">// ä¸€èˆ¬å¤šè¿›ç¨‹æ‰“åŒ…éƒ½æ˜¯å’Œbabelä¸€èµ·ä½¿ç”¨</span>
                            <span class="token punctuation">{</span>
                                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;thread-loader&#39;</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                    <span class="token literal-property property">workers</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// ä¸¤ä¸ªè¿›ç¨‹</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{</span>
                                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                        <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
                                        <span class="token punctuation">{</span>
                                            <span class="token comment">// æŒ‰éœ€åŠ è½½</span>
                                            <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
                                            <span class="token comment">// æŒ‡å®šcore-jsç‰ˆæœ¬</span>
                                            <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                                <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span>
                                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                            <span class="token comment">// æŒ‡å®šå…¼å®¹å“ªä¸ªç‰ˆæœ¬æµè§ˆå™¨</span>
                                            <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                                <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
                                                <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
                                                <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">&#39;9&#39;</span><span class="token punctuation">,</span>
                                                <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
                                                <span class="token literal-property property">edge</span><span class="token operator">:</span> <span class="token string">&#39;17&#39;</span>
                                            <span class="token punctuation">}</span>
                                        <span class="token punctuation">}</span>
                                    <span class="token punctuation">]</span>ï¼Œ
                                    <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// å¼€å¯babelç¼“å­˜ï¼Œç¬¬äºŒæ¬¡æ„å»ºæ—¶ä¼šè¯»å–ä¹‹å‰çš„ç¼“å­˜</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-10-externals" tabindex="-1"><a class="header-anchor" href="#_4-10-externals" aria-hidden="true">#</a> 4.10 externals</h3><p>åœ¨å‰é¢ä¹Ÿè¯´åˆ°è¿‡ï¼Œå½“æˆ‘ä»¬å¼•å…¥å…¨å±€çš„åº“çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨ externalsï¼Œä½¿ç”¨ externals å¯ä»¥è®© webpack å¼ºåˆ¶ä¸æ‰“åŒ…å†…éƒ¨æŒ‡å®šçš„åŒ…ï¼Œè¦ä½¿ç”¨çš„æ—¶å€™ç›´æ¥ä» script æ ‡ç­¾è·å–ï¼Œèµ·åˆ°å‡å°‘æ‰“åŒ…ä½“ç§¯çš„ä½œç”¨ã€‚</p><h3 id="_4-11-dll" tabindex="-1"><a class="header-anchor" href="#_4-11-dll" aria-hidden="true">#</a> 4.11 dll</h3><p>**ä½¿ç”¨ dll æŠ€æœ¯ï¼Œå¯¹æŸäº›åº“ï¼ˆç¬¬ä¸‰æ–¹åº“ï¼šjqueryã€reactã€vue...ï¼‰ç­‰è¿›è¡Œå•ç‹¬æ‰“åŒ…ã€‚**dll å·²ç»ç”± webpack è¿›è¡Œé›†æˆè¿‡äº†</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// webpack.dll.js</span>
<span class="token comment">/*
    è¯¥æ–‡ä»¶åä¸ºwebpack.dll.jsï¼Œæ‰€ä»¥åœ¨è¿è¡Œæ‰“åŒ…æ—¶æ˜¯ webpack --config webpack.dll.js æ¥æ‰“åŒ…å¤–éƒ¨åº“
*/</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æœ€ç»ˆæ‰“åŒ…ç”Ÿæˆçš„[name] --&gt; jquery</span>
    <span class="token comment">// [&#39;jquery&#39;] --&gt; è¦æ‰“åŒ…ç”Ÿæˆçš„åº“å«jquery</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jquery&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash]&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…çš„åº“é‡Œé¢å‘å¤–é¢æš´éœ²å‡ºå»çš„å†…å®¹å«ä»€ä¹ˆåå­—ï¼Œç›¸å½“äºå°±æ˜¯å…¨å±€å˜é‡å</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash]&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ˜ å°„åº“çš„æš´éœ²çš„å†…å®¹åç§°</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AddAssetHtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;add-asset-html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;built.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å‘Šè¯‰webpackå“ªäº›åº“ä¸å‚ä¸æ‰“åŒ…ï¼ŒåŒæ—¶ä½¿ç”¨åç§°ä¹Ÿä¼šæ”¹å˜</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// é€šè¿‡æ˜ å°„æ¥å¯»æ‰¾</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dll/manifest.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å°†æŸä¸ªæ–‡ä»¶æ‰“åŒ…å‡ºå»ï¼Œæ¯”ä½ htmlèµ„æºä¸­å¼•å…¥</span>
    <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dll/jquery.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-é…ç½®è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_5-é…ç½®è¯¦è§£" aria-hidden="true">#</a> 5. é…ç½®è¯¦è§£</h2><h3 id="_5-1-entry" tabindex="-1"><a class="header-anchor" href="#_5-1-entry" aria-hidden="true">#</a> 5.1 entry</h3><p>entry æ˜¯ webpack æ‰“åŒ…çš„å…¥å£èµ·ç‚¹ ï¼Œè¯¥å…¥å£å¯ä»¥ä½¿ç”¨å¤šç§å½¢å¼æ‰“åŒ…ï¼š</p><ul><li><p>stringï¼š</p><p>å•å…¥å£ï¼Œæ‰“åŒ…å½¢æˆä¸€ä¸ª chunkï¼Œè¾“å‡ºä¸€ä¸ª bundle æ–‡ä»¶ï¼Œæ­¤æ—¶ chunk çš„åç§°é»˜è®¤æ˜¯ main</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>[]:stringï¼š</p><p>å¤šå…¥å£ï¼Œæ‰€æœ‰å…¥å£æ–‡ä»¶æœ€ç»ˆä¼šå½¢æˆä¸€ä¸ª chunkï¼Œè¾“å‡ºä¸€ä¸ª bundle æ–‡ä»¶ï¼Œä¸€èˆ¬å¯ä»¥ç”¨æ¥å¤„ç† hmr ä¸­çš„ html çƒ­æ›´æ–°çš„é—®é¢˜</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./src/home.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>objectï¼š</p><p>å¤šå…¥å£ï¼Œæœ‰å‡ ä¸ªå…¥å£æ–‡ä»¶å°±å½¢æˆå‡ ä¸ª chunkï¼Œä¼šè¾“å‡ºå¤šä¸ª bundle æ–‡ä»¶ï¼Œæ­¤æ—¶ chunk çš„åç§°ä¸º key</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸‹é¢çš„ä»£ç æœ€ç»ˆä¼šè¡Œ2ä¸ªbundleæ–‡ä»¶</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤šå…¥å£ï¼Œæ‰€æœ‰å…¥å£æ–‡ä»¶æœ€ç»ˆä¼šå½¢æˆä¸€ä¸ªchunkï¼Œè¾“å‡ºä¸€ä¸ªbundleæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºindex</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./src/home.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// å½¢æˆä¸€ä¸ªchunkï¼Œè¾“å‡ºä¸€ä¸ªbundle</span>
    <span class="token literal-property property">add</span><span class="token operator">:</span> <span class="token string">&quot; ./src/add.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸€èˆ¬è¿™ç§æƒ…å†µå¯ä»¥è®©æˆ‘ä»¬å•ç‹¬æ‰“åŒ…ç¬¬ä¸‰æ–¹åº“ï¼š</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jquery&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul><h3 id="_5-2-output" tabindex="-1"><a class="header-anchor" href="#_5-2-output" aria-hidden="true">#</a> 5.2 output</h3><p>output æ˜¯ webpack æ‰“åŒ…çš„å‡ºå£</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ–‡ä»¶åç§°ï¼ˆæŒ‡å®šåç§°+ç›®å½•ï¼‰</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;js/[name].js&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•ï¼ˆå°†æ¥æ‰€æœ‰èµ„æºè¾“å‡ºçš„å…¬å…±ç›®å½•ï¼‰</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// æ‰€æœ‰èµ„æºå¼•å…¥å…¬å…±è·¯å¾„ï¼Œå¦‚å°†å‰é¢æˆ‘ä»¬å†™çš„js/[name].jsï¼Œåœ¨å¼•å…¥çš„æ—¶å€™ä¼šæˆä¸º/js/[name].js</span>
        <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;js/[name]_chunk.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// éå…¥å£chunkçš„åç§°</span>
        <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å‘å¤–æš´éœ²åº“çš„å˜é‡å</span>
        <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">&#39;window&#39;</span> <span class="token comment">// å˜é‡åæ·»åŠ åˆ°é‚£ä¸ªå¯¹è±¡ä¸‹ï¼ˆä¸å¡«å°±ä¸ºä¸€ä¸ªå…¨å±€å˜é‡çš„å½¢å¼ï¼‰</span>
        <span class="token comment">/*
        å¦‚ï¼š
            browserï¼šwindow
            nodeï¼šglobal
            commonjsæ¨¡å—å†…éƒ¨å¼•å…¥ï¼šcommonjs
        */</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-module" tabindex="-1"><a class="header-anchor" href="#_5-3-module" aria-hidden="true">#</a> 5.3 module</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// loaderé…ç½®</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// å¤šä¸ªloaderä½¿ç”¨use</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤node_modulesä¸‹çš„jsæ–‡ä»¶</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// åªæ£€æŸ¥srcä¸‹çš„jsæ–‡ä»¶</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// ä¼˜å…ˆæ‰§è¡Œ</span>
        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// å»¶åæ‰§è¡Œ</span>
        <span class="token comment">// enforce: &#39;post&#39;</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å•ä¸ªloaderä½¿ç”¨loaderï¼Œå¯ä»¥é…ç½®options</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-resolve" tabindex="-1"><a class="header-anchor" href="#_5-4-resolve" aria-hidden="true">#</a> 5.4 resolve</h3><p>resolve ç”¨äºé…ç½® webpack è§£ææ¨¡å—è§„åˆ™</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§£ææ¨¡å—çš„è§„åˆ™</span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// é…ç½®è§£ææ¨¡å—è·¯å¾„åˆ«åã€‚ä¼˜ç‚¹ï¼šç®€å†™è·¯å¾„ã€‚ç¼ºç‚¹ï¼šæ²¡æœ‰è·¯å¾„æ™ºèƒ½æç¤ºã€‚ï¼ˆå¯ä»¥ä½¿ç”¨tsæˆ–ç¼–è¯‘å™¨é…ç½®ï¼‰</span>
        <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">$css</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/css&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span>
        <span class="token comment">// é…ç½®çœç•¥æ–‡ä»¶è·¯å¾„çš„åç¼€åï¼ŒæŒ‰ç…§æ•°ç»„é¡ºåºä¾æ¬¡å¯»æ‰¾</span>
        <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.css&#39;</span><span class="token punctuation">]</span>
        <span class="token comment">// å‘Šè¯‰webpackè§£ææ¨¡å—æ˜¯å»å“ªä¸ªç›®å½•å¯»æ‰¾</span>
        <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-5-devserver" tabindex="-1"><a class="header-anchor" href="#_5-5-devserver" aria-hidden="true">#</a> 5.5 devServer</h3><p>devServer ä¸“é—¨ç”¨æ¥é…ç½® webpack å¼€å‘ç¯å¢ƒçš„æœåŠ¡é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿è¡Œä»£ç çš„ç›®å½•</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ç›‘è§†contentBaseç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸€æ—¦æ–‡ä»¶å‘ç”Ÿå˜åŒ–å°±ä¼šreload</span>
    <span class="token literal-property property">watchContentBase</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¿½ç•¥æ–‡ä»¶</span>
      <span class="token literal-property property">ignored</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// å¯åŠ¨gzipå‹ç¼©</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ç«¯å£å·</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    <span class="token comment">// åŸŸå</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// å¼€å¯hmråŠŸèƒ½</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ä¸éœ€è¦æ˜¾ç¤ºå¯åŠ¨æœåŠ¡å™¨æ—¥å¿—ä¿¡æ¯</span>
    <span class="token literal-property property">clientLogLevel</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// é™¤äº†ä¸€äº›åŸºæœ¬å¯åŠ¨ä¿¡æ¯ä»¥ä¸ºï¼Œä¸æ‰“å°å…¶ä»–å†…å®¹</span>
    <span class="token literal-property property">quiet</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// å¦‚æœå‡ºé”™äº†ï¼Œä¸éœ€è¦å…¨å±æç¤º</span>
    <span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// æœåŠ¡å™¨ä»£ç†</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;/api&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä»£ç†åœ°å€</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// è·¯å¾„é‡å†™</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&quot;^/api&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-6-optimization" tabindex="-1"><a class="header-anchor" href="#_5-6-optimization" aria-hidden="true">#</a> 5.6 optimization</h3><p>optimization ä¸“é—¨ç”¨æ¥å¤„ç† webpack æ‰“åŒ…æ—¶æ€§èƒ½ä¼˜åŒ–çš„éƒ¨åˆ†</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> TerserWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;terser-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤„ç†å…¬å…±ä»£ç æ‰“åŒ…</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// ä¸‹é¢çš„é…ç½®éƒ½æ˜¯é»˜è®¤å€¼</span>
      <span class="token comment">/*
          minSize: 30 * 1024, // åˆ†å‰²çš„chunkæœ€å°ä¸º30kb
          maxSize: 0, // æœ€å¤§æ²¡æœ‰é™åˆ¶
          minChunks: 1, // è¦æå–çš„chunkæœ€å°‘è¢«å¼•ç”¨ä¸€æ¬¡
          maxAsyncRequests: 5, // æŒ‰éœ€åŠ è½½æ—¶å¹¶è¡ŒåŠ è½½æ–‡ä»¶çš„æœ€å¤§æ•°é‡
          maxInitialRequests: 3, // å…¥å£jsæœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°é‡
          name: true, // å¯ä»¥ä½¿ç”¨å‘½åè§„åˆ™ï¼Œå¼€å¯åä¸‹é¢çš„å‘½åç›¸å…³çš„å£°æ˜è§„åˆ™å°±å¯ä»¥ç”Ÿæ•ˆ
          automaticNameDelimiter: &#39;~&#39;, // åç§°è¿æ¥ç¬¦ï¼Œæ‰“åŒ…åæ–‡ä»¶åä»¥~è¿æ¥
          cacheGroups: { // åˆ†å‰²chunkçš„ç»„
              // ä¸‹é¢çš„é”®æ˜¯åˆ†å‰²åç»„çš„åç§°
              // node_modulesæ–‡ä»¶ä¼šè¢«æ‰“åŒ…åˆ°vendorsç»„çš„chunkä¸­ï¼Œç”Ÿæˆvendors~xxx.js
              // åŒæ—¶æ‰€æœ‰åˆ†ç»„å‡æ»¡è¶³ä¸Šé¢æ‰€å†™çš„æ‰€æœ‰è§„åˆ™ï¼Œå¦‚æœåœ¨ä¸‹é¢é‡å¤å†™äº†ä¼šè¦†ç›–æ‰ä¸Šé¢çš„
              vendors: {
                  // åªåˆ†å‰²node_modulesä¸­çš„
                  test: /[\\/]node_modules[\\/]/,
                  // ä¼˜å…ˆçº§ï¼Œå†²çªæ—¶ä¼šæ ¹æ®ä¼˜å…ˆçº§å¤§å°æ‰“åŒ…
                  priority: -10
              },
              default: {
                  // è¦æå–çš„chunkæœ€å°‘è¢«å¼•ç”¨2æ¬¡
                  minChunks: 2,
                  priority: -20,
                  // å¦‚æœå½“å‰è¢«æ‰“åŒ…çš„æ¨¡å—å’Œå·²è¢«æå‡ºçš„æ¨¡å—æ˜¯åŒä¸€ä¸ªï¼Œå°±ä¸ä¼šé‡å¤æ‰“åŒ…
                  reuseExistingChunk: true
              }
          }
              */</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// å°†å½“å‰æ¨¡å—çš„è®°å½•å…¶ä»–æ¨¡å—çš„hashå•ç‹¬æ‰“åŒ…ä¸ºä¸€ä¸ªæ–‡ä»¶runtimeï¼Œç”¨äºè§£å†³ä¿®æ”¹aæ–‡ä»¶æ—¶å¯¼è‡´bæ–‡ä»¶contenthashå˜åŒ–æ‰€äº§ç”Ÿçš„å½±å“</span>
    <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">entrypoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">runtime-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// é…ç½®ç”Ÿäº§ç¯å¢ƒçš„å‹ç¼©æ–¹æ¡ˆï¼šjså’Œcss</span>
      <span class="token comment">/*
                åœ¨webpack 4.2.6ä¹‹åä½¿ç”¨çš„æ˜¯terser-webpack-pluginè¿›è¡Œä»£ç å‹ç¼©
            */</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// å¼€å¯ç¼“å­˜</span>
        <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…</span>
        <span class="token literal-property property">parallel</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// å¯åŠ¨source-map</span>
        <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-webpack-é…ç½®æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_6-webpack-é…ç½®æ¨¡æ¿" aria-hidden="true">#</a> 6. webpack é…ç½®æ¨¡æ¿</h2><h3 id="_6-1-åŸºæœ¬æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_6-1-åŸºæœ¬æ¨¡æ¿" aria-hidden="true">#</a> 6.1 åŸºæœ¬æ¨¡æ¿</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> optimizeCssAssetsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;optimize-css-assets-webpack-plugin&#39;</span><span class="token punctuation">)</span>

process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span>
  <span class="token operator">?</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span>
  <span class="token operator">:</span> <span class="token string">&#39;development&#39;</span>

<span class="token keyword">const</span> isDev <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;development&#39;</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>

<span class="token comment">// å¤ç”¨loader</span>
<span class="token keyword">const</span> commonCSSLoader <span class="token operator">=</span> <span class="token punctuation">[</span>
  MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
  <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">ident</span><span class="token operator">:</span> <span class="token string">&#39;postcss&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;js/built.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// loader</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// ä¼˜å…ˆæ‰§è¡Œ</span>
        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">/*
          package.jsoné‡Œé¢å†™ä¸Š&quot;eslintConfig&quot;:{
            &quot;extends&quot;:&#39;airbnb-base&quot;
          }
        */</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// ä½†æ˜¯éœ€è¦æ³¨æ„ä¸èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªé…ç½®åŒ¹é…åŒä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ‹¿å‡ºä¸€ä¸ªjsé…ç½®åˆ°å¤–é¢</span>
        <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token operator">...</span><span class="token punctuation">(</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span> <span class="token operator">:</span> commonCSSLoader<span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token string">&#39;less-loader&#39;</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">(</span>isDev <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span> <span class="token operator">:</span> commonCSSLoader<span class="token punctuation">)</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token comment">// æŒ‰éœ€åŠ è½½</span>
                  <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
                  <span class="token comment">// æŒ‡å®šcore-jsç‰ˆæœ¬</span>
                  <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token comment">// æŒ‡å®šå…¼å®¹å“ªä¸ªç‰ˆæœ¬æµè§ˆå™¨</span>
                  <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">&#39;9&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">edge</span><span class="token operator">:</span> <span class="token string">&#39;17&#39;</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span>ï¼Œ
             <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// å¼€å¯babelç¼“å­˜ï¼Œç¬¬äºŒæ¬¡æ„å»ºæ—¶ä¼šè¯»å–ä¹‹å‰çš„ç¼“å­˜</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[hash:10].[ext]&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;imgs&#39;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token comment">// htmlèµ„æº</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;html-loader&#39;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(html|css|less|js|jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[hash:10].[ext]&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;media&#39;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">removeAttributeQuotes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åˆ é™¤å±æ€§çš„åŒå¼•å·ï¼Œé™¤äº†ä¸€äº›ç‰¹æ®Šçš„åˆ é™¤ä¸äº†ä»¥å¤–éƒ½èƒ½åˆ é™¤</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æŠ˜å ç©ºè¡Œå°†æ‰€æœ‰ä»£ç å˜æˆä¸€è¡Œ</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// ç§»é™¤æ³¨é‡Š</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// æŠ½ç¦»css</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/built.css&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å‹æ¦¨css</span>
    <span class="token keyword">new</span> <span class="token class-name">optimizeCssAssetsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®" tabindex="-1"><a class="header-anchor" href="#_6-2-å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®" aria-hidden="true">#</a> 6.2 å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/js/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;js/built.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// loaderçš„é…ç½®</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// å¤„ç†lessèµ„æº</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// å¤„ç†cssèµ„æº</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// å¤„ç†å›¾ç‰‡èµ„æº</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[hash:10].[ext]&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// å…³é—­es6æ¨¡å—åŒ– esModule: false, outputPath: &#39;imgs&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// å¤„ç†htmlä¸­imgèµ„æº</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;html-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// å¤„ç†å…¶ä»–èµ„æº</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(html|js|css|less|jpg|png|gif)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[hash:10].[ext]&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;media&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// pluginsçš„é…ç½®</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-ç”Ÿäº§ç¯å¢ƒçš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#_6-3-ç”Ÿäº§ç¯å¢ƒçš„é…ç½®" aria-hidden="true">#</a> 6.3 ç”Ÿäº§ç¯å¢ƒçš„é…ç½®</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>
  resolve
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> OptimizeCssAssetsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;optimize-css-assets-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å®šä¹‰nodejsç¯å¢ƒå˜é‡ï¼šå†³å®šä½¿ç”¨browserslistçš„å“ªä¸ªç¯å¢ƒ</span>
process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// å¤ç”¨loader const commonCssLoader = [</span>
MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
  <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿˜éœ€è¦åœ¨package.jsonä¸­å®šä¹‰browserslist loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;,</span>
    <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;js/built.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>commonCssLoader<span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>commonCssLoader<span class="token punctuation">,</span> <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">/*
      æ­£å¸¸æ¥è®²ï¼Œä¸€ä¸ªæ–‡ä»¶åªèƒ½è¢«ä¸€ä¸ªloaderå¤„ç†ã€‚
      å½“ä¸€ä¸ªæ–‡ä»¶è¦è¢«å¤šä¸ªloaderå¤„ç†ï¼Œé‚£ä¹ˆä¸€å®šè¦æŒ‡å®šloaderæ‰§è¡Œçš„å…ˆåé¡ºåºï¼š
      å…ˆæ‰§è¡Œeslint åœ¨æ‰§è¡Œbabel
      */</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åœ¨package.jsonä¸­eslintConfig --&gt; airbnb test: /\.js$/, exclude: /node_modules/,</span>
        <span class="token comment">// ä¼˜å…ˆæ‰§è¡Œ</span>
        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span>
              <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">&#39;50&#39;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[hash:10].[ext]&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;imgs&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;html-loader&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|css|less|html|jpg|png|gif)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;media&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/built.css&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCssAssetsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/HarryXiong24/HarryXiong24.github.io/edit/main/src/zh/front-end/webpack/webpack.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: harryxiong24@gmail.com">harryxiong24</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.5</div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><!----></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-4b15eca5.js" defer></script>
  </body>
</html>
